import{j as e,r as i}from"./main-a__i0QSU.js";import{u as m,B as u}from"./appConfig-Bmk701zo.js";import{u as g,y as b,L as j}from"./index-F4ZMcLMJ.js";import{u as y}from"./useMutation-BZ9fjo3f.js";import{c}from"./createLucideIcon-CkD3SDnu.js";/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=[["path",{d:"M10 10v4",key:"1mb2ec"}],["path",{d:"M14 10v4",key:"1nt88p"}],["path",{d:"M22 14v-4",key:"14q9d5"}],["path",{d:"M6 10v4",key:"1n77qd"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]],f=c("battery-full",v);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],_=c("map-pin",N),w="https://demetercloud.onrender.com/v1.0",C=async n=>(await fetch(`${w}/robots`,{method:"POST",headers:new Headers({"content-type":"application/json",Authorization:`Bearer ${localStorage.getItem("access_token")}`}),body:JSON.stringify(n)})).json();function F({onBack:n}){const d=()=>b("Robot has been added Successfully !"),a=g({defaultValues:{robot_uuid:"a1b2c3d4-5678-4def-9012-3456abcdef12",robot_name:"robot-1",robot_type:"Spraying",hardware_version:"v2.1",software_version:"v3.1",deploy_id:"9b57b8a6-3cf7-4b60-b69b-83a43a6c19ff",firmware_version:"v4.1",ip_address:"10.0.4.25",mac_address:"AA:BB:CC:DD:EE:FF",robot_model:"WB-900"},onSubmit:async({value:s})=>{const t={robot_uuid:s.robot_uuid,robot_name:s.robot_name,robot_type:s.robot_type,hardware_version:s.hardware_version,software_version:s.software_version,deploy_id:s.deploy_id,firmware_version:s.firmware_version,ip_address:s.ip_address,mac_address:s.mac_address,robot_model:s.robot_model};l.mutate(t)}}),l=y({mutationFn:C,onSuccess:()=>{d()}});return e.jsx("div",{style:{height:"250px",width:"1000px",backgroundColor:"white",marginLeft:"100px",marginTop:"10px",borderRadius:"10px"},children:e.jsxs("form",{onSubmit:s=>{s.preventDefault(),s.stopPropagation(),a.handleSubmit()},children:[e.jsxs("div",{className:"flex gap-2 h-61",children:[e.jsxs("div",{className:"flex flex-col gap-1 p-3 border-1 rounded-xl w-110",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"",className:"text-xs  text-gray-400",children:"Robot Name"}),e.jsx("br",{}),e.jsx(a.Field,{name:"robot_name",children:s=>e.jsx("input",{type:"text",value:s.state.value,onChange:t=>s.handleChange(t.target.value),placeholder:"robo-1",className:" bg-gray-100 rounded w-105  p-1.5 text-xs ",required:!0})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"",className:"text-xs text-gray-400",children:"Robot UUID"}),e.jsx("br",{}),e.jsx(a.Field,{name:"robot_uuid",children:s=>e.jsx("input",{type:"text",value:s.state.value,onChange:t=>s.handleChange(t.target.value),placeholder:"9xxxxxxxx-3xxx-4xxx-bxx-8xxxxxxxxxf",className:"bg-gray-100 rounded w-105  p-1.5 text-xs",required:!0})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"",className:"text-xs  text-gray-400",children:"Deploy ID"}),e.jsx("br",{}),e.jsx(a.Field,{name:"deploy_id",children:s=>e.jsx("input",{type:"text",value:s.state.value,onChange:t=>s.handleChange(t.target.value),placeholder:"Dxxxxx-xxx-xxx-xxx-xxx",className:"bg-gray-100 rounded w-105 p-1.5 text-[10px] ",required:!0})})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"",className:"text-xs  text-gray-400",children:"Robot Type"}),e.jsx("br",{}),e.jsx(a.Field,{name:"robot_type",children:s=>e.jsx("select",{value:s.state.value,onChange:t=>s.handleChange(t.target.value),className:"bg-gray-100 rounded w-52  p-1.5 text-xs",children:e.jsx("option",{value:"",children:"Robot Type"})})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"",className:"text-xs  text-gray-400",children:"Robot Model"}),e.jsx("br",{}),e.jsx(a.Field,{name:"robot_model",children:s=>e.jsx("input",{type:"text",value:s.state.value,onChange:t=>s.handleChange(t.target.value),placeholder:"Agribot HV-500",className:"bg-gray-100 rounded w-52  p-1.5 text-[10px]",required:!0})})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-col gap-4 p-2 border-1 rounded-xl w-130 h-31",children:[e.jsx("div",{className:"text-xs",children:"Technical Configuration"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"",className:"text-xs  text-gray-400",children:"Hardware Version"}),e.jsx("br",{}),e.jsx(a.Field,{name:"hardware_version",children:s=>e.jsx("input",{type:"text",value:s.state.value,onChange:t=>s.handleChange(t.target.value),placeholder:"v2.3.1",className:" bg-gray-100 rounded w-40  p-1.5 text-[10px]",required:!0})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"",className:"text-xs  text-gray-400",children:"Software Version"}),e.jsx("br",{}),e.jsx(a.Field,{name:"software_version",children:s=>e.jsx("input",{type:"text",value:s.state.value,onChange:t=>s.handleChange(t.target.value),placeholder:"v3.4.1",className:" bg-gray-100 rounded w-40  p-1.5 text-[10px]",required:!0})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"",className:"text-xs  text-gray-400",children:"Firm Version"}),e.jsx("br",{}),e.jsx(a.Field,{name:"firmware_version",children:s=>e.jsx("input",{type:"text",value:s.state.value,onChange:t=>s.handleChange(t.target.value),placeholder:"v6.1.1",className:" bg-gray-100 rounded w-40 p-1.5 text-[10px]",required:!0})})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-1 border-1 p-2 rounded-xl w-130 h-28",children:[e.jsx("div",{className:"text-xs",children:"Network Configuration"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"",className:"text-xs  text-gray-400",children:"IP Address"}),e.jsx("br",{}),e.jsx(a.Field,{name:"ip_address",children:s=>e.jsx("input",{type:"text",value:s.state.value,onChange:t=>s.handleChange(t.target.value),placeholder:"e.g 198.123.19.1",className:"bg-gray-100 rounded w-62 p-1.5 text-[10px]",required:!0})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"",className:"text-xs  text-gray-400",children:"Mac Address"}),e.jsx("br",{}),e.jsx(a.Field,{name:"mac_address",children:s=>e.jsx("input",{type:"text",value:s.state.value,onChange:t=>s.handleChange(t.target.value),placeholder:"D8:9E:F3:12:AB:CD",className:"bg-gray-100 rounded w-62 p-1.5 text-[10px]",required:!0})})]})]})]})]})]}),e.jsxs("div",{className:"flex gap-2 mt-3 mr-8 float-right",children:[e.jsx("button",{className:"px-5 py-1 border-1 rounded text-[10px]  text-black  text-center cursor-pointer",type:"button",onClick:n,children:"Back"}),e.jsx("button",{className:"px-2 py-1 rounded text-[10px] bg-[#0ed78d] text-white text-center cursor-pointer",type:"submit",children:"Add Robot"})]}),e.jsx(j,{})]})})}async function k(n,d){const l=await(await fetch(`${u}/robots?page=${n}&page_size=${d}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("access_token")}`}})).json();return console.log(l),l.data}function D(){const[n,d]=i.useState(!1),[a,l]=i.useState(1),[s,t]=i.useState(5),{data:o,isLoading:h,isError:p}=m({queryKey:["robots",{page:a,page_size:s}],queryFn:()=>k(a,s)}),x=[];if(o)for(let r=1;r<=Math.ceil((o==null?void 0:o.pagination_info.total_records)/s);r++)x.push(r);return h?e.jsx("p",{children:"Loading robots..."}):p?e.jsx("p",{children:"Error at Fetching Robots"}):(console.log(o),n?e.jsx(F,{onBack:()=>d(!1)}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"bg-gray-200 rounded p-1 mb-2 w-full",children:[e.jsx("span",{className:"text-gray-400 text-xs font-serif",children:"Total Robots : "}),e.jsxs("span",{className:"text-xs",children:[o.pagination_info.total_records," "]}),e.jsx("button",{type:"button",className:"rounded px-1 mt-0.5 py-0.5 text-[10px] bg-[#0ed78d] text-center text-white cursor-pointer float-right",onClick:()=>d(!0),children:" + New Robot"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 pb-10",children:o==null?void 0:o.records.map(r=>e.jsxs("div",{className:"relative bg-white border shadow-xl rounded-2xl p-4 w-full max-w-xs backdrop-blur-sm transition-transform hover:scale-[1.02]",children:[e.jsx("div",{className:"mb-3 flex items-center justify-between",children:e.jsxs("h3",{className:"text-sm font-bold text-green-800",children:["ðŸ¤– ",r.robot_name]})}),e.jsxs("ul",{className:"text-sm space-y-3 text-gray-700",children:[e.jsxs("li",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"IP Address"}),e.jsx("span",{className:"text-sm font-mono",children:r.ip_address})]}),e.jsxs("li",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-1 font-medium text-gray-600",children:[e.jsx(_,{size:14,className:"text-emerald-600"}),e.jsx("span",{className:"text-xs",children:"Location"})]}),e.jsx("span",{className:"text-sm",children:"Hyderabad"})]}),e.jsxs("li",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-1 font-medium text-gray-600",children:[e.jsx(f,{size:14,className:"text-lime-600"}),e.jsx("span",{className:"text-xs",children:"Battery"})]}),e.jsxs("div",{className:"text-sm font-semibold text-lime-700 flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-lime-500 animate-pulse"}),"75%"]})]})]})]},r.id))}),e.jsx("div",{className:"w-full fixed bottom-0 left-0 right-0 rounded shadow-2xl border bg-white border-gray-300 ",children:e.jsxs("div",{className:"flex items-center justify-between p-0.5  text-xs ",children:[e.jsxs("div",{children:[e.jsx("span",{children:"Result per page "}),e.jsxs("select",{className:"border rounded p-0.5",value:s,onChange:r=>{t(Number(r.target.value)),l(1)},children:[e.jsx("option",{value:"5",children:"5 pages"}),e.jsx("option",{value:"10",children:"10 pages"}),e.jsx("option",{value:"15",children:"15 pages"})]})]}),e.jsxs("span",{children:[e.jsx("button",{disabled:a===1,onClick:()=>l(r=>r-1),className:"px-2 py-1  text-xs rounded disabled:opacity-50 cursor-pointer bg-gray-200",children:"Previous"}),x.map(r=>e.jsx("button",{className:`text-xs px-2 m-0.5 py-1 border rounded-2xl cursor-pointer ${a===r?"bg-black text-white":"hover:bg-gray-300"}`,onClick:()=>{l(r)},children:r})),e.jsx("button",{disabled:a===o.pagination_info.total_pages,onClick:()=>l(r=>r+1),className:"px-4 py-1 mr-1 text-xs rounded disabled:opacity-50 cursor-pointer bg-gray-200",children:"Next"})]})]})})]})}))}export{D as A};
