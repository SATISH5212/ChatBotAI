import{r as n,j as e}from"./main-a__i0QSU.js";import{M as m,T as d,F as u,E as x,P as f,p as h,a as j,c as C}from"./EditControl-C7-4fcAb.js";const F=()=>{const[t,l]=n.useState([]),[L,M]=n.useState(null),c=async i=>{const{layerType:s,layer:p}=i;if(console.log("layerType:",s),s==="polygon"||s==="rectangle"){const r=p.getLatLngs()[0].map(o=>({lat:o.lat,lng:o.lng}));l(r);const g=[...r,r[0]],a=h([g.map(o=>[o.lat,o.lng])]);j(a);const y=C(a),[E,S]=y.geometry.coordinates}};return e.jsx("div",{className:"min-w-full h-screen",children:e.jsxs(m,{center:[17.385,78.4867],zoom:13,className:"w-full h-screen",children:[e.jsx(d,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"}),e.jsxs(u,{children:[e.jsx(x,{position:"topleft",onCreated:c,draw:{rectangle:!0,circle:!1,circlemarker:!1,polygon:!0,marker:!0,polyline:!1}}),t.length>0&&e.jsx(f,{positions:t})]})]})})};export{F as M};
