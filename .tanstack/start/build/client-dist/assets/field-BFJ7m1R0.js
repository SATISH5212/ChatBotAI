import{g as Dr,r as H,R as Be,a as Wa,j as O}from"./main-DW_dR780.js";import{u as Ka,y as Ya,L as Xa}from"./index-nbuHeK6L.js";import{u as Ja,B as Qa}from"./appConfig-CqcLvptA.js";var er=63710088e-1;function Or(e,s,o={}){const l={type:"Feature"};return(o.id===0||o.id)&&(l.id=o.id),o.bbox&&(l.bbox=o.bbox),l.properties=s||{},l.geometry=e,l}function tl(e,s,o={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ir(e[0])||!ir(e[1]))throw new Error("coordinates must contain numbers");return Or({type:"Point",coordinates:e},s,o)}function el(e,s,o={}){for(const n of e){if(n.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(n[n.length-1].length!==n[0].length)throw new Error("First and last Position are not equivalent.");for(let a=0;a<n[n.length-1].length;a++)if(n[n.length-1][a]!==n[0][a])throw new Error("First and last Position are not equivalent.")}return Or({type:"Polygon",coordinates:e},s,o)}function ir(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function Ar(e,s,o){if(e!==null)for(var l,n,a,h,d,p,_,g=0,y=0,x,S=e.type,b=S==="FeatureCollection",E=S==="Feature",M=b?e.features.length:1,k=0;k<M;k++){_=b?e.features[k].geometry:E?e.geometry:e,x=_?_.type==="GeometryCollection":!1,d=x?_.geometries.length:1;for(var I=0;I<d;I++){var D=0,Y=0;if(h=x?_.geometries[I]:_,h!==null){p=h.coordinates;var $=h.type;switch(g=$==="Polygon"||$==="MultiPolygon"?1:0,$){case null:break;case"Point":if(s(p,y,k,D,Y)===!1)return!1;y++,D++;break;case"LineString":case"MultiPoint":for(l=0;l<p.length;l++){if(s(p[l],y,k,D,Y)===!1)return!1;y++,$==="MultiPoint"&&D++}$==="LineString"&&D++;break;case"Polygon":case"MultiLineString":for(l=0;l<p.length;l++){for(n=0;n<p[l].length-g;n++){if(s(p[l][n],y,k,D,Y)===!1)return!1;y++}$==="MultiLineString"&&D++,$==="Polygon"&&Y++}$==="Polygon"&&D++;break;case"MultiPolygon":for(l=0;l<p.length;l++){for(Y=0,n=0;n<p[l].length;n++){for(a=0;a<p[l][n].length-g;a++){if(s(p[l][n][a],y,k,D,Y)===!1)return!1;y++}Y++}D++}break;case"GeometryCollection":for(l=0;l<h.geometries.length;l++)if(Ar(h.geometries[l],s)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function il(e,s){var o,l,n,a,h,d,p,_,g,y,x=0,S=e.type==="FeatureCollection",b=e.type==="Feature",E=S?e.features.length:1;for(o=0;o<E;o++){for(d=S?e.features[o].geometry:b?e.geometry:e,_=S?e.features[o].properties:b?e.properties:{},g=S?e.features[o].bbox:b?e.bbox:void 0,y=S?e.features[o].id:b?e.id:void 0,p=d?d.type==="GeometryCollection":!1,h=p?d.geometries.length:1,n=0;n<h;n++){if(a=p?d.geometries[n]:d,a===null){if(s(null,x,_,g,y)===!1)return!1;continue}switch(a.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(s(a,x,_,g,y)===!1)return!1;break}case"GeometryCollection":{for(l=0;l<a.geometries.length;l++)if(s(a.geometries[l],x,_,g,y)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}x++}}function nl(e,s,o){var l=o;return il(e,function(n,a,h,d,p){a===0&&o===void 0?l=n:l=s(l,n,a,h,d,p)}),l}function ol(e){return nl(e,(s,o)=>s+rl(o),0)}function rl(e){let s=0,o;switch(e.type){case"Polygon":return nr(e.coordinates);case"MultiPolygon":for(o=0;o<e.coordinates.length;o++)s+=nr(e.coordinates[o]);return s;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function nr(e){let s=0;if(e&&e.length>0){s+=Math.abs(or(e[0]));for(let o=1;o<e.length;o++)s-=Math.abs(or(e[o]))}return s}var sl=er*er/2,ln=Math.PI/180;function or(e){const s=e.length-1;if(s<=2)return 0;let o=0,l=0;for(;l<s;){const n=e[l],a=e[l+1===s?0:l+1],h=e[l+2>=s?(l+2)%s:l+2],d=n[0]*ln,p=a[1]*ln,_=h[0]*ln;o+=(_-d)*Math.sin(p),l++}return o*sl}var un,rr;function al(){return rr||(rr=1,un=function e(s,o){if(s===o)return!0;if(s&&o&&typeof s=="object"&&typeof o=="object"){if(s.constructor!==o.constructor)return!1;var l,n,a;if(Array.isArray(s)){if(l=s.length,l!=o.length)return!1;for(n=l;n--!==0;)if(!e(s[n],o[n]))return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf)return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString)return s.toString()===o.toString();if(a=Object.keys(s),l=a.length,l!==Object.keys(o).length)return!1;for(n=l;n--!==0;)if(!Object.prototype.hasOwnProperty.call(o,a[n]))return!1;for(n=l;n--!==0;){var h=a[n];if(!e(s[h],o[h]))return!1}return!0}return s!==s&&o!==o}),un}var ll=al();const sr=Dr(ll);function ul(e,s={}){let o=0,l=0,n=0;return Ar(e,function(a){o+=a[0],l+=a[1],n++}),tl([o/n,l/n],s.properties)}function Ir(e,s){return function(){return e.apply(s,arguments)}}const{toString:hl}=Object.prototype,{getPrototypeOf:In}=Object,{iterator:mi,toStringTag:zr}=Symbol,gi=(e=>s=>{const o=hl.call(s);return e[o]||(e[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),kt=e=>(e=e.toLowerCase(),s=>gi(s)===e),vi=e=>s=>typeof s===e,{isArray:_e}=Array,Ne=vi("undefined");function cl(e){return e!==null&&!Ne(e)&&e.constructor!==null&&!Ne(e.constructor)&&yt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Fr=kt("ArrayBuffer");function dl(e){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(e):s=e&&e.buffer&&Fr(e.buffer),s}const fl=vi("string"),yt=vi("function"),Br=vi("number"),yi=e=>e!==null&&typeof e=="object",pl=e=>e===!0||e===!1,ci=e=>{if(gi(e)!=="object")return!1;const s=In(e);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(zr in e)&&!(mi in e)},_l=kt("Date"),ml=kt("File"),gl=kt("Blob"),vl=kt("FileList"),yl=e=>yi(e)&&yt(e.pipe),wl=e=>{let s;return e&&(typeof FormData=="function"&&e instanceof FormData||yt(e.append)&&((s=gi(e))==="formdata"||s==="object"&&yt(e.toString)&&e.toString()==="[object FormData]"))},Ll=kt("URLSearchParams"),[xl,Pl,Sl,Cl]=["ReadableStream","Request","Response","Headers"].map(kt),bl=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function He(e,s,{allOwnKeys:o=!1}={}){if(e===null||typeof e>"u")return;let l,n;if(typeof e!="object"&&(e=[e]),_e(e))for(l=0,n=e.length;l<n;l++)s.call(null,e[l],l,e);else{const a=o?Object.getOwnPropertyNames(e):Object.keys(e),h=a.length;let d;for(l=0;l<h;l++)d=a[l],s.call(null,e[d],d,e)}}function Nr(e,s){s=s.toLowerCase();const o=Object.keys(e);let l=o.length,n;for(;l-- >0;)if(n=o[l],s===n.toLowerCase())return n;return null}const ie=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Hr=e=>!Ne(e)&&e!==ie;function Pn(){const{caseless:e}=Hr(this)&&this||{},s={},o=(l,n)=>{const a=e&&Nr(s,n)||n;ci(s[a])&&ci(l)?s[a]=Pn(s[a],l):ci(l)?s[a]=Pn({},l):_e(l)?s[a]=l.slice():s[a]=l};for(let l=0,n=arguments.length;l<n;l++)arguments[l]&&He(arguments[l],o);return s}const El=(e,s,o,{allOwnKeys:l}={})=>(He(s,(n,a)=>{o&&yt(n)?e[a]=Ir(n,o):e[a]=n},{allOwnKeys:l}),e),Tl=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Ml=(e,s,o,l)=>{e.prototype=Object.create(s.prototype,l),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:s.prototype}),o&&Object.assign(e.prototype,o)},kl=(e,s,o,l)=>{let n,a,h;const d={};if(s=s||{},e==null)return s;do{for(n=Object.getOwnPropertyNames(e),a=n.length;a-- >0;)h=n[a],(!l||l(h,e,s))&&!d[h]&&(s[h]=e[h],d[h]=!0);e=o!==!1&&In(e)}while(e&&(!o||o(e,s))&&e!==Object.prototype);return s},Rl=(e,s,o)=>{e=String(e),(o===void 0||o>e.length)&&(o=e.length),o-=s.length;const l=e.indexOf(s,o);return l!==-1&&l===o},Dl=e=>{if(!e)return null;if(_e(e))return e;let s=e.length;if(!Br(s))return null;const o=new Array(s);for(;s-- >0;)o[s]=e[s];return o},Ol=(e=>s=>e&&s instanceof e)(typeof Uint8Array<"u"&&In(Uint8Array)),Al=(e,s)=>{const l=(e&&e[mi]).call(e);let n;for(;(n=l.next())&&!n.done;){const a=n.value;s.call(e,a[0],a[1])}},Il=(e,s)=>{let o;const l=[];for(;(o=e.exec(s))!==null;)l.push(o);return l},zl=kt("HTMLFormElement"),Fl=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,l,n){return l.toUpperCase()+n}),ar=(({hasOwnProperty:e})=>(s,o)=>e.call(s,o))(Object.prototype),Bl=kt("RegExp"),Zr=(e,s)=>{const o=Object.getOwnPropertyDescriptors(e),l={};He(o,(n,a)=>{let h;(h=s(n,a,e))!==!1&&(l[a]=h||n)}),Object.defineProperties(e,l)},Nl=e=>{Zr(e,(s,o)=>{if(yt(e)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const l=e[o];if(yt(l)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},Hl=(e,s)=>{const o={},l=n=>{n.forEach(a=>{o[a]=!0})};return _e(e)?l(e):l(String(e).split(s)),o},Zl=()=>{},Vl=(e,s)=>e!=null&&Number.isFinite(e=+e)?e:s;function Ul(e){return!!(e&&yt(e.append)&&e[zr]==="FormData"&&e[mi])}const Gl=e=>{const s=new Array(10),o=(l,n)=>{if(yi(l)){if(s.indexOf(l)>=0)return;if(!("toJSON"in l)){s[n]=l;const a=_e(l)?[]:{};return He(l,(h,d)=>{const p=o(h,n+1);!Ne(p)&&(a[d]=p)}),s[n]=void 0,a}}return l};return o(e,0)},$l=kt("AsyncFunction"),jl=e=>e&&(yi(e)||yt(e))&&yt(e.then)&&yt(e.catch),Vr=((e,s)=>e?setImmediate:s?((o,l)=>(ie.addEventListener("message",({source:n,data:a})=>{n===ie&&a===o&&l.length&&l.shift()()},!1),n=>{l.push(n),ie.postMessage(o,"*")}))(`axios@${Math.random()}`,[]):o=>setTimeout(o))(typeof setImmediate=="function",yt(ie.postMessage)),ql=typeof queueMicrotask<"u"?queueMicrotask.bind(ie):typeof process<"u"&&process.nextTick||Vr,Wl=e=>e!=null&&yt(e[mi]),C={isArray:_e,isArrayBuffer:Fr,isBuffer:cl,isFormData:wl,isArrayBufferView:dl,isString:fl,isNumber:Br,isBoolean:pl,isObject:yi,isPlainObject:ci,isReadableStream:xl,isRequest:Pl,isResponse:Sl,isHeaders:Cl,isUndefined:Ne,isDate:_l,isFile:ml,isBlob:gl,isRegExp:Bl,isFunction:yt,isStream:yl,isURLSearchParams:Ll,isTypedArray:Ol,isFileList:vl,forEach:He,merge:Pn,extend:El,trim:bl,stripBOM:Tl,inherits:Ml,toFlatObject:kl,kindOf:gi,kindOfTest:kt,endsWith:Rl,toArray:Dl,forEachEntry:Al,matchAll:Il,isHTMLForm:zl,hasOwnProperty:ar,hasOwnProp:ar,reduceDescriptors:Zr,freezeMethods:Nl,toObjectSet:Hl,toCamelCase:Fl,noop:Zl,toFiniteNumber:Vl,findKey:Nr,global:ie,isContextDefined:Hr,isSpecCompliantForm:Ul,toJSONObject:Gl,isAsyncFn:$l,isThenable:jl,setImmediate:Vr,asap:ql,isIterable:Wl};function U(e,s,o,l,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",s&&(this.code=s),o&&(this.config=o),l&&(this.request=l),n&&(this.response=n,this.status=n.status?n.status:null)}C.inherits(U,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:C.toJSONObject(this.config),code:this.code,status:this.status}}});const Ur=U.prototype,Gr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Gr[e]={value:e}});Object.defineProperties(U,Gr);Object.defineProperty(Ur,"isAxiosError",{value:!0});U.from=(e,s,o,l,n,a)=>{const h=Object.create(Ur);return C.toFlatObject(e,h,function(p){return p!==Error.prototype},d=>d!=="isAxiosError"),U.call(h,e.message,s,o,l,n),h.cause=e,h.name=e.name,a&&Object.assign(h,a),h};const Kl=null;function Sn(e){return C.isPlainObject(e)||C.isArray(e)}function $r(e){return C.endsWith(e,"[]")?e.slice(0,-2):e}function lr(e,s,o){return e?e.concat(s).map(function(n,a){return n=$r(n),!o&&a?"["+n+"]":n}).join(o?".":""):s}function Yl(e){return C.isArray(e)&&!e.some(Sn)}const Xl=C.toFlatObject(C,{},null,function(s){return/^is[A-Z]/.test(s)});function wi(e,s,o){if(!C.isObject(e))throw new TypeError("target must be an object");s=s||new FormData,o=C.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,M){return!C.isUndefined(M[E])});const l=o.metaTokens,n=o.visitor||g,a=o.dots,h=o.indexes,p=(o.Blob||typeof Blob<"u"&&Blob)&&C.isSpecCompliantForm(s);if(!C.isFunction(n))throw new TypeError("visitor must be a function");function _(b){if(b===null)return"";if(C.isDate(b))return b.toISOString();if(C.isBoolean(b))return b.toString();if(!p&&C.isBlob(b))throw new U("Blob is not supported. Use a Buffer instead.");return C.isArrayBuffer(b)||C.isTypedArray(b)?p&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function g(b,E,M){let k=b;if(b&&!M&&typeof b=="object"){if(C.endsWith(E,"{}"))E=l?E:E.slice(0,-2),b=JSON.stringify(b);else if(C.isArray(b)&&Yl(b)||(C.isFileList(b)||C.endsWith(E,"[]"))&&(k=C.toArray(b)))return E=$r(E),k.forEach(function(D,Y){!(C.isUndefined(D)||D===null)&&s.append(h===!0?lr([E],Y,a):h===null?E:E+"[]",_(D))}),!1}return Sn(b)?!0:(s.append(lr(M,E,a),_(b)),!1)}const y=[],x=Object.assign(Xl,{defaultVisitor:g,convertValue:_,isVisitable:Sn});function S(b,E){if(!C.isUndefined(b)){if(y.indexOf(b)!==-1)throw Error("Circular reference detected in "+E.join("."));y.push(b),C.forEach(b,function(k,I){(!(C.isUndefined(k)||k===null)&&n.call(s,k,C.isString(I)?I.trim():I,E,x))===!0&&S(k,E?E.concat(I):[I])}),y.pop()}}if(!C.isObject(e))throw new TypeError("data must be an object");return S(e),s}function ur(e){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(l){return s[l]})}function zn(e,s){this._pairs=[],e&&wi(e,this,s)}const jr=zn.prototype;jr.append=function(s,o){this._pairs.push([s,o])};jr.toString=function(s){const o=s?function(l){return s.call(this,l,ur)}:ur;return this._pairs.map(function(n){return o(n[0])+"="+o(n[1])},"").join("&")};function Jl(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qr(e,s,o){if(!s)return e;const l=o&&o.encode||Jl;C.isFunction(o)&&(o={serialize:o});const n=o&&o.serialize;let a;if(n?a=n(s,o):a=C.isURLSearchParams(s)?s.toString():new zn(s,o).toString(l),a){const h=e.indexOf("#");h!==-1&&(e=e.slice(0,h)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class hr{constructor(){this.handlers=[]}use(s,o,l){return this.handlers.push({fulfilled:s,rejected:o,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){C.forEach(this.handlers,function(l){l!==null&&s(l)})}}const Wr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ql=typeof URLSearchParams<"u"?URLSearchParams:zn,tu=typeof FormData<"u"?FormData:null,eu=typeof Blob<"u"?Blob:null,iu={isBrowser:!0,classes:{URLSearchParams:Ql,FormData:tu,Blob:eu},protocols:["http","https","file","blob","url","data"]},Fn=typeof window<"u"&&typeof document<"u",Cn=typeof navigator=="object"&&navigator||void 0,nu=Fn&&(!Cn||["ReactNative","NativeScript","NS"].indexOf(Cn.product)<0),ou=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ru=Fn&&window.location.href||"http://localhost",su=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Fn,hasStandardBrowserEnv:nu,hasStandardBrowserWebWorkerEnv:ou,navigator:Cn,origin:ru},Symbol.toStringTag,{value:"Module"})),ft={...su,...iu};function au(e,s){return wi(e,new ft.classes.URLSearchParams,Object.assign({visitor:function(o,l,n,a){return ft.isNode&&C.isBuffer(o)?(this.append(l,o.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},s))}function lu(e){return C.matchAll(/\w+|\[(\w*)]/g,e).map(s=>s[0]==="[]"?"":s[1]||s[0])}function uu(e){const s={},o=Object.keys(e);let l;const n=o.length;let a;for(l=0;l<n;l++)a=o[l],s[a]=e[a];return s}function Kr(e){function s(o,l,n,a){let h=o[a++];if(h==="__proto__")return!0;const d=Number.isFinite(+h),p=a>=o.length;return h=!h&&C.isArray(n)?n.length:h,p?(C.hasOwnProp(n,h)?n[h]=[n[h],l]:n[h]=l,!d):((!n[h]||!C.isObject(n[h]))&&(n[h]=[]),s(o,l,n[h],a)&&C.isArray(n[h])&&(n[h]=uu(n[h])),!d)}if(C.isFormData(e)&&C.isFunction(e.entries)){const o={};return C.forEachEntry(e,(l,n)=>{s(lu(l),n,o,0)}),o}return null}function hu(e,s,o){if(C.isString(e))try{return(s||JSON.parse)(e),C.trim(e)}catch(l){if(l.name!=="SyntaxError")throw l}return(o||JSON.stringify)(e)}const Ze={transitional:Wr,adapter:["xhr","http","fetch"],transformRequest:[function(s,o){const l=o.getContentType()||"",n=l.indexOf("application/json")>-1,a=C.isObject(s);if(a&&C.isHTMLForm(s)&&(s=new FormData(s)),C.isFormData(s))return n?JSON.stringify(Kr(s)):s;if(C.isArrayBuffer(s)||C.isBuffer(s)||C.isStream(s)||C.isFile(s)||C.isBlob(s)||C.isReadableStream(s))return s;if(C.isArrayBufferView(s))return s.buffer;if(C.isURLSearchParams(s))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let d;if(a){if(l.indexOf("application/x-www-form-urlencoded")>-1)return au(s,this.formSerializer).toString();if((d=C.isFileList(s))||l.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return wi(d?{"files[]":s}:s,p&&new p,this.formSerializer)}}return a||n?(o.setContentType("application/json",!1),hu(s)):s}],transformResponse:[function(s){const o=this.transitional||Ze.transitional,l=o&&o.forcedJSONParsing,n=this.responseType==="json";if(C.isResponse(s)||C.isReadableStream(s))return s;if(s&&C.isString(s)&&(l&&!this.responseType||n)){const h=!(o&&o.silentJSONParsing)&&n;try{return JSON.parse(s)}catch(d){if(h)throw d.name==="SyntaxError"?U.from(d,U.ERR_BAD_RESPONSE,this,null,this.response):d}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ft.classes.FormData,Blob:ft.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};C.forEach(["delete","get","head","post","put","patch"],e=>{Ze.headers[e]={}});const cu=C.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),du=e=>{const s={};let o,l,n;return e&&e.split(`
`).forEach(function(h){n=h.indexOf(":"),o=h.substring(0,n).trim().toLowerCase(),l=h.substring(n+1).trim(),!(!o||s[o]&&cu[o])&&(o==="set-cookie"?s[o]?s[o].push(l):s[o]=[l]:s[o]=s[o]?s[o]+", "+l:l)}),s},cr=Symbol("internals");function Oe(e){return e&&String(e).trim().toLowerCase()}function di(e){return e===!1||e==null?e:C.isArray(e)?e.map(di):String(e)}function fu(e){const s=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=o.exec(e);)s[l[1]]=l[2];return s}const pu=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function hn(e,s,o,l,n){if(C.isFunction(l))return l.call(this,s,o);if(n&&(s=o),!!C.isString(s)){if(C.isString(l))return s.indexOf(l)!==-1;if(C.isRegExp(l))return l.test(s)}}function _u(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,o,l)=>o.toUpperCase()+l)}function mu(e,s){const o=C.toCamelCase(" "+s);["get","set","has"].forEach(l=>{Object.defineProperty(e,l+o,{value:function(n,a,h){return this[l].call(this,s,n,a,h)},configurable:!0})})}let wt=class{constructor(s){s&&this.set(s)}set(s,o,l){const n=this;function a(d,p,_){const g=Oe(p);if(!g)throw new Error("header name must be a non-empty string");const y=C.findKey(n,g);(!y||n[y]===void 0||_===!0||_===void 0&&n[y]!==!1)&&(n[y||p]=di(d))}const h=(d,p)=>C.forEach(d,(_,g)=>a(_,g,p));if(C.isPlainObject(s)||s instanceof this.constructor)h(s,o);else if(C.isString(s)&&(s=s.trim())&&!pu(s))h(du(s),o);else if(C.isObject(s)&&C.isIterable(s)){let d={},p,_;for(const g of s){if(!C.isArray(g))throw TypeError("Object iterator must return a key-value pair");d[_=g[0]]=(p=d[_])?C.isArray(p)?[...p,g[1]]:[p,g[1]]:g[1]}h(d,o)}else s!=null&&a(o,s,l);return this}get(s,o){if(s=Oe(s),s){const l=C.findKey(this,s);if(l){const n=this[l];if(!o)return n;if(o===!0)return fu(n);if(C.isFunction(o))return o.call(this,n,l);if(C.isRegExp(o))return o.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,o){if(s=Oe(s),s){const l=C.findKey(this,s);return!!(l&&this[l]!==void 0&&(!o||hn(this,this[l],l,o)))}return!1}delete(s,o){const l=this;let n=!1;function a(h){if(h=Oe(h),h){const d=C.findKey(l,h);d&&(!o||hn(l,l[d],d,o))&&(delete l[d],n=!0)}}return C.isArray(s)?s.forEach(a):a(s),n}clear(s){const o=Object.keys(this);let l=o.length,n=!1;for(;l--;){const a=o[l];(!s||hn(this,this[a],a,s,!0))&&(delete this[a],n=!0)}return n}normalize(s){const o=this,l={};return C.forEach(this,(n,a)=>{const h=C.findKey(l,a);if(h){o[h]=di(n),delete o[a];return}const d=s?_u(a):String(a).trim();d!==a&&delete o[a],o[d]=di(n),l[d]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const o=Object.create(null);return C.forEach(this,(l,n)=>{l!=null&&l!==!1&&(o[n]=s&&C.isArray(l)?l.join(", "):l)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,o])=>s+": "+o).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...o){const l=new this(s);return o.forEach(n=>l.set(n)),l}static accessor(s){const l=(this[cr]=this[cr]={accessors:{}}).accessors,n=this.prototype;function a(h){const d=Oe(h);l[d]||(mu(n,h),l[d]=!0)}return C.isArray(s)?s.forEach(a):a(s),this}};wt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);C.reduceDescriptors(wt.prototype,({value:e},s)=>{let o=s[0].toUpperCase()+s.slice(1);return{get:()=>e,set(l){this[o]=l}}});C.freezeMethods(wt);function cn(e,s){const o=this||Ze,l=s||o,n=wt.from(l.headers);let a=l.data;return C.forEach(e,function(d){a=d.call(o,a,n.normalize(),s?s.status:void 0)}),n.normalize(),a}function Yr(e){return!!(e&&e.__CANCEL__)}function me(e,s,o){U.call(this,e??"canceled",U.ERR_CANCELED,s,o),this.name="CanceledError"}C.inherits(me,U,{__CANCEL__:!0});function Xr(e,s,o){const l=o.config.validateStatus;!o.status||!l||l(o.status)?e(o):s(new U("Request failed with status code "+o.status,[U.ERR_BAD_REQUEST,U.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}function gu(e){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return s&&s[1]||""}function vu(e,s){e=e||10;const o=new Array(e),l=new Array(e);let n=0,a=0,h;return s=s!==void 0?s:1e3,function(p){const _=Date.now(),g=l[a];h||(h=_),o[n]=p,l[n]=_;let y=a,x=0;for(;y!==n;)x+=o[y++],y=y%e;if(n=(n+1)%e,n===a&&(a=(a+1)%e),_-h<s)return;const S=g&&_-g;return S?Math.round(x*1e3/S):void 0}}function yu(e,s){let o=0,l=1e3/s,n,a;const h=(_,g=Date.now())=>{o=g,n=null,a&&(clearTimeout(a),a=null),e.apply(null,_)};return[(..._)=>{const g=Date.now(),y=g-o;y>=l?h(_,g):(n=_,a||(a=setTimeout(()=>{a=null,h(n)},l-y)))},()=>n&&h(n)]}const pi=(e,s,o=3)=>{let l=0;const n=vu(50,250);return yu(a=>{const h=a.loaded,d=a.lengthComputable?a.total:void 0,p=h-l,_=n(p),g=h<=d;l=h;const y={loaded:h,total:d,progress:d?h/d:void 0,bytes:p,rate:_||void 0,estimated:_&&d&&g?(d-h)/_:void 0,event:a,lengthComputable:d!=null,[s?"download":"upload"]:!0};e(y)},o)},dr=(e,s)=>{const o=e!=null;return[l=>s[0]({lengthComputable:o,total:e,loaded:l}),s[1]]},fr=e=>(...s)=>C.asap(()=>e(...s)),wu=ft.hasStandardBrowserEnv?((e,s)=>o=>(o=new URL(o,ft.origin),e.protocol===o.protocol&&e.host===o.host&&(s||e.port===o.port)))(new URL(ft.origin),ft.navigator&&/(msie|trident)/i.test(ft.navigator.userAgent)):()=>!0,Lu=ft.hasStandardBrowserEnv?{write(e,s,o,l,n,a){const h=[e+"="+encodeURIComponent(s)];C.isNumber(o)&&h.push("expires="+new Date(o).toGMTString()),C.isString(l)&&h.push("path="+l),C.isString(n)&&h.push("domain="+n),a===!0&&h.push("secure"),document.cookie=h.join("; ")},read(e){const s=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function xu(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Pu(e,s){return s?e.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):e}function Jr(e,s,o){let l=!xu(s);return e&&(l||o==!1)?Pu(e,s):s}const pr=e=>e instanceof wt?{...e}:e;function oe(e,s){s=s||{};const o={};function l(_,g,y,x){return C.isPlainObject(_)&&C.isPlainObject(g)?C.merge.call({caseless:x},_,g):C.isPlainObject(g)?C.merge({},g):C.isArray(g)?g.slice():g}function n(_,g,y,x){if(C.isUndefined(g)){if(!C.isUndefined(_))return l(void 0,_,y,x)}else return l(_,g,y,x)}function a(_,g){if(!C.isUndefined(g))return l(void 0,g)}function h(_,g){if(C.isUndefined(g)){if(!C.isUndefined(_))return l(void 0,_)}else return l(void 0,g)}function d(_,g,y){if(y in s)return l(_,g);if(y in e)return l(void 0,_)}const p={url:a,method:a,data:a,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:d,headers:(_,g,y)=>n(pr(_),pr(g),y,!0)};return C.forEach(Object.keys(Object.assign({},e,s)),function(g){const y=p[g]||n,x=y(e[g],s[g],g);C.isUndefined(x)&&y!==d||(o[g]=x)}),o}const Qr=e=>{const s=oe({},e);let{data:o,withXSRFToken:l,xsrfHeaderName:n,xsrfCookieName:a,headers:h,auth:d}=s;s.headers=h=wt.from(h),s.url=qr(Jr(s.baseURL,s.url,s.allowAbsoluteUrls),e.params,e.paramsSerializer),d&&h.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let p;if(C.isFormData(o)){if(ft.hasStandardBrowserEnv||ft.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((p=h.getContentType())!==!1){const[_,...g]=p?p.split(";").map(y=>y.trim()).filter(Boolean):[];h.setContentType([_||"multipart/form-data",...g].join("; "))}}if(ft.hasStandardBrowserEnv&&(l&&C.isFunction(l)&&(l=l(s)),l||l!==!1&&wu(s.url))){const _=n&&a&&Lu.read(a);_&&h.set(n,_)}return s},Su=typeof XMLHttpRequest<"u",Cu=Su&&function(e){return new Promise(function(o,l){const n=Qr(e);let a=n.data;const h=wt.from(n.headers).normalize();let{responseType:d,onUploadProgress:p,onDownloadProgress:_}=n,g,y,x,S,b;function E(){S&&S(),b&&b(),n.cancelToken&&n.cancelToken.unsubscribe(g),n.signal&&n.signal.removeEventListener("abort",g)}let M=new XMLHttpRequest;M.open(n.method.toUpperCase(),n.url,!0),M.timeout=n.timeout;function k(){if(!M)return;const D=wt.from("getAllResponseHeaders"in M&&M.getAllResponseHeaders()),$={data:!d||d==="text"||d==="json"?M.responseText:M.response,status:M.status,statusText:M.statusText,headers:D,config:e,request:M};Xr(function(pt){o(pt),E()},function(pt){l(pt),E()},$),M=null}"onloadend"in M?M.onloadend=k:M.onreadystatechange=function(){!M||M.readyState!==4||M.status===0&&!(M.responseURL&&M.responseURL.indexOf("file:")===0)||setTimeout(k)},M.onabort=function(){M&&(l(new U("Request aborted",U.ECONNABORTED,e,M)),M=null)},M.onerror=function(){l(new U("Network Error",U.ERR_NETWORK,e,M)),M=null},M.ontimeout=function(){let Y=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const $=n.transitional||Wr;n.timeoutErrorMessage&&(Y=n.timeoutErrorMessage),l(new U(Y,$.clarifyTimeoutError?U.ETIMEDOUT:U.ECONNABORTED,e,M)),M=null},a===void 0&&h.setContentType(null),"setRequestHeader"in M&&C.forEach(h.toJSON(),function(Y,$){M.setRequestHeader($,Y)}),C.isUndefined(n.withCredentials)||(M.withCredentials=!!n.withCredentials),d&&d!=="json"&&(M.responseType=n.responseType),_&&([x,b]=pi(_,!0),M.addEventListener("progress",x)),p&&M.upload&&([y,S]=pi(p),M.upload.addEventListener("progress",y),M.upload.addEventListener("loadend",S)),(n.cancelToken||n.signal)&&(g=D=>{M&&(l(!D||D.type?new me(null,e,M):D),M.abort(),M=null)},n.cancelToken&&n.cancelToken.subscribe(g),n.signal&&(n.signal.aborted?g():n.signal.addEventListener("abort",g)));const I=gu(n.url);if(I&&ft.protocols.indexOf(I)===-1){l(new U("Unsupported protocol "+I+":",U.ERR_BAD_REQUEST,e));return}M.send(a||null)})},bu=(e,s)=>{const{length:o}=e=e?e.filter(Boolean):[];if(s||o){let l=new AbortController,n;const a=function(_){if(!n){n=!0,d();const g=_ instanceof Error?_:this.reason;l.abort(g instanceof U?g:new me(g instanceof Error?g.message:g))}};let h=s&&setTimeout(()=>{h=null,a(new U(`timeout ${s} of ms exceeded`,U.ETIMEDOUT))},s);const d=()=>{e&&(h&&clearTimeout(h),h=null,e.forEach(_=>{_.unsubscribe?_.unsubscribe(a):_.removeEventListener("abort",a)}),e=null)};e.forEach(_=>_.addEventListener("abort",a));const{signal:p}=l;return p.unsubscribe=()=>C.asap(d),p}},Eu=function*(e,s){let o=e.byteLength;if(o<s){yield e;return}let l=0,n;for(;l<o;)n=l+s,yield e.slice(l,n),l=n},Tu=async function*(e,s){for await(const o of Mu(e))yield*Eu(o,s)},Mu=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const s=e.getReader();try{for(;;){const{done:o,value:l}=await s.read();if(o)break;yield l}}finally{await s.cancel()}},_r=(e,s,o,l)=>{const n=Tu(e,s);let a=0,h,d=p=>{h||(h=!0,l&&l(p))};return new ReadableStream({async pull(p){try{const{done:_,value:g}=await n.next();if(_){d(),p.close();return}let y=g.byteLength;if(o){let x=a+=y;o(x)}p.enqueue(new Uint8Array(g))}catch(_){throw d(_),_}},cancel(p){return d(p),n.return()}},{highWaterMark:2})},Li=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ts=Li&&typeof ReadableStream=="function",ku=Li&&(typeof TextEncoder=="function"?(e=>s=>e.encode(s))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),es=(e,...s)=>{try{return!!e(...s)}catch{return!1}},Ru=ts&&es(()=>{let e=!1;const s=new Request(ft.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!s}),mr=64*1024,bn=ts&&es(()=>C.isReadableStream(new Response("").body)),_i={stream:bn&&(e=>e.body)};Li&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!_i[s]&&(_i[s]=C.isFunction(e[s])?o=>o[s]():(o,l)=>{throw new U(`Response type '${s}' is not supported`,U.ERR_NOT_SUPPORT,l)})})})(new Response);const Du=async e=>{if(e==null)return 0;if(C.isBlob(e))return e.size;if(C.isSpecCompliantForm(e))return(await new Request(ft.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(C.isArrayBufferView(e)||C.isArrayBuffer(e))return e.byteLength;if(C.isURLSearchParams(e)&&(e=e+""),C.isString(e))return(await ku(e)).byteLength},Ou=async(e,s)=>{const o=C.toFiniteNumber(e.getContentLength());return o??Du(s)},Au=Li&&(async e=>{let{url:s,method:o,data:l,signal:n,cancelToken:a,timeout:h,onDownloadProgress:d,onUploadProgress:p,responseType:_,headers:g,withCredentials:y="same-origin",fetchOptions:x}=Qr(e);_=_?(_+"").toLowerCase():"text";let S=bu([n,a&&a.toAbortSignal()],h),b;const E=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let M;try{if(p&&Ru&&o!=="get"&&o!=="head"&&(M=await Ou(g,l))!==0){let $=new Request(s,{method:"POST",body:l,duplex:"half"}),ht;if(C.isFormData(l)&&(ht=$.headers.get("content-type"))&&g.setContentType(ht),$.body){const[pt,Pt]=dr(M,pi(fr(p)));l=_r($.body,mr,pt,Pt)}}C.isString(y)||(y=y?"include":"omit");const k="credentials"in Request.prototype;b=new Request(s,{...x,signal:S,method:o.toUpperCase(),headers:g.normalize().toJSON(),body:l,duplex:"half",credentials:k?y:void 0});let I=await fetch(b,x);const D=bn&&(_==="stream"||_==="response");if(bn&&(d||D&&E)){const $={};["status","statusText","headers"].forEach(Rt=>{$[Rt]=I[Rt]});const ht=C.toFiniteNumber(I.headers.get("content-length")),[pt,Pt]=d&&dr(ht,pi(fr(d),!0))||[];I=new Response(_r(I.body,mr,pt,()=>{Pt&&Pt(),E&&E()}),$)}_=_||"text";let Y=await _i[C.findKey(_i,_)||"text"](I,e);return!D&&E&&E(),await new Promise(($,ht)=>{Xr($,ht,{data:Y,headers:wt.from(I.headers),status:I.status,statusText:I.statusText,config:e,request:b})})}catch(k){throw E&&E(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new U("Network Error",U.ERR_NETWORK,e,b),{cause:k.cause||k}):U.from(k,k&&k.code,e,b)}}),En={http:Kl,xhr:Cu,fetch:Au};C.forEach(En,(e,s)=>{if(e){try{Object.defineProperty(e,"name",{value:s})}catch{}Object.defineProperty(e,"adapterName",{value:s})}});const gr=e=>`- ${e}`,Iu=e=>C.isFunction(e)||e===null||e===!1,is={getAdapter:e=>{e=C.isArray(e)?e:[e];const{length:s}=e;let o,l;const n={};for(let a=0;a<s;a++){o=e[a];let h;if(l=o,!Iu(o)&&(l=En[(h=String(o)).toLowerCase()],l===void 0))throw new U(`Unknown adapter '${h}'`);if(l)break;n[h||"#"+a]=l}if(!l){const a=Object.entries(n).map(([d,p])=>`adapter ${d} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=s?a.length>1?`since :
`+a.map(gr).join(`
`):" "+gr(a[0]):"as no adapter specified";throw new U("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return l},adapters:En};function dn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new me(null,e)}function vr(e){return dn(e),e.headers=wt.from(e.headers),e.data=cn.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),is.getAdapter(e.adapter||Ze.adapter)(e).then(function(l){return dn(e),l.data=cn.call(e,e.transformResponse,l),l.headers=wt.from(l.headers),l},function(l){return Yr(l)||(dn(e),l&&l.response&&(l.response.data=cn.call(e,e.transformResponse,l.response),l.response.headers=wt.from(l.response.headers))),Promise.reject(l)})}const ns="1.10.0",xi={};["object","boolean","number","function","string","symbol"].forEach((e,s)=>{xi[e]=function(l){return typeof l===e||"a"+(s<1?"n ":" ")+e}});const yr={};xi.transitional=function(s,o,l){function n(a,h){return"[Axios v"+ns+"] Transitional option '"+a+"'"+h+(l?". "+l:"")}return(a,h,d)=>{if(s===!1)throw new U(n(h," has been removed"+(o?" in "+o:"")),U.ERR_DEPRECATED);return o&&!yr[h]&&(yr[h]=!0,console.warn(n(h," has been deprecated since v"+o+" and will be removed in the near future"))),s?s(a,h,d):!0}};xi.spelling=function(s){return(o,l)=>(console.warn(`${l} is likely a misspelling of ${s}`),!0)};function zu(e,s,o){if(typeof e!="object")throw new U("options must be an object",U.ERR_BAD_OPTION_VALUE);const l=Object.keys(e);let n=l.length;for(;n-- >0;){const a=l[n],h=s[a];if(h){const d=e[a],p=d===void 0||h(d,a,e);if(p!==!0)throw new U("option "+a+" must be "+p,U.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new U("Unknown option "+a,U.ERR_BAD_OPTION)}}const fi={assertOptions:zu,validators:xi},zt=fi.validators;let ne=class{constructor(s){this.defaults=s||{},this.interceptors={request:new hr,response:new hr}}async request(s,o){try{return await this._request(s,o)}catch(l){if(l instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const a=n.stack?n.stack.replace(/^.+\n/,""):"";try{l.stack?a&&!String(l.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(l.stack+=`
`+a):l.stack=a}catch{}}throw l}}_request(s,o){typeof s=="string"?(o=o||{},o.url=s):o=s||{},o=oe(this.defaults,o);const{transitional:l,paramsSerializer:n,headers:a}=o;l!==void 0&&fi.assertOptions(l,{silentJSONParsing:zt.transitional(zt.boolean),forcedJSONParsing:zt.transitional(zt.boolean),clarifyTimeoutError:zt.transitional(zt.boolean)},!1),n!=null&&(C.isFunction(n)?o.paramsSerializer={serialize:n}:fi.assertOptions(n,{encode:zt.function,serialize:zt.function},!0)),o.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?o.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:o.allowAbsoluteUrls=!0),fi.assertOptions(o,{baseUrl:zt.spelling("baseURL"),withXsrfToken:zt.spelling("withXSRFToken")},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();let h=a&&C.merge(a.common,a[o.method]);a&&C.forEach(["delete","get","head","post","put","patch","common"],b=>{delete a[b]}),o.headers=wt.concat(h,a);const d=[];let p=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(o)===!1||(p=p&&E.synchronous,d.unshift(E.fulfilled,E.rejected))});const _=[];this.interceptors.response.forEach(function(E){_.push(E.fulfilled,E.rejected)});let g,y=0,x;if(!p){const b=[vr.bind(this),void 0];for(b.unshift.apply(b,d),b.push.apply(b,_),x=b.length,g=Promise.resolve(o);y<x;)g=g.then(b[y++],b[y++]);return g}x=d.length;let S=o;for(y=0;y<x;){const b=d[y++],E=d[y++];try{S=b(S)}catch(M){E.call(this,M);break}}try{g=vr.call(this,S)}catch(b){return Promise.reject(b)}for(y=0,x=_.length;y<x;)g=g.then(_[y++],_[y++]);return g}getUri(s){s=oe(this.defaults,s);const o=Jr(s.baseURL,s.url,s.allowAbsoluteUrls);return qr(o,s.params,s.paramsSerializer)}};C.forEach(["delete","get","head","options"],function(s){ne.prototype[s]=function(o,l){return this.request(oe(l||{},{method:s,url:o,data:(l||{}).data}))}});C.forEach(["post","put","patch"],function(s){function o(l){return function(a,h,d){return this.request(oe(d||{},{method:s,headers:l?{"Content-Type":"multipart/form-data"}:{},url:a,data:h}))}}ne.prototype[s]=o(),ne.prototype[s+"Form"]=o(!0)});let Fu=class os{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(a){o=a});const l=this;this.promise.then(n=>{if(!l._listeners)return;let a=l._listeners.length;for(;a-- >0;)l._listeners[a](n);l._listeners=null}),this.promise.then=n=>{let a;const h=new Promise(d=>{l.subscribe(d),a=d}).then(n);return h.cancel=function(){l.unsubscribe(a)},h},s(function(a,h,d){l.reason||(l.reason=new me(a,h,d),o(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const o=this._listeners.indexOf(s);o!==-1&&this._listeners.splice(o,1)}toAbortSignal(){const s=new AbortController,o=l=>{s.abort(l)};return this.subscribe(o),s.signal.unsubscribe=()=>this.unsubscribe(o),s.signal}static source(){let s;return{token:new os(function(n){s=n}),cancel:s}}};function Bu(e){return function(o){return e.apply(null,o)}}function Nu(e){return C.isObject(e)&&e.isAxiosError===!0}const Tn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Tn).forEach(([e,s])=>{Tn[s]=e});function rs(e){const s=new ne(e),o=Ir(ne.prototype.request,s);return C.extend(o,ne.prototype,s,{allOwnKeys:!0}),C.extend(o,s,null,{allOwnKeys:!0}),o.create=function(n){return rs(oe(e,n))},o}const nt=rs(Ze);nt.Axios=ne;nt.CanceledError=me;nt.CancelToken=Fu;nt.isCancel=Yr;nt.VERSION=ns;nt.toFormData=wi;nt.AxiosError=U;nt.Cancel=nt.CanceledError;nt.all=function(s){return Promise.all(s)};nt.spread=Bu;nt.isAxiosError=Nu;nt.mergeConfig=oe;nt.AxiosHeaders=wt;nt.formToJSON=e=>Kr(C.isHTMLForm(e)?new FormData(e):e);nt.getAdapter=is.getAdapter;nt.HttpStatusCode=Tn;nt.default=nt;const{Axios:dc,AxiosError:fc,CanceledError:pc,isCancel:_c,CancelToken:mc,VERSION:gc,all:vc,Cancel:yc,isAxiosError:wc,spread:Lc,toFormData:xc,AxiosHeaders:Pc,HttpStatusCode:Sc,formToJSON:Cc,getAdapter:bc,mergeConfig:Ec}=nt;function ss(e,s){const o=H.useRef(s);H.useEffect(function(){s!==o.current&&e.attributionControl!=null&&(o.current!=null&&e.attributionControl.removeAttribution(o.current),s!=null&&e.attributionControl.addAttribution(s)),o.current=s},[e,s])}function Hu(e,s,o){s.center!==o.center&&e.setLatLng(s.center),s.radius!=null&&s.radius!==o.radius&&e.setRadius(s.radius)}const Zu=1;function Vu(e){return Object.freeze({__version:Zu,map:e})}function Pi(e,s){return Object.freeze({...e,...s})}const as=H.createContext(null),ls=as.Provider;function Ve(){const e=H.useContext(as);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function us(e){function s(o,l){const{instance:n,context:a}=e(o).current;return H.useImperativeHandle(l,()=>n),o.children==null?null:Be.createElement(ls,{value:a},o.children)}return H.forwardRef(s)}function Uu(e){function s(o,l){const[n,a]=H.useState(!1),{instance:h}=e(o,a).current;H.useImperativeHandle(l,()=>h),H.useEffect(function(){n&&h.update()},[h,n,o.children]);const d=h._contentNode;return d?Wa.createPortal(o.children,d):null}return H.forwardRef(s)}function Gu(e){function s(o,l){const{instance:n}=e(o).current;return H.useImperativeHandle(l,()=>n),null}return H.forwardRef(s)}function Bn(e,s){const o=H.useRef();H.useEffect(function(){return s!=null&&e.instance.on(s),o.current=s,function(){o.current!=null&&e.instance.off(o.current),o.current=null}},[e,s])}function Si(e,s){const o=e.pane??s.pane;return o?{...e,pane:o}:e}function $u(e,s){return function(l,n){const a=Ve(),h=e(Si(l,a),a);return ss(a.map,l.attribution),Bn(h.current,l.eventHandlers),s(h.current,a,l,n),h}}var Ie={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var ju=Ie.exports,wr;function qu(){return wr||(wr=1,function(e,s){(function(o,l){l(s)})(ju,function(o){var l="1.9.4";function n(t){var i,r,u,c;for(r=1,u=arguments.length;r<u;r++){c=arguments[r];for(i in c)t[i]=c[i]}return t}var a=Object.create||function(){function t(){}return function(i){return t.prototype=i,new t}}();function h(t,i){var r=Array.prototype.slice;if(t.bind)return t.bind.apply(t,r.call(arguments,1));var u=r.call(arguments,2);return function(){return t.apply(i,u.length?u.concat(r.call(arguments)):arguments)}}var d=0;function p(t){return"_leaflet_id"in t||(t._leaflet_id=++d),t._leaflet_id}function _(t,i,r){var u,c,f,v;return v=function(){u=!1,c&&(f.apply(r,c),c=!1)},f=function(){u?c=arguments:(t.apply(r,arguments),setTimeout(v,i),u=!0)},f}function g(t,i,r){var u=i[1],c=i[0],f=u-c;return t===u&&r?t:((t-c)%f+f)%f+c}function y(){return!1}function x(t,i){if(i===!1)return t;var r=Math.pow(10,i===void 0?6:i);return Math.round(t*r)/r}function S(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function b(t){return S(t).split(/\s+/)}function E(t,i){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?a(t.options):{});for(var r in i)t.options[r]=i[r];return t.options}function M(t,i,r){var u=[];for(var c in t)u.push(encodeURIComponent(r?c.toUpperCase():c)+"="+encodeURIComponent(t[c]));return(!i||i.indexOf("?")===-1?"?":"&")+u.join("&")}var k=/\{ *([\w_ -]+) *\}/g;function I(t,i){return t.replace(k,function(r,u){var c=i[u];if(c===void 0)throw new Error("No value provided for variable "+r);return typeof c=="function"&&(c=c(i)),c})}var D=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function Y(t,i){for(var r=0;r<t.length;r++)if(t[r]===i)return r;return-1}var $="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ht(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var pt=0;function Pt(t){var i=+new Date,r=Math.max(0,16-(i-pt));return pt=i+r,window.setTimeout(t,r)}var Rt=window.requestAnimationFrame||ht("RequestAnimationFrame")||Pt,re=window.cancelAnimationFrame||ht("CancelAnimationFrame")||ht("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function at(t,i,r){if(r&&Rt===Pt)t.call(i);else return Rt.call(window,h(t,i))}function lt(t){t&&re.call(window,t)}var xs={__proto__:null,extend:n,create:a,bind:h,get lastId(){return d},stamp:p,throttle:_,wrapNum:g,falseFn:y,formatNum:x,trim:S,splitWords:b,setOptions:E,getParamString:M,template:I,isArray:D,indexOf:Y,emptyImageUrl:$,requestFn:Rt,cancelFn:re,requestAnimFrame:at,cancelAnimFrame:lt};function Bt(){}Bt.extend=function(t){var i=function(){E(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=i.__super__=this.prototype,u=a(r);u.constructor=i,i.prototype=u;for(var c in this)Object.prototype.hasOwnProperty.call(this,c)&&c!=="prototype"&&c!=="__super__"&&(i[c]=this[c]);return t.statics&&n(i,t.statics),t.includes&&(Ps(t.includes),n.apply(null,[u].concat(t.includes))),n(u,t),delete u.statics,delete u.includes,u.options&&(u.options=r.options?a(r.options):{},n(u.options,t.options)),u._initHooks=[],u.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var f=0,v=u._initHooks.length;f<v;f++)u._initHooks[f].call(this)}},i},Bt.include=function(t){var i=this.prototype.options;return n(this.prototype,t),t.options&&(this.prototype.options=i,this.mergeOptions(t.options)),this},Bt.mergeOptions=function(t){return n(this.prototype.options,t),this},Bt.addInitHook=function(t){var i=Array.prototype.slice.call(arguments,1),r=typeof t=="function"?t:function(){this[t].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(r),this};function Ps(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=D(t)?t:[t];for(var i=0;i<t.length;i++)t[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Lt={on:function(t,i,r){if(typeof t=="object")for(var u in t)this._on(u,t[u],i);else{t=b(t);for(var c=0,f=t.length;c<f;c++)this._on(t[c],i,r)}return this},off:function(t,i,r){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var u in t)this._off(u,t[u],i);else{t=b(t);for(var c=arguments.length===1,f=0,v=t.length;f<v;f++)c?this._off(t[f]):this._off(t[f],i,r)}return this},_on:function(t,i,r,u){if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}if(this._listens(t,i,r)===!1){r===this&&(r=void 0);var c={fn:i,ctx:r};u&&(c.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(c)}},_off:function(t,i,r){var u,c,f;if(this._events&&(u=this._events[t],!!u)){if(arguments.length===1){if(this._firingCount)for(c=0,f=u.length;c<f;c++)u[c].fn=y;delete this._events[t];return}if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}var v=this._listens(t,i,r);if(v!==!1){var w=u[v];this._firingCount&&(w.fn=y,this._events[t]=u=u.slice()),u.splice(v,1)}}},fire:function(t,i,r){if(!this.listens(t,r))return this;var u=n({},i,{type:t,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var c=this._events[t];if(c){this._firingCount=this._firingCount+1||1;for(var f=0,v=c.length;f<v;f++){var w=c[f],P=w.fn;w.once&&this.off(t,P,w.ctx),P.call(w.ctx||this,u)}this._firingCount--}}return r&&this._propagateEvent(u),this},listens:function(t,i,r,u){typeof t!="string"&&console.warn('"string" type argument expected');var c=i;typeof i!="function"&&(u=!!i,c=void 0,r=void 0);var f=this._events&&this._events[t];if(f&&f.length&&this._listens(t,c,r)!==!1)return!0;if(u){for(var v in this._eventParents)if(this._eventParents[v].listens(t,i,r,u))return!0}return!1},_listens:function(t,i,r){if(!this._events)return!1;var u=this._events[t]||[];if(!i)return!!u.length;r===this&&(r=void 0);for(var c=0,f=u.length;c<f;c++)if(u[c].fn===i&&u[c].ctx===r)return c;return!1},once:function(t,i,r){if(typeof t=="object")for(var u in t)this._on(u,t[u],i,!0);else{t=b(t);for(var c=0,f=t.length;c<f;c++)this._on(t[c],i,r,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[p(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[p(t)],this},_propagateEvent:function(t){for(var i in this._eventParents)this._eventParents[i].fire(t.type,n({layer:t.target,propagatedFrom:t.target},t),!0)}};Lt.addEventListener=Lt.on,Lt.removeEventListener=Lt.clearAllEventListeners=Lt.off,Lt.addOneTimeEventListener=Lt.once,Lt.fireEvent=Lt.fire,Lt.hasEventListeners=Lt.listens;var ve=Bt.extend(Lt);function Z(t,i,r){this.x=r?Math.round(t):t,this.y=r?Math.round(i):i}var Un=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};Z.prototype={clone:function(){return new Z(this.x,this.y)},add:function(t){return this.clone()._add(N(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(N(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new Z(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new Z(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Un(this.x),this.y=Un(this.y),this},distanceTo:function(t){t=N(t);var i=t.x-this.x,r=t.y-this.y;return Math.sqrt(i*i+r*r)},equals:function(t){return t=N(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=N(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function N(t,i,r){return t instanceof Z?t:D(t)?new Z(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new Z(t.x,t.y):new Z(t,i,r)}function tt(t,i){if(t)for(var r=i?[t,i]:t,u=0,c=r.length;u<c;u++)this.extend(r[u])}tt.prototype={extend:function(t){var i,r;if(!t)return this;if(t instanceof Z||typeof t[0]=="number"||"x"in t)i=r=N(t);else if(t=mt(t),i=t.min,r=t.max,!i||!r)return this;return!this.min&&!this.max?(this.min=i.clone(),this.max=r.clone()):(this.min.x=Math.min(i.x,this.min.x),this.max.x=Math.max(r.x,this.max.x),this.min.y=Math.min(i.y,this.min.y),this.max.y=Math.max(r.y,this.max.y)),this},getCenter:function(t){return N((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return N(this.min.x,this.max.y)},getTopRight:function(){return N(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var i,r;return typeof t[0]=="number"||t instanceof Z?t=N(t):t=mt(t),t instanceof tt?(i=t.min,r=t.max):i=r=t,i.x>=this.min.x&&r.x<=this.max.x&&i.y>=this.min.y&&r.y<=this.max.y},intersects:function(t){t=mt(t);var i=this.min,r=this.max,u=t.min,c=t.max,f=c.x>=i.x&&u.x<=r.x,v=c.y>=i.y&&u.y<=r.y;return f&&v},overlaps:function(t){t=mt(t);var i=this.min,r=this.max,u=t.min,c=t.max,f=c.x>i.x&&u.x<r.x,v=c.y>i.y&&u.y<r.y;return f&&v},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var i=this.min,r=this.max,u=Math.abs(i.x-r.x)*t,c=Math.abs(i.y-r.y)*t;return mt(N(i.x-u,i.y-c),N(r.x+u,r.y+c))},equals:function(t){return t?(t=mt(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function mt(t,i){return!t||t instanceof tt?t:new tt(t,i)}function gt(t,i){if(t)for(var r=i?[t,i]:t,u=0,c=r.length;u<c;u++)this.extend(r[u])}gt.prototype={extend:function(t){var i=this._southWest,r=this._northEast,u,c;if(t instanceof J)u=t,c=t;else if(t instanceof gt){if(u=t._southWest,c=t._northEast,!u||!c)return this}else return t?this.extend(W(t)||ot(t)):this;return!i&&!r?(this._southWest=new J(u.lat,u.lng),this._northEast=new J(c.lat,c.lng)):(i.lat=Math.min(u.lat,i.lat),i.lng=Math.min(u.lng,i.lng),r.lat=Math.max(c.lat,r.lat),r.lng=Math.max(c.lng,r.lng)),this},pad:function(t){var i=this._southWest,r=this._northEast,u=Math.abs(i.lat-r.lat)*t,c=Math.abs(i.lng-r.lng)*t;return new gt(new J(i.lat-u,i.lng-c),new J(r.lat+u,r.lng+c))},getCenter:function(){return new J((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new J(this.getNorth(),this.getWest())},getSouthEast:function(){return new J(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof J||"lat"in t?t=W(t):t=ot(t);var i=this._southWest,r=this._northEast,u,c;return t instanceof gt?(u=t.getSouthWest(),c=t.getNorthEast()):u=c=t,u.lat>=i.lat&&c.lat<=r.lat&&u.lng>=i.lng&&c.lng<=r.lng},intersects:function(t){t=ot(t);var i=this._southWest,r=this._northEast,u=t.getSouthWest(),c=t.getNorthEast(),f=c.lat>=i.lat&&u.lat<=r.lat,v=c.lng>=i.lng&&u.lng<=r.lng;return f&&v},overlaps:function(t){t=ot(t);var i=this._southWest,r=this._northEast,u=t.getSouthWest(),c=t.getNorthEast(),f=c.lat>i.lat&&u.lat<r.lat,v=c.lng>i.lng&&u.lng<r.lng;return f&&v},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,i){return t?(t=ot(t),this._southWest.equals(t.getSouthWest(),i)&&this._northEast.equals(t.getNorthEast(),i)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ot(t,i){return t instanceof gt?t:new gt(t,i)}function J(t,i,r){if(isNaN(t)||isNaN(i))throw new Error("Invalid LatLng object: ("+t+", "+i+")");this.lat=+t,this.lng=+i,r!==void 0&&(this.alt=+r)}J.prototype={equals:function(t,i){if(!t)return!1;t=W(t);var r=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return r<=(i===void 0?1e-9:i)},toString:function(t){return"LatLng("+x(this.lat,t)+", "+x(this.lng,t)+")"},distanceTo:function(t){return $t.distance(this,W(t))},wrap:function(){return $t.wrapLatLng(this)},toBounds:function(t){var i=180*t/40075017,r=i/Math.cos(Math.PI/180*this.lat);return ot([this.lat-i,this.lng-r],[this.lat+i,this.lng+r])},clone:function(){return new J(this.lat,this.lng,this.alt)}};function W(t,i,r){return t instanceof J?t:D(t)&&typeof t[0]!="object"?t.length===3?new J(t[0],t[1],t[2]):t.length===2?new J(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new J(t.lat,"lng"in t?t.lng:t.lon,t.alt):i===void 0?null:new J(t,i,r)}var Nt={latLngToPoint:function(t,i){var r=this.projection.project(t),u=this.scale(i);return this.transformation._transform(r,u)},pointToLatLng:function(t,i){var r=this.scale(i),u=this.transformation.untransform(t,r);return this.projection.unproject(u)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var i=this.projection.bounds,r=this.scale(t),u=this.transformation.transform(i.min,r),c=this.transformation.transform(i.max,r);return new tt(u,c)},infinite:!1,wrapLatLng:function(t){var i=this.wrapLng?g(t.lng,this.wrapLng,!0):t.lng,r=this.wrapLat?g(t.lat,this.wrapLat,!0):t.lat,u=t.alt;return new J(r,i,u)},wrapLatLngBounds:function(t){var i=t.getCenter(),r=this.wrapLatLng(i),u=i.lat-r.lat,c=i.lng-r.lng;if(u===0&&c===0)return t;var f=t.getSouthWest(),v=t.getNorthEast(),w=new J(f.lat-u,f.lng-c),P=new J(v.lat-u,v.lng-c);return new gt(w,P)}},$t=n({},Nt,{wrapLng:[-180,180],R:6371e3,distance:function(t,i){var r=Math.PI/180,u=t.lat*r,c=i.lat*r,f=Math.sin((i.lat-t.lat)*r/2),v=Math.sin((i.lng-t.lng)*r/2),w=f*f+Math.cos(u)*Math.cos(c)*v*v,P=2*Math.atan2(Math.sqrt(w),Math.sqrt(1-w));return this.R*P}}),Gn=6378137,Ei={R:Gn,MAX_LATITUDE:85.0511287798,project:function(t){var i=Math.PI/180,r=this.MAX_LATITUDE,u=Math.max(Math.min(r,t.lat),-r),c=Math.sin(u*i);return new Z(this.R*t.lng*i,this.R*Math.log((1+c)/(1-c))/2)},unproject:function(t){var i=180/Math.PI;return new J((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*i,t.x*i/this.R)},bounds:function(){var t=Gn*Math.PI;return new tt([-t,-t],[t,t])}()};function Ti(t,i,r,u){if(D(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=i,this._c=r,this._d=u}Ti.prototype={transform:function(t,i){return this._transform(t.clone(),i)},_transform:function(t,i){return i=i||1,t.x=i*(this._a*t.x+this._b),t.y=i*(this._c*t.y+this._d),t},untransform:function(t,i){return i=i||1,new Z((t.x/i-this._b)/this._a,(t.y/i-this._d)/this._c)}};function ye(t,i,r,u){return new Ti(t,i,r,u)}var Mi=n({},$t,{code:"EPSG:3857",projection:Ei,transformation:function(){var t=.5/(Math.PI*Ei.R);return ye(t,.5,-t,.5)}()}),Ss=n({},Mi,{code:"EPSG:900913"});function $n(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function jn(t,i){var r="",u,c,f,v,w,P;for(u=0,f=t.length;u<f;u++){for(w=t[u],c=0,v=w.length;c<v;c++)P=w[c],r+=(c?"L":"M")+P.x+" "+P.y;r+=i?A.svg?"z":"x":""}return r||"M0 0"}var ki=document.documentElement.style,Ue="ActiveXObject"in window,Cs=Ue&&!document.addEventListener,qn="msLaunchUri"in navigator&&!("documentMode"in document),Ri=Dt("webkit"),Wn=Dt("android"),Kn=Dt("android 2")||Dt("android 3"),bs=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Es=Wn&&Dt("Google")&&bs<537&&!("AudioNode"in window),Di=!!window.opera,Yn=!qn&&Dt("chrome"),Xn=Dt("gecko")&&!Ri&&!Di&&!Ue,Ts=!Yn&&Dt("safari"),Jn=Dt("phantom"),Qn="OTransition"in ki,Ms=navigator.platform.indexOf("Win")===0,to=Ue&&"transition"in ki,Oi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Kn,eo="MozPerspective"in ki,ks=!window.L_DISABLE_3D&&(to||Oi||eo)&&!Qn&&!Jn,we=typeof orientation<"u"||Dt("mobile"),Rs=we&&Ri,Ds=we&&Oi,io=!window.PointerEvent&&window.MSPointerEvent,no=!!(window.PointerEvent||io),oo="ontouchstart"in window||!!window.TouchEvent,Os=!window.L_NO_TOUCH&&(oo||no),As=we&&Di,Is=we&&Xn,zs=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Fs=function(){var t=!1;try{var i=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",y,i),window.removeEventListener("testPassiveEventSupport",y,i)}catch{}return t}(),Bs=function(){return!!document.createElement("canvas").getContext}(),Ai=!!(document.createElementNS&&$n("svg").createSVGRect),Ns=!!Ai&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Hs=!Ai&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&typeof i.adj=="object"}catch{return!1}}(),Zs=navigator.platform.indexOf("Mac")===0,Vs=navigator.platform.indexOf("Linux")===0;function Dt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var A={ie:Ue,ielt9:Cs,edge:qn,webkit:Ri,android:Wn,android23:Kn,androidStock:Es,opera:Di,chrome:Yn,gecko:Xn,safari:Ts,phantom:Jn,opera12:Qn,win:Ms,ie3d:to,webkit3d:Oi,gecko3d:eo,any3d:ks,mobile:we,mobileWebkit:Rs,mobileWebkit3d:Ds,msPointer:io,pointer:no,touch:Os,touchNative:oo,mobileOpera:As,mobileGecko:Is,retina:zs,passiveEvents:Fs,canvas:Bs,svg:Ai,vml:Hs,inlineSvg:Ns,mac:Zs,linux:Vs},ro=A.msPointer?"MSPointerDown":"pointerdown",so=A.msPointer?"MSPointerMove":"pointermove",ao=A.msPointer?"MSPointerUp":"pointerup",lo=A.msPointer?"MSPointerCancel":"pointercancel",Ii={touchstart:ro,touchmove:so,touchend:ao,touchcancel:lo},uo={touchstart:Ws,touchmove:Ge,touchend:Ge,touchcancel:Ge},se={},ho=!1;function Us(t,i,r){return i==="touchstart"&&qs(),uo[i]?(r=uo[i].bind(this,r),t.addEventListener(Ii[i],r,!1),r):(console.warn("wrong event specified:",i),y)}function Gs(t,i,r){if(!Ii[i]){console.warn("wrong event specified:",i);return}t.removeEventListener(Ii[i],r,!1)}function $s(t){se[t.pointerId]=t}function js(t){se[t.pointerId]&&(se[t.pointerId]=t)}function co(t){delete se[t.pointerId]}function qs(){ho||(document.addEventListener(ro,$s,!0),document.addEventListener(so,js,!0),document.addEventListener(ao,co,!0),document.addEventListener(lo,co,!0),ho=!0)}function Ge(t,i){if(i.pointerType!==(i.MSPOINTER_TYPE_MOUSE||"mouse")){i.touches=[];for(var r in se)i.touches.push(se[r]);i.changedTouches=[i],t(i)}}function Ws(t,i){i.MSPOINTER_TYPE_TOUCH&&i.pointerType===i.MSPOINTER_TYPE_TOUCH&&ct(i),Ge(t,i)}function Ks(t){var i={},r,u;for(u in t)r=t[u],i[u]=r&&r.bind?r.bind(t):r;return t=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var Ys=200;function Xs(t,i){t.addEventListener("dblclick",i);var r=0,u;function c(f){if(f.detail!==1){u=f.detail;return}if(!(f.pointerType==="mouse"||f.sourceCapabilities&&!f.sourceCapabilities.firesTouchEvents)){var v=go(f);if(!(v.some(function(P){return P instanceof HTMLLabelElement&&P.attributes.for})&&!v.some(function(P){return P instanceof HTMLInputElement||P instanceof HTMLSelectElement}))){var w=Date.now();w-r<=Ys?(u++,u===2&&i(Ks(f))):u=1,r=w}}}return t.addEventListener("click",c),{dblclick:i,simDblclick:c}}function Js(t,i){t.removeEventListener("dblclick",i.dblclick),t.removeEventListener("click",i.simDblclick)}var zi=qe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Le=qe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),fo=Le==="webkitTransition"||Le==="OTransition"?Le+"End":"transitionend";function po(t){return typeof t=="string"?document.getElementById(t):t}function xe(t,i){var r=t.style[i]||t.currentStyle&&t.currentStyle[i];if((!r||r==="auto")&&document.defaultView){var u=document.defaultView.getComputedStyle(t,null);r=u?u[i]:null}return r==="auto"?null:r}function X(t,i,r){var u=document.createElement(t);return u.className=i||"",r&&r.appendChild(u),u}function et(t){var i=t.parentNode;i&&i.removeChild(t)}function $e(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ae(t){var i=t.parentNode;i&&i.lastChild!==t&&i.appendChild(t)}function le(t){var i=t.parentNode;i&&i.firstChild!==t&&i.insertBefore(t,i.firstChild)}function Fi(t,i){if(t.classList!==void 0)return t.classList.contains(i);var r=je(t);return r.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(r)}function G(t,i){if(t.classList!==void 0)for(var r=b(i),u=0,c=r.length;u<c;u++)t.classList.add(r[u]);else if(!Fi(t,i)){var f=je(t);Bi(t,(f?f+" ":"")+i)}}function it(t,i){t.classList!==void 0?t.classList.remove(i):Bi(t,S((" "+je(t)+" ").replace(" "+i+" "," ")))}function Bi(t,i){t.className.baseVal===void 0?t.className=i:t.className.baseVal=i}function je(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function St(t,i){"opacity"in t.style?t.style.opacity=i:"filter"in t.style&&Qs(t,i)}function Qs(t,i){var r=!1,u="DXImageTransform.Microsoft.Alpha";try{r=t.filters.item(u)}catch{if(i===1)return}i=Math.round(i*100),r?(r.Enabled=i!==100,r.Opacity=i):t.style.filter+=" progid:"+u+"(opacity="+i+")"}function qe(t){for(var i=document.documentElement.style,r=0;r<t.length;r++)if(t[r]in i)return t[r];return!1}function Yt(t,i,r){var u=i||new Z(0,0);t.style[zi]=(A.ie3d?"translate("+u.x+"px,"+u.y+"px)":"translate3d("+u.x+"px,"+u.y+"px,0)")+(r?" scale("+r+")":"")}function rt(t,i){t._leaflet_pos=i,A.any3d?Yt(t,i):(t.style.left=i.x+"px",t.style.top=i.y+"px")}function Xt(t){return t._leaflet_pos||new Z(0,0)}var Pe,Se,Ni;if("onselectstart"in document)Pe=function(){V(window,"selectstart",ct)},Se=function(){Q(window,"selectstart",ct)};else{var Ce=qe(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Pe=function(){if(Ce){var t=document.documentElement.style;Ni=t[Ce],t[Ce]="none"}},Se=function(){Ce&&(document.documentElement.style[Ce]=Ni,Ni=void 0)}}function Hi(){V(window,"dragstart",ct)}function Zi(){Q(window,"dragstart",ct)}var We,Vi;function Ui(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(Ke(),We=t,Vi=t.style.outlineStyle,t.style.outlineStyle="none",V(window,"keydown",Ke))}function Ke(){We&&(We.style.outlineStyle=Vi,We=void 0,Vi=void 0,Q(window,"keydown",Ke))}function _o(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Gi(t){var i=t.getBoundingClientRect();return{x:i.width/t.offsetWidth||1,y:i.height/t.offsetHeight||1,boundingClientRect:i}}var ta={__proto__:null,TRANSFORM:zi,TRANSITION:Le,TRANSITION_END:fo,get:po,getStyle:xe,create:X,remove:et,empty:$e,toFront:ae,toBack:le,hasClass:Fi,addClass:G,removeClass:it,setClass:Bi,getClass:je,setOpacity:St,testProp:qe,setTransform:Yt,setPosition:rt,getPosition:Xt,get disableTextSelection(){return Pe},get enableTextSelection(){return Se},disableImageDrag:Hi,enableImageDrag:Zi,preventOutline:Ui,restoreOutline:Ke,getSizedParentNode:_o,getScale:Gi};function V(t,i,r,u){if(i&&typeof i=="object")for(var c in i)ji(t,c,i[c],r);else{i=b(i);for(var f=0,v=i.length;f<v;f++)ji(t,i[f],r,u)}return this}var Ot="_leaflet_events";function Q(t,i,r,u){if(arguments.length===1)mo(t),delete t[Ot];else if(i&&typeof i=="object")for(var c in i)qi(t,c,i[c],r);else if(i=b(i),arguments.length===2)mo(t,function(w){return Y(i,w)!==-1});else for(var f=0,v=i.length;f<v;f++)qi(t,i[f],r,u);return this}function mo(t,i){for(var r in t[Ot]){var u=r.split(/\d/)[0];(!i||i(u))&&qi(t,u,null,null,r)}}var $i={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ji(t,i,r,u){var c=i+p(r)+(u?"_"+p(u):"");if(t[Ot]&&t[Ot][c])return this;var f=function(w){return r.call(u||t,w||window.event)},v=f;!A.touchNative&&A.pointer&&i.indexOf("touch")===0?f=Us(t,i,f):A.touch&&i==="dblclick"?f=Xs(t,f):"addEventListener"in t?i==="touchstart"||i==="touchmove"||i==="wheel"||i==="mousewheel"?t.addEventListener($i[i]||i,f,A.passiveEvents?{passive:!1}:!1):i==="mouseenter"||i==="mouseleave"?(f=function(w){w=w||window.event,Ki(t,w)&&v(w)},t.addEventListener($i[i],f,!1)):t.addEventListener(i,v,!1):t.attachEvent("on"+i,f),t[Ot]=t[Ot]||{},t[Ot][c]=f}function qi(t,i,r,u,c){c=c||i+p(r)+(u?"_"+p(u):"");var f=t[Ot]&&t[Ot][c];if(!f)return this;!A.touchNative&&A.pointer&&i.indexOf("touch")===0?Gs(t,i,f):A.touch&&i==="dblclick"?Js(t,f):"removeEventListener"in t?t.removeEventListener($i[i]||i,f,!1):t.detachEvent("on"+i,f),t[Ot][c]=null}function Jt(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Wi(t){return ji(t,"wheel",Jt),this}function be(t){return V(t,"mousedown touchstart dblclick contextmenu",Jt),t._leaflet_disable_click=!0,this}function ct(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Qt(t){return ct(t),Jt(t),this}function go(t){if(t.composedPath)return t.composedPath();for(var i=[],r=t.target;r;)i.push(r),r=r.parentNode;return i}function vo(t,i){if(!i)return new Z(t.clientX,t.clientY);var r=Gi(i),u=r.boundingClientRect;return new Z((t.clientX-u.left)/r.x-i.clientLeft,(t.clientY-u.top)/r.y-i.clientTop)}var ea=A.linux&&A.chrome?window.devicePixelRatio:A.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function yo(t){return A.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/ea:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function Ki(t,i){var r=i.relatedTarget;if(!r)return!0;try{for(;r&&r!==t;)r=r.parentNode}catch{return!1}return r!==t}var ia={__proto__:null,on:V,off:Q,stopPropagation:Jt,disableScrollPropagation:Wi,disableClickPropagation:be,preventDefault:ct,stop:Qt,getPropagationPath:go,getMousePosition:vo,getWheelDelta:yo,isExternalTarget:Ki,addListener:V,removeListener:Q},wo=ve.extend({run:function(t,i,r,u){this.stop(),this._el=t,this._inProgress=!0,this._duration=r||.25,this._easeOutPower=1/Math.max(u||.5,.2),this._startPos=Xt(t),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=at(this._animate,this),this._step()},_step:function(t){var i=+new Date-this._startTime,r=this._duration*1e3;i<r?this._runFrame(this._easeOut(i/r),t):(this._runFrame(1),this._complete())},_runFrame:function(t,i){var r=this._startPos.add(this._offset.multiplyBy(t));i&&r._round(),rt(this._el,r),this.fire("step")},_complete:function(){lt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),K=ve.extend({options:{crs:Mi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,i){i=E(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),i.zoom!==void 0&&(this._zoom=this._limitZoom(i.zoom)),i.center&&i.zoom!==void 0&&this.setView(W(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Le&&A.any3d&&!A.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),V(this._proxy,fo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,i,r){if(i=i===void 0?this._zoom:this._limitZoom(i),t=this._limitCenter(W(t),i,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&r!==!0){r.animate!==void 0&&(r.zoom=n({animate:r.animate},r.zoom),r.pan=n({animate:r.animate,duration:r.duration},r.pan));var u=this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,i,r.zoom):this._tryAnimatedPan(t,r.pan);if(u)return clearTimeout(this._sizeTimer),this}return this._resetView(t,i,r.pan&&r.pan.noMoveStart),this},setZoom:function(t,i){return this._loaded?this.setView(this.getCenter(),t,{zoom:i}):(this._zoom=t,this)},zoomIn:function(t,i){return t=t||(A.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,i)},zoomOut:function(t,i){return t=t||(A.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,i)},setZoomAround:function(t,i,r){var u=this.getZoomScale(i),c=this.getSize().divideBy(2),f=t instanceof Z?t:this.latLngToContainerPoint(t),v=f.subtract(c).multiplyBy(1-1/u),w=this.containerPointToLatLng(c.add(v));return this.setView(w,i,{zoom:r})},_getBoundsCenterZoom:function(t,i){i=i||{},t=t.getBounds?t.getBounds():ot(t);var r=N(i.paddingTopLeft||i.padding||[0,0]),u=N(i.paddingBottomRight||i.padding||[0,0]),c=this.getBoundsZoom(t,!1,r.add(u));if(c=typeof i.maxZoom=="number"?Math.min(i.maxZoom,c):c,c===1/0)return{center:t.getCenter(),zoom:c};var f=u.subtract(r).divideBy(2),v=this.project(t.getSouthWest(),c),w=this.project(t.getNorthEast(),c),P=this.unproject(v.add(w).divideBy(2).add(f),c);return{center:P,zoom:c}},fitBounds:function(t,i){if(t=ot(t),!t.isValid())throw new Error("Bounds are not valid.");var r=this._getBoundsCenterZoom(t,i);return this.setView(r.center,r.zoom,i)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,i){return this.setView(t,this._zoom,{pan:i})},panBy:function(t,i){if(t=N(t).round(),i=i||{},!t.x&&!t.y)return this.fire("moveend");if(i.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new wo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),i.animate!==!1){G(this._mapPane,"leaflet-pan-anim");var r=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,r,i.duration||.25,i.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,i,r){if(r=r||{},r.animate===!1||!A.any3d)return this.setView(t,i,r);this._stop();var u=this.project(this.getCenter()),c=this.project(t),f=this.getSize(),v=this._zoom;t=W(t),i=i===void 0?v:i;var w=Math.max(f.x,f.y),P=w*this.getZoomScale(v,i),T=c.distanceTo(u)||1,R=1.42,z=R*R;function j(st){var ai=st?-1:1,Ga=st?P:w,$a=P*P-w*w+ai*z*z*T*T,ja=2*Ga*z*T,an=$a/ja,tr=Math.sqrt(an*an+1)-an,qa=tr<1e-9?-18:Math.log(tr);return qa}function _t(st){return(Math.exp(st)-Math.exp(-st))/2}function ut(st){return(Math.exp(st)+Math.exp(-st))/2}function bt(st){return _t(st)/ut(st)}var vt=j(0);function pe(st){return w*(ut(vt)/ut(vt+R*st))}function Ha(st){return w*(ut(vt)*bt(vt+R*st)-_t(vt))/z}function Za(st){return 1-Math.pow(1-st,1.5)}var Va=Date.now(),Jo=(j(1)-vt)/R,Ua=r.duration?1e3*r.duration:1e3*Jo*.8;function Qo(){var st=(Date.now()-Va)/Ua,ai=Za(st)*Jo;st<=1?(this._flyToFrame=at(Qo,this),this._move(this.unproject(u.add(c.subtract(u).multiplyBy(Ha(ai)/T)),v),this.getScaleZoom(w/pe(ai),v),{flyTo:!0})):this._move(t,i)._moveEnd(!0)}return this._moveStart(!0,r.noMoveStart),Qo.call(this),this},flyToBounds:function(t,i){var r=this._getBoundsCenterZoom(t,i);return this.flyTo(r.center,r.zoom,i)},setMaxBounds:function(t){return t=ot(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var i=this.options.minZoom;return this.options.minZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var i=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,i){this._enforcingBounds=!0;var r=this.getCenter(),u=this._limitCenter(r,this._zoom,ot(t));return r.equals(u)||this.panTo(u,i),this._enforcingBounds=!1,this},panInside:function(t,i){i=i||{};var r=N(i.paddingTopLeft||i.padding||[0,0]),u=N(i.paddingBottomRight||i.padding||[0,0]),c=this.project(this.getCenter()),f=this.project(t),v=this.getPixelBounds(),w=mt([v.min.add(r),v.max.subtract(u)]),P=w.getSize();if(!w.contains(f)){this._enforcingBounds=!0;var T=f.subtract(w.getCenter()),R=w.extend(f).getSize().subtract(P);c.x+=T.x<0?-R.x:R.x,c.y+=T.y<0?-R.y:R.y,this.panTo(this.unproject(c),i),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=n({animate:!1,pan:!0},t===!0?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),u=i.divideBy(2).round(),c=r.divideBy(2).round(),f=u.subtract(c);return!f.x&&!f.y?this:(t.animate&&t.pan?this.panBy(f):(t.pan&&this._rawPanBy(f),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:r}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=n({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=h(this._handleGeolocationResponse,this),r=h(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,r,t):navigator.geolocation.getCurrentPosition(i,r,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var i=t.code,r=t.message||(i===1?"permission denied":i===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+r+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var i=t.coords.latitude,r=t.coords.longitude,u=new J(i,r),c=u.toBounds(t.coords.accuracy*2),f=this._locateOptions;if(f.setView){var v=this.getBoundsZoom(c);this.setView(u,f.maxZoom?Math.min(v,f.maxZoom):v)}var w={latlng:u,bounds:c,timestamp:t.timestamp};for(var P in t.coords)typeof t.coords[P]=="number"&&(w[P]=t.coords[P]);this.fire("locationfound",w)}},addHandler:function(t,i){if(!i)return this;var r=this[t]=new i(this);return this._handlers.push(r),this.options[t]&&r.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),et(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(lt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)et(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,i){var r="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),u=X("div",r,i||this._mapPane);return t&&(this._panes[t]=u),u},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),i=this.unproject(t.getBottomLeft()),r=this.unproject(t.getTopRight());return new gt(i,r)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,i,r){t=ot(t),r=N(r||[0,0]);var u=this.getZoom()||0,c=this.getMinZoom(),f=this.getMaxZoom(),v=t.getNorthWest(),w=t.getSouthEast(),P=this.getSize().subtract(r),T=mt(this.project(w,u),this.project(v,u)).getSize(),R=A.any3d?this.options.zoomSnap:1,z=P.x/T.x,j=P.y/T.y,_t=i?Math.max(z,j):Math.min(z,j);return u=this.getScaleZoom(_t,u),R&&(u=Math.round(u/(R/100))*(R/100),u=i?Math.ceil(u/R)*R:Math.floor(u/R)*R),Math.max(c,Math.min(f,u))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Z(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,i){var r=this._getTopLeftPoint(t,i);return new tt(r,r.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,i){var r=this.options.crs;return i=i===void 0?this._zoom:i,r.scale(t)/r.scale(i)},getScaleZoom:function(t,i){var r=this.options.crs;i=i===void 0?this._zoom:i;var u=r.zoom(t*r.scale(i));return isNaN(u)?1/0:u},project:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.latLngToPoint(W(t),i)},unproject:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.pointToLatLng(N(t),i)},layerPointToLatLng:function(t){var i=N(t).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(t){var i=this.project(W(t))._round();return i._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(W(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(ot(t))},distance:function(t,i){return this.options.crs.distance(W(t),W(i))},containerPointToLayerPoint:function(t){return N(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return N(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var i=this.containerPointToLayerPoint(N(t));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(W(t)))},mouseEventToContainerPoint:function(t){return vo(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var i=this._container=po(t);if(i){if(i._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");V(i,"scroll",this._onScroll,this),this._containerId=p(i)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&A.any3d,G(t,"leaflet-container"+(A.touch?" leaflet-touch":"")+(A.retina?" leaflet-retina":"")+(A.ielt9?" leaflet-oldie":"")+(A.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=xe(t,"position");i!=="absolute"&&i!=="relative"&&i!=="fixed"&&i!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),rt(this._mapPane,new Z(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(G(t.markerPane,"leaflet-zoom-hide"),G(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,i,r){rt(this._mapPane,new Z(0,0));var u=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var c=this._zoom!==i;this._moveStart(c,r)._move(t,i)._moveEnd(c),this.fire("viewreset"),u&&this.fire("load")},_moveStart:function(t,i){return t&&this.fire("zoomstart"),i||this.fire("movestart"),this},_move:function(t,i,r,u){i===void 0&&(i=this._zoom);var c=this._zoom!==i;return this._zoom=i,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),u?r&&r.pinch&&this.fire("zoom",r):((c||r&&r.pinch)&&this.fire("zoom",r),this.fire("move",r)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return lt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){rt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[p(this._container)]=this;var i=t?Q:V;i(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),A.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){lt(this._resizeRequest),this._resizeRequest=at(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,i){for(var r=[],u,c=i==="mouseout"||i==="mouseover",f=t.target||t.srcElement,v=!1;f;){if(u=this._targets[p(f)],u&&(i==="click"||i==="preclick")&&this._draggableMoved(u)){v=!0;break}if(u&&u.listens(i,!0)&&(c&&!Ki(f,t)||(r.push(u),c))||f===this._container)break;f=f.parentNode}return!r.length&&!v&&!c&&this.listens(i,!0)&&(r=[this]),r},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var i=t.target||t.srcElement;if(!(!this._loaded||i._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(i))){var r=t.type;r==="mousedown"&&Ui(i),this._fireDOMEvent(t,r)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,i,r){if(t.type==="click"){var u=n({},t);u.type="preclick",this._fireDOMEvent(u,u.type,r)}var c=this._findEventTargets(t,i);if(r){for(var f=[],v=0;v<r.length;v++)r[v].listens(i,!0)&&f.push(r[v]);c=f.concat(c)}if(c.length){i==="contextmenu"&&ct(t);var w=c[0],P={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var T=w.getLatLng&&(!w._radius||w._radius<=10);P.containerPoint=T?this.latLngToContainerPoint(w.getLatLng()):this.mouseEventToContainerPoint(t),P.layerPoint=this.containerPointToLayerPoint(P.containerPoint),P.latlng=T?w.getLatLng():this.layerPointToLatLng(P.layerPoint)}for(v=0;v<c.length;v++)if(c[v].fire(i,P,!0),P.originalEvent._stopped||c[v].options.bubblingMouseEvents===!1&&Y(this._mouseEvents,i)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,i=this._handlers.length;t<i;t++)this._handlers[t].disable()},whenReady:function(t,i){return this._loaded?t.call(i||this,{target:this}):this.on("load",t,i),this},_getMapPanePos:function(){return Xt(this._mapPane)||new Z(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,i){var r=t&&i!==void 0?this._getNewPixelOrigin(t,i):this.getPixelOrigin();return r.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,i){var r=this.getSize()._divideBy(2);return this.project(t,i)._subtract(r)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,i,r){var u=this._getNewPixelOrigin(r,i);return this.project(t,i)._subtract(u)},_latLngBoundsToNewLayerBounds:function(t,i,r){var u=this._getNewPixelOrigin(r,i);return mt([this.project(t.getSouthWest(),i)._subtract(u),this.project(t.getNorthWest(),i)._subtract(u),this.project(t.getSouthEast(),i)._subtract(u),this.project(t.getNorthEast(),i)._subtract(u)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,i,r){if(!r)return t;var u=this.project(t,i),c=this.getSize().divideBy(2),f=new tt(u.subtract(c),u.add(c)),v=this._getBoundsOffset(f,r,i);return Math.abs(v.x)<=1&&Math.abs(v.y)<=1?t:this.unproject(u.add(v),i)},_limitOffset:function(t,i){if(!i)return t;var r=this.getPixelBounds(),u=new tt(r.min.add(t),r.max.add(t));return t.add(this._getBoundsOffset(u,i))},_getBoundsOffset:function(t,i,r){var u=mt(this.project(i.getNorthEast(),r),this.project(i.getSouthWest(),r)),c=u.min.subtract(t.min),f=u.max.subtract(t.max),v=this._rebound(c.x,-f.x),w=this._rebound(c.y,-f.y);return new Z(v,w)},_rebound:function(t,i){return t+i>0?Math.round(t-i)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(i))},_limitZoom:function(t){var i=this.getMinZoom(),r=this.getMaxZoom(),u=A.any3d?this.options.zoomSnap:1;return u&&(t=Math.round(t/u)*u),Math.max(i,Math.min(r,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){it(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,i){var r=this._getCenterOffset(t)._trunc();return(i&&i.animate)!==!0&&!this.getSize().contains(r)?!1:(this.panBy(r,i),!0)},_createAnimProxy:function(){var t=this._proxy=X("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(i){var r=zi,u=this._proxy.style[r];Yt(this._proxy,this.project(i.center,i.zoom),this.getZoomScale(i.zoom,1)),u===this._proxy.style[r]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){et(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),i=this.getZoom();Yt(this._proxy,this.project(t,i),this.getZoomScale(i,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,i,r){if(this._animatingZoom)return!0;if(r=r||{},!this._zoomAnimated||r.animate===!1||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var u=this.getZoomScale(i),c=this._getCenterOffset(t)._divideBy(1-1/u);return r.animate!==!0&&!this.getSize().contains(c)?!1:(at(function(){this._moveStart(!0,r.noMoveStart||!1)._animateZoom(t,i,!0)},this),!0)},_animateZoom:function(t,i,r,u){this._mapPane&&(r&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=i,G(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:i,noUpdate:u}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&it(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function na(t,i){return new K(t,i)}var Et=Bt.extend({options:{position:"topright"},initialize:function(t){E(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var i=this._map;return i&&i.removeControl(this),this.options.position=t,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var i=this._container=this.onAdd(t),r=this.getPosition(),u=t._controlCorners[r];return G(i,"leaflet-control"),r.indexOf("bottom")!==-1?u.insertBefore(i,u.firstChild):u.appendChild(i),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(et(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Ee=function(t){return new Et(t)};K.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},i="leaflet-",r=this._controlContainer=X("div",i+"control-container",this._container);function u(c,f){var v=i+c+" "+i+f;t[c+f]=X("div",v,r)}u("top","left"),u("top","right"),u("bottom","left"),u("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)et(this._controlCorners[t]);et(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Lo=Et.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,i,r,u){return r<u?-1:u<r?1:0}},initialize:function(t,i,r){E(this,r),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var u in t)this._addLayer(t[u],u);for(u in i)this._addLayer(i[u],u,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Et.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,i){return this._addLayer(t,i),this._map?this._update():this},addOverlay:function(t,i){return this._addLayer(t,i,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var i=this._getLayer(p(t));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){G(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(G(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):it(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return it(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",i=this._container=X("div",t),r=this.options.collapsed;i.setAttribute("aria-haspopup",!0),be(i),Wi(i);var u=this._section=X("section",t+"-list");r&&(this._map.on("click",this.collapse,this),V(i,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var c=this._layersLink=X("a",t+"-toggle",i);c.href="#",c.title="Layers",c.setAttribute("role","button"),V(c,{keydown:function(f){f.keyCode===13&&this._expandSafely()},click:function(f){ct(f),this._expandSafely()}},this),r||this.expand(),this._baseLayersList=X("div",t+"-base",u),this._separator=X("div",t+"-separator",u),this._overlaysList=X("div",t+"-overlays",u),i.appendChild(u)},_getLayer:function(t){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&p(this._layers[i].layer)===t)return this._layers[i]},_addLayer:function(t,i,r){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:i,overlay:r}),this.options.sortLayers&&this._layers.sort(h(function(u,c){return this.options.sortFunction(u.layer,c.layer,u.name,c.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;$e(this._baseLayersList),$e(this._overlaysList),this._layerControlInputs=[];var t,i,r,u,c=0;for(r=0;r<this._layers.length;r++)u=this._layers[r],this._addItem(u),i=i||u.overlay,t=t||!u.overlay,c+=u.overlay?0:1;return this.options.hideSingleBase&&(t=t&&c>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=i&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var i=this._getLayer(p(t.target)),r=i.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;r&&this._map.fire(r,i)},_createRadioElement:function(t,i){var r='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(i?' checked="checked"':"")+"/>",u=document.createElement("div");return u.innerHTML=r,u.firstChild},_addItem:function(t){var i=document.createElement("label"),r=this._map.hasLayer(t.layer),u;t.overlay?(u=document.createElement("input"),u.type="checkbox",u.className="leaflet-control-layers-selector",u.defaultChecked=r):u=this._createRadioElement("leaflet-base-layers_"+p(this),r),this._layerControlInputs.push(u),u.layerId=p(t.layer),V(u,"click",this._onInputClick,this);var c=document.createElement("span");c.innerHTML=" "+t.name;var f=document.createElement("span");i.appendChild(f),f.appendChild(u),f.appendChild(c);var v=t.overlay?this._overlaysList:this._baseLayersList;return v.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,i,r,u=[],c=[];this._handlingClick=!0;for(var f=t.length-1;f>=0;f--)i=t[f],r=this._getLayer(i.layerId).layer,i.checked?u.push(r):i.checked||c.push(r);for(f=0;f<c.length;f++)this._map.hasLayer(c[f])&&this._map.removeLayer(c[f]);for(f=0;f<u.length;f++)this._map.hasLayer(u[f])||this._map.addLayer(u[f]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,i,r,u=this._map.getZoom(),c=t.length-1;c>=0;c--)i=t[c],r=this._getLayer(i.layerId).layer,i.disabled=r.options.minZoom!==void 0&&u<r.options.minZoom||r.options.maxZoom!==void 0&&u>r.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,V(t,"click",ct),this.expand();var i=this;setTimeout(function(){Q(t,"click",ct),i._preventClick=!1})}}),oa=function(t,i,r){return new Lo(t,i,r)},Yi=Et.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var i="leaflet-control-zoom",r=X("div",i+" leaflet-bar"),u=this.options;return this._zoomInButton=this._createButton(u.zoomInText,u.zoomInTitle,i+"-in",r,this._zoomIn),this._zoomOutButton=this._createButton(u.zoomOutText,u.zoomOutTitle,i+"-out",r,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),r},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,i,r,u,c){var f=X("a",r,u);return f.innerHTML=t,f.href="#",f.title=i,f.setAttribute("role","button"),f.setAttribute("aria-label",i),be(f),V(f,"click",Qt),V(f,"click",c,this),V(f,"click",this._refocusOnMap,this),f},_updateDisabled:function(){var t=this._map,i="leaflet-disabled";it(this._zoomInButton,i),it(this._zoomOutButton,i),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(G(this._zoomOutButton,i),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(G(this._zoomInButton,i),this._zoomInButton.setAttribute("aria-disabled","true"))}});K.mergeOptions({zoomControl:!0}),K.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Yi,this.addControl(this.zoomControl))});var ra=function(t){return new Yi(t)},xo=Et.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var i="leaflet-control-scale",r=X("div",i),u=this.options;return this._addScales(u,i+"-line",r),t.on(u.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),r},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,i,r){t.metric&&(this._mScale=X("div",i,r)),t.imperial&&(this._iScale=X("div",i,r))},_update:function(){var t=this._map,i=t.getSize().y/2,r=t.distance(t.containerPointToLatLng([0,i]),t.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(r)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var i=this._getRoundNum(t),r=i<1e3?i+" m":i/1e3+" km";this._updateScale(this._mScale,r,i/t)},_updateImperial:function(t){var i=t*3.2808399,r,u,c;i>5280?(r=i/5280,u=this._getRoundNum(r),this._updateScale(this._iScale,u+" mi",u/r)):(c=this._getRoundNum(i),this._updateScale(this._iScale,c+" ft",c/i))},_updateScale:function(t,i,r){t.style.width=Math.round(this.options.maxWidth*r)+"px",t.innerHTML=i},_getRoundNum:function(t){var i=Math.pow(10,(Math.floor(t)+"").length-1),r=t/i;return r=r>=10?10:r>=5?5:r>=3?3:r>=2?2:1,i*r}}),sa=function(t){return new xo(t)},aa='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Xi=Et.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(A.inlineSvg?aa+" ":"")+"Leaflet</a>"},initialize:function(t){E(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=X("div","leaflet-control-attribution"),be(this._container);for(var i in t._layers)t._layers[i].getAttribution&&this.addAttribution(t._layers[i].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var i in this._attributions)this._attributions[i]&&t.push(i);var r=[];this.options.prefix&&r.push(this.options.prefix),t.length&&r.push(t.join(", ")),this._container.innerHTML=r.join(' <span aria-hidden="true">|</span> ')}}});K.mergeOptions({attributionControl:!0}),K.addInitHook(function(){this.options.attributionControl&&new Xi().addTo(this)});var la=function(t){return new Xi(t)};Et.Layers=Lo,Et.Zoom=Yi,Et.Scale=xo,Et.Attribution=Xi,Ee.layers=oa,Ee.zoom=ra,Ee.scale=sa,Ee.attribution=la;var At=Bt.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});At.addTo=function(t,i){return t.addHandler(i,this),this};var ua={Events:Lt},Po=A.touch?"touchstart mousedown":"mousedown",jt=ve.extend({options:{clickTolerance:3},initialize:function(t,i,r,u){E(this,u),this._element=t,this._dragStartTarget=i||t,this._preventOutline=r},enable:function(){this._enabled||(V(this._dragStartTarget,Po,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(jt._dragging===this&&this.finishDrag(!0),Q(this._dragStartTarget,Po,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Fi(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){jt._dragging===this&&this.finishDrag();return}if(!(jt._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(jt._dragging=this,this._preventOutline&&Ui(this._element),Hi(),Pe(),!this._moving)){this.fire("down");var i=t.touches?t.touches[0]:t,r=_o(this._element);this._startPoint=new Z(i.clientX,i.clientY),this._startPos=Xt(this._element),this._parentScale=Gi(r);var u=t.type==="mousedown";V(document,u?"mousemove":"touchmove",this._onMove,this),V(document,u?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var i=t.touches&&t.touches.length===1?t.touches[0]:t,r=new Z(i.clientX,i.clientY)._subtract(this._startPoint);!r.x&&!r.y||Math.abs(r.x)+Math.abs(r.y)<this.options.clickTolerance||(r.x/=this._parentScale.x,r.y/=this._parentScale.y,ct(t),this._moved||(this.fire("dragstart"),this._moved=!0,G(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),G(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),rt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){it(document.body,"leaflet-dragging"),this._lastTarget&&(it(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Q(document,"mousemove touchmove",this._onMove,this),Q(document,"mouseup touchend touchcancel",this._onUp,this),Zi(),Se();var i=this._moved&&this._moving;this._moving=!1,jt._dragging=!1,i&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function So(t,i,r){var u,c=[1,4,2,8],f,v,w,P,T,R,z,j;for(f=0,R=t.length;f<R;f++)t[f]._code=te(t[f],i);for(w=0;w<4;w++){for(z=c[w],u=[],f=0,R=t.length,v=R-1;f<R;v=f++)P=t[f],T=t[v],P._code&z?T._code&z||(j=Ye(T,P,z,i,r),j._code=te(j,i),u.push(j)):(T._code&z&&(j=Ye(T,P,z,i,r),j._code=te(j,i),u.push(j)),u.push(P));t=u}return t}function Co(t,i){var r,u,c,f,v,w,P,T,R;if(!t||t.length===0)throw new Error("latlngs not passed");Ct(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var z=W([0,0]),j=ot(t),_t=j.getNorthWest().distanceTo(j.getSouthWest())*j.getNorthEast().distanceTo(j.getNorthWest());_t<1700&&(z=Ji(t));var ut=t.length,bt=[];for(r=0;r<ut;r++){var vt=W(t[r]);bt.push(i.project(W([vt.lat-z.lat,vt.lng-z.lng])))}for(w=P=T=0,r=0,u=ut-1;r<ut;u=r++)c=bt[r],f=bt[u],v=c.y*f.x-f.y*c.x,P+=(c.x+f.x)*v,T+=(c.y+f.y)*v,w+=v*3;w===0?R=bt[0]:R=[P/w,T/w];var pe=i.unproject(N(R));return W([pe.lat+z.lat,pe.lng+z.lng])}function Ji(t){for(var i=0,r=0,u=0,c=0;c<t.length;c++){var f=W(t[c]);i+=f.lat,r+=f.lng,u++}return W([i/u,r/u])}var ha={__proto__:null,clipPolygon:So,polygonCenter:Co,centroid:Ji};function bo(t,i){if(!i||!t.length)return t.slice();var r=i*i;return t=fa(t,r),t=da(t,r),t}function Eo(t,i,r){return Math.sqrt(Te(t,i,r,!0))}function ca(t,i,r){return Te(t,i,r)}function da(t,i){var r=t.length,u=typeof Uint8Array<"u"?Uint8Array:Array,c=new u(r);c[0]=c[r-1]=1,Qi(t,c,i,0,r-1);var f,v=[];for(f=0;f<r;f++)c[f]&&v.push(t[f]);return v}function Qi(t,i,r,u,c){var f=0,v,w,P;for(w=u+1;w<=c-1;w++)P=Te(t[w],t[u],t[c],!0),P>f&&(v=w,f=P);f>r&&(i[v]=1,Qi(t,i,r,u,v),Qi(t,i,r,v,c))}function fa(t,i){for(var r=[t[0]],u=1,c=0,f=t.length;u<f;u++)pa(t[u],t[c])>i&&(r.push(t[u]),c=u);return c<f-1&&r.push(t[f-1]),r}var To;function Mo(t,i,r,u,c){var f=u?To:te(t,r),v=te(i,r),w,P,T;for(To=v;;){if(!(f|v))return[t,i];if(f&v)return!1;w=f||v,P=Ye(t,i,w,r,c),T=te(P,r),w===f?(t=P,f=T):(i=P,v=T)}}function Ye(t,i,r,u,c){var f=i.x-t.x,v=i.y-t.y,w=u.min,P=u.max,T,R;return r&8?(T=t.x+f*(P.y-t.y)/v,R=P.y):r&4?(T=t.x+f*(w.y-t.y)/v,R=w.y):r&2?(T=P.x,R=t.y+v*(P.x-t.x)/f):r&1&&(T=w.x,R=t.y+v*(w.x-t.x)/f),new Z(T,R,c)}function te(t,i){var r=0;return t.x<i.min.x?r|=1:t.x>i.max.x&&(r|=2),t.y<i.min.y?r|=4:t.y>i.max.y&&(r|=8),r}function pa(t,i){var r=i.x-t.x,u=i.y-t.y;return r*r+u*u}function Te(t,i,r,u){var c=i.x,f=i.y,v=r.x-c,w=r.y-f,P=v*v+w*w,T;return P>0&&(T=((t.x-c)*v+(t.y-f)*w)/P,T>1?(c=r.x,f=r.y):T>0&&(c+=v*T,f+=w*T)),v=t.x-c,w=t.y-f,u?v*v+w*w:new Z(c,f)}function Ct(t){return!D(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function ko(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ct(t)}function Ro(t,i){var r,u,c,f,v,w,P,T;if(!t||t.length===0)throw new Error("latlngs not passed");Ct(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var R=W([0,0]),z=ot(t),j=z.getNorthWest().distanceTo(z.getSouthWest())*z.getNorthEast().distanceTo(z.getNorthWest());j<1700&&(R=Ji(t));var _t=t.length,ut=[];for(r=0;r<_t;r++){var bt=W(t[r]);ut.push(i.project(W([bt.lat-R.lat,bt.lng-R.lng])))}for(r=0,u=0;r<_t-1;r++)u+=ut[r].distanceTo(ut[r+1])/2;if(u===0)T=ut[0];else for(r=0,f=0;r<_t-1;r++)if(v=ut[r],w=ut[r+1],c=v.distanceTo(w),f+=c,f>u){P=(f-u)/c,T=[w.x-P*(w.x-v.x),w.y-P*(w.y-v.y)];break}var vt=i.unproject(N(T));return W([vt.lat+R.lat,vt.lng+R.lng])}var _a={__proto__:null,simplify:bo,pointToSegmentDistance:Eo,closestPointOnSegment:ca,clipSegment:Mo,_getEdgeIntersection:Ye,_getBitCode:te,_sqClosestPointOnSegment:Te,isFlat:Ct,_flat:ko,polylineCenter:Ro},tn={project:function(t){return new Z(t.lng,t.lat)},unproject:function(t){return new J(t.y,t.x)},bounds:new tt([-180,-90],[180,90])},en={R:6378137,R_MINOR:6356752314245179e-9,bounds:new tt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var i=Math.PI/180,r=this.R,u=t.lat*i,c=this.R_MINOR/r,f=Math.sqrt(1-c*c),v=f*Math.sin(u),w=Math.tan(Math.PI/4-u/2)/Math.pow((1-v)/(1+v),f/2);return u=-r*Math.log(Math.max(w,1e-10)),new Z(t.lng*i*r,u)},unproject:function(t){for(var i=180/Math.PI,r=this.R,u=this.R_MINOR/r,c=Math.sqrt(1-u*u),f=Math.exp(-t.y/r),v=Math.PI/2-2*Math.atan(f),w=0,P=.1,T;w<15&&Math.abs(P)>1e-7;w++)T=c*Math.sin(v),T=Math.pow((1-T)/(1+T),c/2),P=Math.PI/2-2*Math.atan(f*T)-v,v+=P;return new J(v*i,t.x*i/r)}},ma={__proto__:null,LonLat:tn,Mercator:en,SphericalMercator:Ei},ga=n({},$t,{code:"EPSG:3395",projection:en,transformation:function(){var t=.5/(Math.PI*en.R);return ye(t,.5,-t,.5)}()}),Do=n({},$t,{code:"EPSG:4326",projection:tn,transformation:ye(1/180,1,-1/180,.5)}),va=n({},Nt,{projection:tn,transformation:ye(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,i){var r=i.lng-t.lng,u=i.lat-t.lat;return Math.sqrt(r*r+u*u)},infinite:!0});Nt.Earth=$t,Nt.EPSG3395=ga,Nt.EPSG3857=Mi,Nt.EPSG900913=Ss,Nt.EPSG4326=Do,Nt.Simple=va;var Tt=ve.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[p(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[p(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var i=t.target;if(i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var r=this.getEvents();i.on(r,this),this.once("remove",function(){i.off(r,this)},this)}this.onAdd(i),this.fire("add"),i.fire("layeradd",{layer:this})}}});K.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var i=p(t);return this._layers[i]?this:(this._layers[i]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var i=p(t);return this._layers[i]?(this._loaded&&t.onRemove(this),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return p(t)in this._layers},eachLayer:function(t,i){for(var r in this._layers)t.call(i,this._layers[r]);return this},_addLayers:function(t){t=t?D(t)?t:[t]:[];for(var i=0,r=t.length;i<r;i++)this.addLayer(t[i])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[p(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var i=p(t);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,i=-1/0,r=this._getZoomSpan();for(var u in this._zoomBoundLayers){var c=this._zoomBoundLayers[u].options;t=c.minZoom===void 0?t:Math.min(t,c.minZoom),i=c.maxZoom===void 0?i:Math.max(i,c.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=t===1/0?void 0:t,r!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ue=Tt.extend({initialize:function(t,i){E(this,i),this._layers={};var r,u;if(t)for(r=0,u=t.length;r<u;r++)this.addLayer(t[r])},addLayer:function(t){var i=this.getLayerId(t);return this._layers[i]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var i=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(t){var i=typeof t=="number"?t:this.getLayerId(t);return i in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var i=Array.prototype.slice.call(arguments,1),r,u;for(r in this._layers)u=this._layers[r],u[t]&&u[t].apply(u,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,i){for(var r in this._layers)t.call(i,this._layers[r]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return p(t)}}),ya=function(t,i){return new ue(t,i)},Ht=ue.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),ue.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),ue.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new gt;for(var i in this._layers){var r=this._layers[i];t.extend(r.getBounds?r.getBounds():r.getLatLng())}return t}}),wa=function(t,i){return new Ht(t,i)},he=Bt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){E(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,i){var r=this._getIconUrl(t);if(!r){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var u=this._createImg(r,i&&i.tagName==="IMG"?i:null);return this._setIconStyles(u,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),u},_setIconStyles:function(t,i){var r=this.options,u=r[i+"Size"];typeof u=="number"&&(u=[u,u]);var c=N(u),f=N(i==="shadow"&&r.shadowAnchor||r.iconAnchor||c&&c.divideBy(2,!0));t.className="leaflet-marker-"+i+" "+(r.className||""),f&&(t.style.marginLeft=-f.x+"px",t.style.marginTop=-f.y+"px"),c&&(t.style.width=c.x+"px",t.style.height=c.y+"px")},_createImg:function(t,i){return i=i||document.createElement("img"),i.src=t,i},_getIconUrl:function(t){return A.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function La(t){return new he(t)}var Me=he.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof Me.imagePath!="string"&&(Me.imagePath=this._detectIconPath()),(this.options.imagePath||Me.imagePath)+he.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var i=function(r,u,c){var f=u.exec(r);return f&&f[c]};return t=i(t,/^url\((['"])?(.+)\1\)$/,2),t&&i(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=X("div","leaflet-default-icon-path",document.body),i=xe(t,"background-image")||xe(t,"backgroundImage");if(document.body.removeChild(t),i=this._stripUrl(i),i)return i;var r=document.querySelector('link[href$="leaflet.css"]');return r?r.href.substring(0,r.href.length-11-1):""}}),Oo=At.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new jt(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),G(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&it(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var i=this._marker,r=i._map,u=this._marker.options.autoPanSpeed,c=this._marker.options.autoPanPadding,f=Xt(i._icon),v=r.getPixelBounds(),w=r.getPixelOrigin(),P=mt(v.min._subtract(w).add(c),v.max._subtract(w).subtract(c));if(!P.contains(f)){var T=N((Math.max(P.max.x,f.x)-P.max.x)/(v.max.x-P.max.x)-(Math.min(P.min.x,f.x)-P.min.x)/(v.min.x-P.min.x),(Math.max(P.max.y,f.y)-P.max.y)/(v.max.y-P.max.y)-(Math.min(P.min.y,f.y)-P.min.y)/(v.min.y-P.min.y)).multiplyBy(u);r.panBy(T,{animate:!1}),this._draggable._newPos._add(T),this._draggable._startPos._add(T),rt(i._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=at(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(lt(this._panRequest),this._panRequest=at(this._adjustPan.bind(this,t)))},_onDrag:function(t){var i=this._marker,r=i._shadow,u=Xt(i._icon),c=i._map.layerPointToLatLng(u);r&&rt(r,u),i._latlng=c,t.latlng=c,t.oldLatLng=this._oldLatLng,i.fire("move",t).fire("drag",t)},_onDragEnd:function(t){lt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Xe=Tt.extend({options:{icon:new Me,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,i){E(this,i),this._latlng=W(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var i=this._latlng;return this._latlng=W(t),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),r=t.icon.createIcon(this._icon),u=!1;r!==this._icon&&(this._icon&&this._removeIcon(),u=!0,t.title&&(r.title=t.title),r.tagName==="IMG"&&(r.alt=t.alt||"")),G(r,i),t.keyboard&&(r.tabIndex="0",r.setAttribute("role","button")),this._icon=r,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&V(r,"focus",this._panOnFocus,this);var c=t.icon.createShadow(this._shadow),f=!1;c!==this._shadow&&(this._removeShadow(),f=!0),c&&(G(c,i),c.alt=""),this._shadow=c,t.opacity<1&&this._updateOpacity(),u&&this.getPane().appendChild(this._icon),this._initInteraction(),c&&f&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Q(this._icon,"focus",this._panOnFocus,this),et(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&et(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&rt(this._icon,t),this._shadow&&rt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(i)},_initInteraction:function(){if(this.options.interactive&&(G(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Oo)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Oo(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&St(this._icon,t),this._shadow&&St(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var i=this.options.icon.options,r=i.iconSize?N(i.iconSize):N(0,0),u=i.iconAnchor?N(i.iconAnchor):N(0,0);t.panInside(this._latlng,{paddingTopLeft:u,paddingBottomRight:r.subtract(u)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function xa(t,i){return new Xe(t,i)}var qt=Tt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return E(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Je=qt.extend({options:{fill:!0,radius:10},initialize:function(t,i){E(this,i),this._latlng=W(t),this._radius=this.options.radius},setLatLng:function(t){var i=this._latlng;return this._latlng=W(t),this.redraw(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var i=t&&t.radius||this._radius;return qt.prototype.setStyle.call(this,t),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,i=this._radiusY||t,r=this._clickTolerance(),u=[t+r,i+r];this._pxBounds=new tt(this._point.subtract(u),this._point.add(u))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Pa(t,i){return new Je(t,i)}var nn=Je.extend({initialize:function(t,i,r){if(typeof i=="number"&&(i=n({},r,{radius:i})),E(this,i),this._latlng=W(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new gt(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:qt.prototype.setStyle,_project:function(){var t=this._latlng.lng,i=this._latlng.lat,r=this._map,u=r.options.crs;if(u.distance===$t.distance){var c=Math.PI/180,f=this._mRadius/$t.R/c,v=r.project([i+f,t]),w=r.project([i-f,t]),P=v.add(w).divideBy(2),T=r.unproject(P).lat,R=Math.acos((Math.cos(f*c)-Math.sin(i*c)*Math.sin(T*c))/(Math.cos(i*c)*Math.cos(T*c)))/c;(isNaN(R)||R===0)&&(R=f/Math.cos(Math.PI/180*i)),this._point=P.subtract(r.getPixelOrigin()),this._radius=isNaN(R)?0:P.x-r.project([T,t-R]).x,this._radiusY=P.y-v.y}else{var z=u.unproject(u.project(this._latlng).subtract([this._mRadius,0]));this._point=r.latLngToLayerPoint(this._latlng),this._radius=this._point.x-r.latLngToLayerPoint(z).x}this._updateBounds()}});function Sa(t,i,r){return new nn(t,i,r)}var Zt=qt.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,i){E(this,i),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var i=1/0,r=null,u=Te,c,f,v=0,w=this._parts.length;v<w;v++)for(var P=this._parts[v],T=1,R=P.length;T<R;T++){c=P[T-1],f=P[T];var z=u(t,c,f,!0);z<i&&(i=z,r=u(t,c,f))}return r&&(r.distance=Math.sqrt(i)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ro(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,i){return i=i||this._defaultShape(),t=W(t),i.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new gt,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Ct(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var i=[],r=Ct(t),u=0,c=t.length;u<c;u++)r?(i[u]=W(t[u]),this._bounds.extend(i[u])):i[u]=this._convertLatLngs(t[u]);return i},_project:function(){var t=new tt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),i=new Z(t,t);this._rawPxBounds&&(this._pxBounds=new tt([this._rawPxBounds.min.subtract(i),this._rawPxBounds.max.add(i)]))},_projectLatlngs:function(t,i,r){var u=t[0]instanceof J,c=t.length,f,v;if(u){for(v=[],f=0;f<c;f++)v[f]=this._map.latLngToLayerPoint(t[f]),r.extend(v[f]);i.push(v)}else for(f=0;f<c;f++)this._projectLatlngs(t[f],i,r)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var i=this._parts,r,u,c,f,v,w,P;for(r=0,c=0,f=this._rings.length;r<f;r++)for(P=this._rings[r],u=0,v=P.length;u<v-1;u++)w=Mo(P[u],P[u+1],t,u,!0),w&&(i[c]=i[c]||[],i[c].push(w[0]),(w[1]!==P[u+1]||u===v-2)&&(i[c].push(w[1]),c++))}},_simplifyPoints:function(){for(var t=this._parts,i=this.options.smoothFactor,r=0,u=t.length;r<u;r++)t[r]=bo(t[r],i)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,i){var r,u,c,f,v,w,P=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(r=0,f=this._parts.length;r<f;r++)for(w=this._parts[r],u=0,v=w.length,c=v-1;u<v;c=u++)if(!(!i&&u===0)&&Eo(t,w[c],w[u])<=P)return!0;return!1}});function Ca(t,i){return new Zt(t,i)}Zt._flat=ko;var ce=Zt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Co(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var i=Zt.prototype._convertLatLngs.call(this,t),r=i.length;return r>=2&&i[0]instanceof J&&i[0].equals(i[r-1])&&i.pop(),i},_setLatLngs:function(t){Zt.prototype._setLatLngs.call(this,t),Ct(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ct(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,i=this.options.weight,r=new Z(i,i);if(t=new tt(t.min.subtract(r),t.max.add(r)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var u=0,c=this._rings.length,f;u<c;u++)f=So(this._rings[u],t,!0),f.length&&this._parts.push(f)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var i=!1,r,u,c,f,v,w,P,T;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(f=0,P=this._parts.length;f<P;f++)for(r=this._parts[f],v=0,T=r.length,w=T-1;v<T;w=v++)u=r[v],c=r[w],u.y>t.y!=c.y>t.y&&t.x<(c.x-u.x)*(t.y-u.y)/(c.y-u.y)+u.x&&(i=!i);return i||Zt.prototype._containsPoint.call(this,t,!0)}});function ba(t,i){return new ce(t,i)}var Vt=Ht.extend({initialize:function(t,i){E(this,i),this._layers={},t&&this.addData(t)},addData:function(t){var i=D(t)?t:t.features,r,u,c;if(i){for(r=0,u=i.length;r<u;r++)c=i[r],(c.geometries||c.geometry||c.features||c.coordinates)&&this.addData(c);return this}var f=this.options;if(f.filter&&!f.filter(t))return this;var v=Qe(t,f);return v?(v.feature=ii(t),v.defaultOptions=v.options,this.resetStyle(v),f.onEachFeature&&f.onEachFeature(t,v),this.addLayer(v)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=n({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(i){this._setLayerStyle(i,t)},this)},_setLayerStyle:function(t,i){t.setStyle&&(typeof i=="function"&&(i=i(t.feature)),t.setStyle(i))}});function Qe(t,i){var r=t.type==="Feature"?t.geometry:t,u=r?r.coordinates:null,c=[],f=i&&i.pointToLayer,v=i&&i.coordsToLatLng||on,w,P,T,R;if(!u&&!r)return null;switch(r.type){case"Point":return w=v(u),Ao(f,t,w,i);case"MultiPoint":for(T=0,R=u.length;T<R;T++)w=v(u[T]),c.push(Ao(f,t,w,i));return new Ht(c);case"LineString":case"MultiLineString":return P=ti(u,r.type==="LineString"?0:1,v),new Zt(P,i);case"Polygon":case"MultiPolygon":return P=ti(u,r.type==="Polygon"?1:2,v),new ce(P,i);case"GeometryCollection":for(T=0,R=r.geometries.length;T<R;T++){var z=Qe({geometry:r.geometries[T],type:"Feature",properties:t.properties},i);z&&c.push(z)}return new Ht(c);case"FeatureCollection":for(T=0,R=r.features.length;T<R;T++){var j=Qe(r.features[T],i);j&&c.push(j)}return new Ht(c);default:throw new Error("Invalid GeoJSON object.")}}function Ao(t,i,r,u){return t?t(i,r):new Xe(r,u&&u.markersInheritOptions&&u)}function on(t){return new J(t[1],t[0],t[2])}function ti(t,i,r){for(var u=[],c=0,f=t.length,v;c<f;c++)v=i?ti(t[c],i-1,r):(r||on)(t[c]),u.push(v);return u}function rn(t,i){return t=W(t),t.alt!==void 0?[x(t.lng,i),x(t.lat,i),x(t.alt,i)]:[x(t.lng,i),x(t.lat,i)]}function ei(t,i,r,u){for(var c=[],f=0,v=t.length;f<v;f++)c.push(i?ei(t[f],Ct(t[f])?0:i-1,r,u):rn(t[f],u));return!i&&r&&c.length>0&&c.push(c[0].slice()),c}function de(t,i){return t.feature?n({},t.feature,{geometry:i}):ii(i)}function ii(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var sn={toGeoJSON:function(t){return de(this,{type:"Point",coordinates:rn(this.getLatLng(),t)})}};Xe.include(sn),nn.include(sn),Je.include(sn),Zt.include({toGeoJSON:function(t){var i=!Ct(this._latlngs),r=ei(this._latlngs,i?1:0,!1,t);return de(this,{type:(i?"Multi":"")+"LineString",coordinates:r})}}),ce.include({toGeoJSON:function(t){var i=!Ct(this._latlngs),r=i&&!Ct(this._latlngs[0]),u=ei(this._latlngs,r?2:i?1:0,!0,t);return i||(u=[u]),de(this,{type:(r?"Multi":"")+"Polygon",coordinates:u})}}),ue.include({toMultiPoint:function(t){var i=[];return this.eachLayer(function(r){i.push(r.toGeoJSON(t).geometry.coordinates)}),de(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(t){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(i==="MultiPoint")return this.toMultiPoint(t);var r=i==="GeometryCollection",u=[];return this.eachLayer(function(c){if(c.toGeoJSON){var f=c.toGeoJSON(t);if(r)u.push(f.geometry);else{var v=ii(f);v.type==="FeatureCollection"?u.push.apply(u,v.features):u.push(v)}}}),r?de(this,{geometries:u,type:"GeometryCollection"}):{type:"FeatureCollection",features:u}}});function Io(t,i){return new Vt(t,i)}var Ea=Io,ni=Tt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,i,r){this._url=t,this._bounds=ot(i),E(this,r)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(G(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){et(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&ae(this._image),this},bringToBack:function(){return this._map&&le(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=ot(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",i=this._image=t?this._url:X("img");if(G(i,"leaflet-image-layer"),this._zoomAnimated&&G(i,"leaflet-zoom-animated"),this.options.className&&G(i,this.options.className),i.onselectstart=y,i.onmousemove=y,i.onload=h(this.fire,this,"load"),i.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=i.src;return}i.src=this._url,i.alt=this.options.alt},_animateZoom:function(t){var i=this._map.getZoomScale(t.zoom),r=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Yt(this._image,r,i)},_reset:function(){var t=this._image,i=new tt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),r=i.getSize();rt(t,i.min),t.style.width=r.x+"px",t.style.height=r.y+"px"},_updateOpacity:function(){St(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Ta=function(t,i,r){return new ni(t,i,r)},zo=ni.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",i=this._image=t?this._url:X("video");if(G(i,"leaflet-image-layer"),this._zoomAnimated&&G(i,"leaflet-zoom-animated"),this.options.className&&G(i,this.options.className),i.onselectstart=y,i.onmousemove=y,i.onloadeddata=h(this.fire,this,"load"),t){for(var r=i.getElementsByTagName("source"),u=[],c=0;c<r.length;c++)u.push(r[c].src);this._url=r.length>0?u:[i.src];return}D(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(i.style,"objectFit")&&(i.style.objectFit="fill"),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop,i.muted=!!this.options.muted,i.playsInline=!!this.options.playsInline;for(var f=0;f<this._url.length;f++){var v=X("source");v.src=this._url[f],i.appendChild(v)}}});function Ma(t,i,r){return new zo(t,i,r)}var Fo=ni.extend({_initImage:function(){var t=this._image=this._url;G(t,"leaflet-image-layer"),this._zoomAnimated&&G(t,"leaflet-zoom-animated"),this.options.className&&G(t,this.options.className),t.onselectstart=y,t.onmousemove=y}});function ka(t,i,r){return new Fo(t,i,r)}var It=Tt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,i){t&&(t instanceof J||D(t))?(this._latlng=W(t),E(this,i)):(E(this,t),this._source=i),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&St(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&St(this._container,1),this.bringToFront(),this.options.interactive&&(G(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(St(this._container,0),this._removeTimeout=setTimeout(h(et,void 0,this._container),200)):et(this._container),this.options.interactive&&(it(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=W(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ae(this._container),this},bringToBack:function(){return this._map&&le(this._container),this},_prepareOpen:function(t){var i=this._source;if(!i._map)return!1;if(i instanceof Ht){i=null;var r=this._source._layers;for(var u in r)if(r[u]._map){i=r[u];break}if(!i)return!1;this._source=i}if(!t)if(i.getCenter)t=i.getCenter();else if(i.getLatLng)t=i.getLatLng();else if(i.getBounds)t=i.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,i=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof i=="string")t.innerHTML=i;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),i=N(this.options.offset),r=this._getAnchor();this._zoomAnimated?rt(this._container,t.add(r)):i=i.add(t).add(r);var u=this._containerBottom=-i.y,c=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=u+"px",this._container.style.left=c+"px"}},_getAnchor:function(){return[0,0]}});K.include({_initOverlay:function(t,i,r,u){var c=i;return c instanceof t||(c=new t(u).setContent(i)),r&&c.setLatLng(r),c}}),Tt.include({_initOverlay:function(t,i,r,u){var c=r;return c instanceof t?(E(c,u),c._source=this):(c=i&&!u?i:new t(u,this),c.setContent(r)),c}});var oi=It.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,It.prototype.openOn.call(this,t)},onAdd:function(t){It.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof qt||this._source.on("preclick",Jt))},onRemove:function(t){It.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof qt||this._source.off("preclick",Jt))},getEvents:function(){var t=It.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",i=this._container=X("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),r=this._wrapper=X("div",t+"-content-wrapper",i);if(this._contentNode=X("div",t+"-content",r),be(i),Wi(this._contentNode),V(i,"contextmenu",Jt),this._tipContainer=X("div",t+"-tip-container",i),this._tip=X("div",t+"-tip",this._tipContainer),this.options.closeButton){var u=this._closeButton=X("a",t+"-close-button",i);u.setAttribute("role","button"),u.setAttribute("aria-label","Close popup"),u.href="#close",u.innerHTML='<span aria-hidden="true">&#215;</span>',V(u,"click",function(c){ct(c),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,i=t.style;i.width="",i.whiteSpace="nowrap";var r=t.offsetWidth;r=Math.min(r,this.options.maxWidth),r=Math.max(r,this.options.minWidth),i.width=r+1+"px",i.whiteSpace="",i.height="";var u=t.offsetHeight,c=this.options.maxHeight,f="leaflet-popup-scrolled";c&&u>c?(i.height=c+"px",G(t,f)):it(t,f),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),r=this._getAnchor();rt(this._container,i.add(r))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,i=parseInt(xe(this._container,"marginBottom"),10)||0,r=this._container.offsetHeight+i,u=this._containerWidth,c=new Z(this._containerLeft,-r-this._containerBottom);c._add(Xt(this._container));var f=t.layerPointToContainerPoint(c),v=N(this.options.autoPanPadding),w=N(this.options.autoPanPaddingTopLeft||v),P=N(this.options.autoPanPaddingBottomRight||v),T=t.getSize(),R=0,z=0;f.x+u+P.x>T.x&&(R=f.x+u-T.x+P.x),f.x-R-w.x<0&&(R=f.x-w.x),f.y+r+P.y>T.y&&(z=f.y+r-T.y+P.y),f.y-z-w.y<0&&(z=f.y-w.y),(R||z)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([R,z]))}},_getAnchor:function(){return N(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ra=function(t,i){return new oi(t,i)};K.mergeOptions({closePopupOnClick:!0}),K.include({openPopup:function(t,i,r){return this._initOverlay(oi,t,i,r).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Tt.include({bindPopup:function(t,i){return this._popup=this._initOverlay(oi,this._popup,t,i),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Ht||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Qt(t);var i=t.layer||t.target;if(this._popup._source===i&&!(i instanceof qt)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=i,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var ri=It.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){It.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){It.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=It.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",i=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=X("div",i),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var i,r,u=this._map,c=this._container,f=u.latLngToContainerPoint(u.getCenter()),v=u.layerPointToContainerPoint(t),w=this.options.direction,P=c.offsetWidth,T=c.offsetHeight,R=N(this.options.offset),z=this._getAnchor();w==="top"?(i=P/2,r=T):w==="bottom"?(i=P/2,r=0):w==="center"?(i=P/2,r=T/2):w==="right"?(i=0,r=T/2):w==="left"?(i=P,r=T/2):v.x<f.x?(w="right",i=0,r=T/2):(w="left",i=P+(R.x+z.x)*2,r=T/2),t=t.subtract(N(i,r,!0)).add(R).add(z),it(c,"leaflet-tooltip-right"),it(c,"leaflet-tooltip-left"),it(c,"leaflet-tooltip-top"),it(c,"leaflet-tooltip-bottom"),G(c,"leaflet-tooltip-"+w),rt(c,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&St(this._container,t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(i)},_getAnchor:function(){return N(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Da=function(t,i){return new ri(t,i)};K.include({openTooltip:function(t,i,r){return this._initOverlay(ri,t,i,r).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Tt.include({bindTooltip:function(t,i){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ri,this._tooltip,t,i),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var i=t?"off":"on",r={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?r.add=this._openTooltip:(r.mouseover=this._openTooltip,r.mouseout=this.closeTooltip,r.click=this._openTooltip,this._map?this._addFocusListeners():r.add=this._addFocusListeners),this._tooltip.options.sticky&&(r.mousemove=this._moveTooltip),this[i](r),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Ht||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&(V(i,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),V(i,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&i.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var i=this;this._map.once("moveend",function(){i._openOnceFlag=!1,i._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var i=t.latlng,r,u;this._tooltip.options.sticky&&t.originalEvent&&(r=this._map.mouseEventToContainerPoint(t.originalEvent),u=this._map.containerPointToLayerPoint(r),i=this._map.layerPointToLatLng(u)),this._tooltip.setLatLng(i)}});var Bo=he.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var i=t&&t.tagName==="DIV"?t:document.createElement("div"),r=this.options;if(r.html instanceof Element?($e(i),i.appendChild(r.html)):i.innerHTML=r.html!==!1?r.html:"",r.bgPos){var u=N(r.bgPos);i.style.backgroundPosition=-u.x+"px "+-u.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});function Oa(t){return new Bo(t)}he.Default=Me;var ke=Tt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:A.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){E(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),et(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ae(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(le(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof Z?t:new Z(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var i=this.getPane().children,r=-t(-1/0,1/0),u=0,c=i.length,f;u<c;u++)f=i[u].style.zIndex,i[u]!==this._container&&f&&(r=t(r,+f));isFinite(r)&&(this.options.zIndex=r+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!A.ielt9){St(this._container,this.options.opacity);var t=+new Date,i=!1,r=!1;for(var u in this._tiles){var c=this._tiles[u];if(!(!c.current||!c.loaded)){var f=Math.min(1,(t-c.loaded)/200);St(c.el,f),f<1?i=!0:(c.active?r=!0:this._onOpaqueTile(c),c.active=!0)}}r&&!this._noPrune&&this._pruneTiles(),i&&(lt(this._fadeFrame),this._fadeFrame=at(this._updateOpacity,this))}},_onOpaqueTile:y,_initContainer:function(){this._container||(this._container=X("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,i=this.options.maxZoom;if(t!==void 0){for(var r in this._levels)r=Number(r),this._levels[r].el.children.length||r===t?(this._levels[r].el.style.zIndex=i-Math.abs(t-r),this._onUpdateLevel(r)):(et(this._levels[r].el),this._removeTilesAtZoom(r),this._onRemoveLevel(r),delete this._levels[r]);var u=this._levels[t],c=this._map;return u||(u=this._levels[t]={},u.el=X("div","leaflet-tile-container leaflet-zoom-animated",this._container),u.el.style.zIndex=i,u.origin=c.project(c.unproject(c.getPixelOrigin()),t).round(),u.zoom=t,this._setZoomTransform(u,c.getCenter(),c.getZoom()),y(u.el.offsetWidth),this._onCreateLevel(u)),this._level=u,u}},_onUpdateLevel:y,_onRemoveLevel:y,_onCreateLevel:y,_pruneTiles:function(){if(this._map){var t,i,r=this._map.getZoom();if(r>this.options.maxZoom||r<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)i=this._tiles[t],i.retain=i.current;for(t in this._tiles)if(i=this._tiles[t],i.current&&!i.active){var u=i.coords;this._retainParent(u.x,u.y,u.z,u.z-5)||this._retainChildren(u.x,u.y,u.z,u.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var i in this._tiles)this._tiles[i].coords.z===t&&this._removeTile(i)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)et(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,i,r,u){var c=Math.floor(t/2),f=Math.floor(i/2),v=r-1,w=new Z(+c,+f);w.z=+v;var P=this._tileCoordsToKey(w),T=this._tiles[P];return T&&T.active?(T.retain=!0,!0):(T&&T.loaded&&(T.retain=!0),v>u?this._retainParent(c,f,v,u):!1)},_retainChildren:function(t,i,r,u){for(var c=2*t;c<2*t+2;c++)for(var f=2*i;f<2*i+2;f++){var v=new Z(c,f);v.z=r+1;var w=this._tileCoordsToKey(v),P=this._tiles[w];if(P&&P.active){P.retain=!0;continue}else P&&P.loaded&&(P.retain=!0);r+1<u&&this._retainChildren(c,f,r+1,u)}},_resetView:function(t){var i=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var i=this.options;return i.minNativeZoom!==void 0&&t<i.minNativeZoom?i.minNativeZoom:i.maxNativeZoom!==void 0&&i.maxNativeZoom<t?i.maxNativeZoom:t},_setView:function(t,i,r,u){var c=Math.round(i);this.options.maxZoom!==void 0&&c>this.options.maxZoom||this.options.minZoom!==void 0&&c<this.options.minZoom?c=void 0:c=this._clampZoom(c);var f=this.options.updateWhenZooming&&c!==this._tileZoom;(!u||f)&&(this._tileZoom=c,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),c!==void 0&&this._update(t),r||this._pruneTiles(),this._noPrune=!!r),this._setZoomTransforms(t,i)},_setZoomTransforms:function(t,i){for(var r in this._levels)this._setZoomTransform(this._levels[r],t,i)},_setZoomTransform:function(t,i,r){var u=this._map.getZoomScale(r,t.zoom),c=t.origin.multiplyBy(u).subtract(this._map._getNewPixelOrigin(i,r)).round();A.any3d?Yt(t.el,c,u):rt(t.el,c)},_resetGrid:function(){var t=this._map,i=t.options.crs,r=this._tileSize=this.getTileSize(),u=this._tileZoom,c=this._map.getPixelWorldBounds(this._tileZoom);c&&(this._globalTileRange=this._pxBoundsToTileRange(c)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,i.wrapLng[0]],u).x/r.x),Math.ceil(t.project([0,i.wrapLng[1]],u).x/r.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([i.wrapLat[0],0],u).y/r.x),Math.ceil(t.project([i.wrapLat[1],0],u).y/r.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var i=this._map,r=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),u=i.getZoomScale(r,this._tileZoom),c=i.project(t,this._tileZoom).floor(),f=i.getSize().divideBy(u*2);return new tt(c.subtract(f),c.add(f))},_update:function(t){var i=this._map;if(i){var r=this._clampZoom(i.getZoom());if(t===void 0&&(t=i.getCenter()),this._tileZoom!==void 0){var u=this._getTiledPixelBounds(t),c=this._pxBoundsToTileRange(u),f=c.getCenter(),v=[],w=this.options.keepBuffer,P=new tt(c.getBottomLeft().subtract([w,-w]),c.getTopRight().add([w,-w]));if(!(isFinite(c.min.x)&&isFinite(c.min.y)&&isFinite(c.max.x)&&isFinite(c.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var T in this._tiles){var R=this._tiles[T].coords;(R.z!==this._tileZoom||!P.contains(new Z(R.x,R.y)))&&(this._tiles[T].current=!1)}if(Math.abs(r-this._tileZoom)>1){this._setView(t,r);return}for(var z=c.min.y;z<=c.max.y;z++)for(var j=c.min.x;j<=c.max.x;j++){var _t=new Z(j,z);if(_t.z=this._tileZoom,!!this._isValidTile(_t)){var ut=this._tiles[this._tileCoordsToKey(_t)];ut?ut.current=!0:v.push(_t)}}if(v.sort(function(vt,pe){return vt.distanceTo(f)-pe.distanceTo(f)}),v.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var bt=document.createDocumentFragment();for(j=0;j<v.length;j++)this._addTile(v[j],bt);this._level.el.appendChild(bt)}}}},_isValidTile:function(t){var i=this._map.options.crs;if(!i.infinite){var r=this._globalTileRange;if(!i.wrapLng&&(t.x<r.min.x||t.x>r.max.x)||!i.wrapLat&&(t.y<r.min.y||t.y>r.max.y))return!1}if(!this.options.bounds)return!0;var u=this._tileCoordsToBounds(t);return ot(this.options.bounds).overlaps(u)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var i=this._map,r=this.getTileSize(),u=t.scaleBy(r),c=u.add(r),f=i.unproject(u,t.z),v=i.unproject(c,t.z);return[f,v]},_tileCoordsToBounds:function(t){var i=this._tileCoordsToNwSe(t),r=new gt(i[0],i[1]);return this.options.noWrap||(r=this._map.wrapLatLngBounds(r)),r},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var i=t.split(":"),r=new Z(+i[0],+i[1]);return r.z=+i[2],r},_removeTile:function(t){var i=this._tiles[t];i&&(et(i.el),delete this._tiles[t],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){G(t,"leaflet-tile");var i=this.getTileSize();t.style.width=i.x+"px",t.style.height=i.y+"px",t.onselectstart=y,t.onmousemove=y,A.ielt9&&this.options.opacity<1&&St(t,this.options.opacity)},_addTile:function(t,i){var r=this._getTilePos(t),u=this._tileCoordsToKey(t),c=this.createTile(this._wrapCoords(t),h(this._tileReady,this,t));this._initTile(c),this.createTile.length<2&&at(h(this._tileReady,this,t,null,c)),rt(c,r),this._tiles[u]={el:c,coords:t,current:!0},i.appendChild(c),this.fire("tileloadstart",{tile:c,coords:t})},_tileReady:function(t,i,r){i&&this.fire("tileerror",{error:i,tile:r,coords:t});var u=this._tileCoordsToKey(t);r=this._tiles[u],r&&(r.loaded=+new Date,this._map._fadeAnimated?(St(r.el,0),lt(this._fadeFrame),this._fadeFrame=at(this._updateOpacity,this)):(r.active=!0,this._pruneTiles()),i||(G(r.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:r.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),A.ielt9||!this._map._fadeAnimated?at(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var i=new Z(this._wrapX?g(t.x,this._wrapX):t.x,this._wrapY?g(t.y,this._wrapY):t.y);return i.z=t.z,i},_pxBoundsToTileRange:function(t){var i=this.getTileSize();return new tt(t.min.unscaleBy(i).floor(),t.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Aa(t){return new ke(t)}var fe=ke.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,i){this._url=t,i=E(this,i),i.detectRetina&&A.retina&&i.maxZoom>0?(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom=Math.min(i.maxZoom,i.minZoom+1)):(i.zoomOffset++,i.maxZoom=Math.max(i.minZoom,i.maxZoom-1)),i.minZoom=Math.max(0,i.minZoom)):i.zoomReverse?i.minZoom=Math.min(i.maxZoom,i.minZoom):i.maxZoom=Math.max(i.minZoom,i.maxZoom),typeof i.subdomains=="string"&&(i.subdomains=i.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,i){return this._url===t&&i===void 0&&(i=!0),this._url=t,i||this.redraw(),this},createTile:function(t,i){var r=document.createElement("img");return V(r,"load",h(this._tileOnLoad,this,i,r)),V(r,"error",h(this._tileOnError,this,i,r)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(r.referrerPolicy=this.options.referrerPolicy),r.alt="",r.src=this.getTileUrl(t),r},getTileUrl:function(t){var i={r:A.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-t.y;this.options.tms&&(i.y=r),i["-y"]=r}return I(this._url,n(i,this.options))},_tileOnLoad:function(t,i){A.ielt9?setTimeout(h(t,this,null,i),0):t(null,i)},_tileOnError:function(t,i,r){var u=this.options.errorTileUrl;u&&i.getAttribute("src")!==u&&(i.src=u),t(r,i)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,i=this.options.maxZoom,r=this.options.zoomReverse,u=this.options.zoomOffset;return r&&(t=i-t),t+u},_getSubdomain:function(t){var i=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var t,i;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(i=this._tiles[t].el,i.onload=y,i.onerror=y,!i.complete)){i.src=$;var r=this._tiles[t].coords;et(i),delete this._tiles[t],this.fire("tileabort",{tile:i,coords:r})}},_removeTile:function(t){var i=this._tiles[t];if(i)return i.el.setAttribute("src",$),ke.prototype._removeTile.call(this,t)},_tileReady:function(t,i,r){if(!(!this._map||r&&r.getAttribute("src")===$))return ke.prototype._tileReady.call(this,t,i,r)}});function No(t,i){return new fe(t,i)}var Ho=fe.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,i){this._url=t;var r=n({},this.defaultWmsParams);for(var u in i)u in this.options||(r[u]=i[u]);i=E(this,i);var c=i.detectRetina&&A.retina?2:1,f=this.getTileSize();r.width=f.x*c,r.height=f.y*c,this.wmsParams=r},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,fe.prototype.onAdd.call(this,t)},getTileUrl:function(t){var i=this._tileCoordsToNwSe(t),r=this._crs,u=mt(r.project(i[0]),r.project(i[1])),c=u.min,f=u.max,v=(this._wmsVersion>=1.3&&this._crs===Do?[c.y,c.x,f.y,f.x]:[c.x,c.y,f.x,f.y]).join(","),w=fe.prototype.getTileUrl.call(this,t);return w+M(this.wmsParams,w,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+v},setParams:function(t,i){return n(this.wmsParams,t),i||this.redraw(),this}});function Ia(t,i){return new Ho(t,i)}fe.WMS=Ho,No.wms=Ia;var Ut=Tt.extend({options:{padding:.1},initialize:function(t){E(this,t),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),G(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,i){var r=this._map.getZoomScale(i,this._zoom),u=this._map.getSize().multiplyBy(.5+this.options.padding),c=this._map.project(this._center,i),f=u.multiplyBy(-r).add(c).subtract(this._map._getNewPixelOrigin(t,i));A.any3d?Yt(this._container,f,r):rt(this._container,f)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,i=this._map.getSize(),r=this._map.containerPointToLayerPoint(i.multiplyBy(-t)).round();this._bounds=new tt(r,r.add(i.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Zo=Ut.extend({options:{tolerance:0},getEvents:function(){var t=Ut.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ut.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");V(t,"mousemove",this._onMouseMove,this),V(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),V(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){lt(this._redrawRequest),delete this._ctx,et(this._container),Q(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var i in this._layers)t=this._layers[i],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ut.prototype._update.call(this);var t=this._bounds,i=this._container,r=t.getSize(),u=A.retina?2:1;rt(i,t.min),i.width=u*r.x,i.height=u*r.y,i.style.width=r.x+"px",i.style.height=r.y+"px",A.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Ut.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[p(t)]=t;var i=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var i=t._order,r=i.next,u=i.prev;r?r.prev=u:this._drawLast=u,u?u.next=r:this._drawFirst=r,delete t._order,delete this._layers[p(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var i=t.options.dashArray.split(/[, ]+/),r=[],u,c;for(c=0;c<i.length;c++){if(u=Number(i[c]),isNaN(u))return;r.push(u)}t.options._dashArray=r}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||at(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var i=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new tt,this._redrawBounds.extend(t._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(t._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var i=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,i.x,i.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,i=this._redrawBounds;if(this._ctx.save(),i){var r=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,r.x,r.y),this._ctx.clip()}this._drawing=!0;for(var u=this._drawFirst;u;u=u.next)t=u.layer,(!i||t._pxBounds&&t._pxBounds.intersects(i))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,i){if(this._drawing){var r,u,c,f,v=t._parts,w=v.length,P=this._ctx;if(w){for(P.beginPath(),r=0;r<w;r++){for(u=0,c=v[r].length;u<c;u++)f=v[r][u],P[u?"lineTo":"moveTo"](f.x,f.y);i&&P.closePath()}this._fillStroke(P,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var i=t._point,r=this._ctx,u=Math.max(Math.round(t._radius),1),c=(Math.max(Math.round(t._radiusY),1)||u)/u;c!==1&&(r.save(),r.scale(1,c)),r.beginPath(),r.arc(i.x,i.y/c,u,0,Math.PI*2,!1),c!==1&&r.restore(),this._fillStroke(r,t)}},_fillStroke:function(t,i){var r=i.options;r.fill&&(t.globalAlpha=r.fillOpacity,t.fillStyle=r.fillColor||r.color,t.fill(r.fillRule||"evenodd")),r.stroke&&r.weight!==0&&(t.setLineDash&&t.setLineDash(i.options&&i.options._dashArray||[]),t.globalAlpha=r.opacity,t.lineWidth=r.weight,t.strokeStyle=r.color,t.lineCap=r.lineCap,t.lineJoin=r.lineJoin,t.stroke())},_onClick:function(t){for(var i=this._map.mouseEventToLayerPoint(t),r,u,c=this._drawFirst;c;c=c.next)r=c.layer,r.options.interactive&&r._containsPoint(i)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(r))&&(u=r);this._fireEvent(u?[u]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var i=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,i)}},_handleMouseOut:function(t){var i=this._hoveredLayer;i&&(it(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,i){if(!this._mouseHoverThrottled){for(var r,u,c=this._drawFirst;c;c=c.next)r=c.layer,r.options.interactive&&r._containsPoint(i)&&(u=r);u!==this._hoveredLayer&&(this._handleMouseOut(t),u&&(G(this._container,"leaflet-interactive"),this._fireEvent([u],t,"mouseover"),this._hoveredLayer=u)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,i,r){this._map._fireDOMEvent(i,r||i.type,t)},_bringToFront:function(t){var i=t._order;if(i){var r=i.next,u=i.prev;if(r)r.prev=u;else return;u?u.next=r:r&&(this._drawFirst=r),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(t)}},_bringToBack:function(t){var i=t._order;if(i){var r=i.next,u=i.prev;if(u)u.next=r;else return;r?r.prev=u:u&&(this._drawLast=u),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(t)}}});function Vo(t){return A.canvas?new Zo(t):null}var Re=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),za={_initContainer:function(){this._container=X("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ut.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var i=t._container=Re("shape");G(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",t._path=Re("path"),i.appendChild(t._path),this._updateStyle(t),this._layers[p(t)]=t},_addPath:function(t){var i=t._container;this._container.appendChild(i),t.options.interactive&&t.addInteractiveTarget(i)},_removePath:function(t){var i=t._container;et(i),t.removeInteractiveTarget(i),delete this._layers[p(t)]},_updateStyle:function(t){var i=t._stroke,r=t._fill,u=t.options,c=t._container;c.stroked=!!u.stroke,c.filled=!!u.fill,u.stroke?(i||(i=t._stroke=Re("stroke")),c.appendChild(i),i.weight=u.weight+"px",i.color=u.color,i.opacity=u.opacity,u.dashArray?i.dashStyle=D(u.dashArray)?u.dashArray.join(" "):u.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=u.lineCap.replace("butt","flat"),i.joinstyle=u.lineJoin):i&&(c.removeChild(i),t._stroke=null),u.fill?(r||(r=t._fill=Re("fill")),c.appendChild(r),r.color=u.fillColor||u.color,r.opacity=u.fillOpacity):r&&(c.removeChild(r),t._fill=null)},_updateCircle:function(t){var i=t._point.round(),r=Math.round(t._radius),u=Math.round(t._radiusY||r);this._setPath(t,t._empty()?"M0 0":"AL "+i.x+","+i.y+" "+r+","+u+" 0,"+65535*360)},_setPath:function(t,i){t._path.v=i},_bringToFront:function(t){ae(t._container)},_bringToBack:function(t){le(t._container)}},si=A.vml?Re:$n,De=Ut.extend({_initContainer:function(){this._container=si("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=si("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){et(this._container),Q(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ut.prototype._update.call(this);var t=this._bounds,i=t.getSize(),r=this._container;(!this._svgSize||!this._svgSize.equals(i))&&(this._svgSize=i,r.setAttribute("width",i.x),r.setAttribute("height",i.y)),rt(r,t.min),r.setAttribute("viewBox",[t.min.x,t.min.y,i.x,i.y].join(" ")),this.fire("update")}},_initPath:function(t){var i=t._path=si("path");t.options.className&&G(i,t.options.className),t.options.interactive&&G(i,"leaflet-interactive"),this._updateStyle(t),this._layers[p(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){et(t._path),t.removeInteractiveTarget(t._path),delete this._layers[p(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var i=t._path,r=t.options;i&&(r.stroke?(i.setAttribute("stroke",r.color),i.setAttribute("stroke-opacity",r.opacity),i.setAttribute("stroke-width",r.weight),i.setAttribute("stroke-linecap",r.lineCap),i.setAttribute("stroke-linejoin",r.lineJoin),r.dashArray?i.setAttribute("stroke-dasharray",r.dashArray):i.removeAttribute("stroke-dasharray"),r.dashOffset?i.setAttribute("stroke-dashoffset",r.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),r.fill?(i.setAttribute("fill",r.fillColor||r.color),i.setAttribute("fill-opacity",r.fillOpacity),i.setAttribute("fill-rule",r.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(t,i){this._setPath(t,jn(t._parts,i))},_updateCircle:function(t){var i=t._point,r=Math.max(Math.round(t._radius),1),u=Math.max(Math.round(t._radiusY),1)||r,c="a"+r+","+u+" 0 1,0 ",f=t._empty()?"M0 0":"M"+(i.x-r)+","+i.y+c+r*2+",0 "+c+-r*2+",0 ";this._setPath(t,f)},_setPath:function(t,i){t._path.setAttribute("d",i)},_bringToFront:function(t){ae(t._path)},_bringToBack:function(t){le(t._path)}});A.vml&&De.include(za);function Uo(t){return A.svg||A.vml?new De(t):null}K.include({getRenderer:function(t){var i=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this._createRenderer()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var i=this._paneRenderers[t];return i===void 0&&(i=this._createRenderer({pane:t}),this._paneRenderers[t]=i),i},_createRenderer:function(t){return this.options.preferCanvas&&Vo(t)||Uo(t)}});var Go=ce.extend({initialize:function(t,i){ce.prototype.initialize.call(this,this._boundsToLatLngs(t),i)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=ot(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Fa(t,i){return new Go(t,i)}De.create=si,De.pointsToPath=jn,Vt.geometryToLayer=Qe,Vt.coordsToLatLng=on,Vt.coordsToLatLngs=ti,Vt.latLngToCoords=rn,Vt.latLngsToCoords=ei,Vt.getFeature=de,Vt.asFeature=ii,K.mergeOptions({boxZoom:!0});var $o=At.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){V(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Q(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){et(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Pe(),Hi(),this._startPoint=this._map.mouseEventToContainerPoint(t),V(document,{contextmenu:Qt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=X("div","leaflet-zoom-box",this._container),G(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var i=new tt(this._point,this._startPoint),r=i.getSize();rt(this._box,i.min),this._box.style.width=r.x+"px",this._box.style.height=r.y+"px"},_finish:function(){this._moved&&(et(this._box),it(this._container,"leaflet-crosshair")),Se(),Zi(),Q(document,{contextmenu:Qt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var i=new gt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});K.addInitHook("addHandler","boxZoom",$o),K.mergeOptions({doubleClickZoom:!0});var jo=At.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var i=this._map,r=i.getZoom(),u=i.options.zoomDelta,c=t.originalEvent.shiftKey?r-u:r+u;i.options.doubleClickZoom==="center"?i.setZoom(c):i.setZoomAround(t.containerPoint,c)}});K.addInitHook("addHandler","doubleClickZoom",jo),K.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var qo=At.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new jt(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}G(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){it(this._map._container,"leaflet-grab"),it(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=ot(this._map.options.maxBounds);this._offsetLimit=mt(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var i=this._lastTime=+new Date,r=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(r),this._times.push(i),this._prunePositions(i)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,i){return t-(t-i)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;t.x<i.min.x&&(t.x=this._viscousLimit(t.x,i.min.x)),t.y<i.min.y&&(t.y=this._viscousLimit(t.y,i.min.y)),t.x>i.max.x&&(t.x=this._viscousLimit(t.x,i.max.x)),t.y>i.max.y&&(t.y=this._viscousLimit(t.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,i=Math.round(t/2),r=this._initialWorldOffset,u=this._draggable._newPos.x,c=(u-i+r)%t+i-r,f=(u+i+r)%t-i-r,v=Math.abs(c+r)<Math.abs(f+r)?c:f;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=v},_onDragEnd:function(t){var i=this._map,r=i.options,u=!r.inertia||t.noInertia||this._times.length<2;if(i.fire("dragend",t),u)i.fire("moveend");else{this._prunePositions(+new Date);var c=this._lastPos.subtract(this._positions[0]),f=(this._lastTime-this._times[0])/1e3,v=r.easeLinearity,w=c.multiplyBy(v/f),P=w.distanceTo([0,0]),T=Math.min(r.inertiaMaxSpeed,P),R=w.multiplyBy(T/P),z=T/(r.inertiaDeceleration*v),j=R.multiplyBy(-z/2).round();!j.x&&!j.y?i.fire("moveend"):(j=i._limitOffset(j,i.options.maxBounds),at(function(){i.panBy(j,{duration:z,easeLinearity:v,noMoveStart:!0,animate:!0})}))}}});K.addInitHook("addHandler","dragging",qo),K.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Wo=At.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),V(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Q(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,i=document.documentElement,r=t.scrollTop||i.scrollTop,u=t.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(u,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var i=this._panKeys={},r=this.keyCodes,u,c;for(u=0,c=r.left.length;u<c;u++)i[r.left[u]]=[-1*t,0];for(u=0,c=r.right.length;u<c;u++)i[r.right[u]]=[t,0];for(u=0,c=r.down.length;u<c;u++)i[r.down[u]]=[0,t];for(u=0,c=r.up.length;u<c;u++)i[r.up[u]]=[0,-1*t]},_setZoomDelta:function(t){var i=this._zoomKeys={},r=this.keyCodes,u,c;for(u=0,c=r.zoomIn.length;u<c;u++)i[r.zoomIn[u]]=t;for(u=0,c=r.zoomOut.length;u<c;u++)i[r.zoomOut[u]]=-t},_addHooks:function(){V(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Q(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var i=t.keyCode,r=this._map,u;if(i in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(u=this._panKeys[i],t.shiftKey&&(u=N(u).multiplyBy(3)),r.options.maxBounds&&(u=r._limitOffset(N(u),r.options.maxBounds)),r.options.worldCopyJump){var c=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(u)));r.panTo(c)}else r.panBy(u)}else if(i in this._zoomKeys)r.setZoom(r.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else if(i===27&&r._popup&&r._popup.options.closeOnEscapeKey)r.closePopup();else return;Qt(t)}}});K.addInitHook("addHandler","keyboard",Wo),K.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ko=At.extend({addHooks:function(){V(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Q(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var i=yo(t),r=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var u=Math.max(r-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),u),Qt(t)},_performZoom:function(){var t=this._map,i=t.getZoom(),r=this._map.options.zoomSnap||0;t._stop();var u=this._delta/(this._map.options.wheelPxPerZoomLevel*4),c=4*Math.log(2/(1+Math.exp(-Math.abs(u))))/Math.LN2,f=r?Math.ceil(c/r)*r:c,v=t._limitZoom(i+(this._delta>0?f:-f))-i;this._delta=0,this._startTime=null,v&&(t.options.scrollWheelZoom==="center"?t.setZoom(i+v):t.setZoomAround(this._lastMousePos,i+v))}});K.addInitHook("addHandler","scrollWheelZoom",Ko);var Ba=600;K.mergeOptions({tapHold:A.touchNative&&A.safari&&A.mobile,tapTolerance:15});var Yo=At.extend({addHooks:function(){V(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Q(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var i=t.touches[0];this._startPos=this._newPos=new Z(i.clientX,i.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(V(document,"touchend",ct),V(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",i))},this),Ba),V(document,"touchend touchcancel contextmenu",this._cancel,this),V(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Q(document,"touchend",ct),Q(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Q(document,"touchend touchcancel contextmenu",this._cancel,this),Q(document,"touchmove",this._onMove,this)},_onMove:function(t){var i=t.touches[0];this._newPos=new Z(i.clientX,i.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,i){var r=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY});r._simulated=!0,i.target.dispatchEvent(r)}});K.addInitHook("addHandler","tapHold",Yo),K.mergeOptions({touchZoom:A.touch,bounceAtZoomLimits:!0});var Xo=At.extend({addHooks:function(){G(this._map._container,"leaflet-touch-zoom"),V(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){it(this._map._container,"leaflet-touch-zoom"),Q(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(!(!t.touches||t.touches.length!==2||i._animatingZoom||this._zooming)){var r=i.mouseEventToContainerPoint(t.touches[0]),u=i.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),i.options.touchZoom!=="center"&&(this._pinchStartLatLng=i.containerPointToLatLng(r.add(u)._divideBy(2))),this._startDist=r.distanceTo(u),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),V(document,"touchmove",this._onTouchMove,this),V(document,"touchend touchcancel",this._onTouchEnd,this),ct(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var i=this._map,r=i.mouseEventToContainerPoint(t.touches[0]),u=i.mouseEventToContainerPoint(t.touches[1]),c=r.distanceTo(u)/this._startDist;if(this._zoom=i.getScaleZoom(c,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&c<1||this._zoom>i.getMaxZoom()&&c>1)&&(this._zoom=i._limitZoom(this._zoom)),i.options.touchZoom==="center"){if(this._center=this._startLatLng,c===1)return}else{var f=r._add(u)._divideBy(2)._subtract(this._centerPoint);if(c===1&&f.x===0&&f.y===0)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(f),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),lt(this._animRequest);var v=h(i._move,i,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=at(v,this,!0),ct(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,lt(this._animRequest),Q(document,"touchmove",this._onTouchMove,this),Q(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});K.addInitHook("addHandler","touchZoom",Xo),K.BoxZoom=$o,K.DoubleClickZoom=jo,K.Drag=qo,K.Keyboard=Wo,K.ScrollWheelZoom=Ko,K.TapHold=Yo,K.TouchZoom=Xo,o.Bounds=tt,o.Browser=A,o.CRS=Nt,o.Canvas=Zo,o.Circle=nn,o.CircleMarker=Je,o.Class=Bt,o.Control=Et,o.DivIcon=Bo,o.DivOverlay=It,o.DomEvent=ia,o.DomUtil=ta,o.Draggable=jt,o.Evented=ve,o.FeatureGroup=Ht,o.GeoJSON=Vt,o.GridLayer=ke,o.Handler=At,o.Icon=he,o.ImageOverlay=ni,o.LatLng=J,o.LatLngBounds=gt,o.Layer=Tt,o.LayerGroup=ue,o.LineUtil=_a,o.Map=K,o.Marker=Xe,o.Mixin=ua,o.Path=qt,o.Point=Z,o.PolyUtil=ha,o.Polygon=ce,o.Polyline=Zt,o.Popup=oi,o.PosAnimation=wo,o.Projection=ma,o.Rectangle=Go,o.Renderer=Ut,o.SVG=De,o.SVGOverlay=Fo,o.TileLayer=fe,o.Tooltip=ri,o.Transformation=Ti,o.Util=xs,o.VideoOverlay=zo,o.bind=h,o.bounds=mt,o.canvas=Vo,o.circle=Sa,o.circleMarker=Pa,o.control=Ee,o.divIcon=Oa,o.extend=n,o.featureGroup=wa,o.geoJSON=Io,o.geoJson=Ea,o.gridLayer=Aa,o.icon=La,o.imageOverlay=Ta,o.latLng=W,o.latLngBounds=ot,o.layerGroup=ya,o.map=na,o.marker=xa,o.point=N,o.polygon=ba,o.polyline=Ca,o.popup=Ra,o.rectangle=Fa,o.setOptions=E,o.stamp=p,o.svg=Uo,o.svgOverlay=ka,o.tileLayer=No,o.tooltip=Da,o.transformation=ye,o.version=l,o.videoOverlay=Ma;var Na=window.L;o.noConflict=function(){return window.L=Na,this},window.L=o})}(Ie,Ie.exports)),Ie.exports}var Ft=qu();const Lr=Dr(Ft);function ge(e,s,o){return Object.freeze({instance:e,context:s,container:o})}function Ci(e,s){return s==null?function(l,n){const a=H.useRef();return a.current||(a.current=e(l,n)),a}:function(l,n){const a=H.useRef();a.current||(a.current=e(l,n));const h=H.useRef(l),{instance:d}=a.current;return H.useEffect(function(){h.current!==l&&(s(d,l,h.current),h.current=l)},[d,l,n]),a}}function hs(e,s){H.useEffect(function(){return(s.layerContainer??s.map).addLayer(e.instance),function(){var a;(a=s.layerContainer)==null||a.removeLayer(e.instance),s.map.removeLayer(e.instance)}},[s,e])}function cs(e){return function(o){const l=Ve(),n=e(Si(o,l),l);return ss(l.map,o.attribution),Bn(n.current,o.eventHandlers),hs(n.current,l),n}}function Wu(e,s){const o=H.useRef();H.useEffect(function(){if(s.pathOptions!==o.current){const n=s.pathOptions??{};e.instance.setStyle(n),o.current=n}},[e,s])}function Ku(e){return function(o){const l=Ve(),n=e(Si(o,l),l);return Bn(n.current,o.eventHandlers),hs(n.current,l),Wu(n.current,o),n}}function Yu(e,s){const o=Ci(e,s),l=cs(o);return us(l)}function Xu(e,s){const o=Ci(e),l=$u(o,s);return Uu(l)}function Nn(e,s){const o=Ci(e,s),l=Ku(o);return us(l)}function Ju(e,s){const o=Ci(e,s),l=cs(o);return Gu(l)}function Qu(e,s,o){const{opacity:l,zIndex:n}=s;l!=null&&l!==o.opacity&&e.setOpacity(l),n!=null&&n!==o.zIndex&&e.setZIndex(n)}function th(){return Ve().map}function eh(e){const s=th();return H.useEffect(function(){return s.on(e),function(){s.off(e)}},[s,e]),s}const ih=Nn(function({center:s,children:o,...l},n){const a=new Ft.CircleMarker(s,l);return ge(a,Pi(n,{overlayContainer:a}))},Hu),nh=Nn(function({children:s,...o},l){const n=new Ft.FeatureGroup([],o);return ge(n,Pi(l,{layerContainer:n,overlayContainer:n}))});function Mn(){return Mn=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(e[l]=o[l])}return e},Mn.apply(this,arguments)}function oh({bounds:e,boundsOptions:s,center:o,children:l,className:n,id:a,placeholder:h,style:d,whenReady:p,zoom:_,...g},y){const[x]=H.useState({className:n,id:a,style:d}),[S,b]=H.useState(null);H.useImperativeHandle(y,()=>(S==null?void 0:S.map)??null,[S]);const E=H.useCallback(k=>{if(k!==null&&S===null){const I=new Ft.Map(k,g);o!=null&&_!=null?I.setView(o,_):e!=null&&I.fitBounds(e,s),p!=null&&I.whenReady(p),b(Vu(I))}},[]);H.useEffect(()=>()=>{S==null||S.map.remove()},[S]);const M=S?Be.createElement(ls,{value:S},l):h??null;return Be.createElement("div",Mn({},x,{ref:E}),M)}const rh=H.forwardRef(oh),xr=Yu(function({position:s,...o},l){const n=new Ft.Marker(s,o);return ge(n,Pi(l,{overlayContainer:n}))},function(s,o,l){o.position!==l.position&&s.setLatLng(o.position),o.icon!=null&&o.icon!==l.icon&&s.setIcon(o.icon),o.zIndexOffset!=null&&o.zIndexOffset!==l.zIndexOffset&&s.setZIndexOffset(o.zIndexOffset),o.opacity!=null&&o.opacity!==l.opacity&&s.setOpacity(o.opacity),s.dragging!=null&&o.draggable!==l.draggable&&(o.draggable===!0?s.dragging.enable():s.dragging.disable())}),sh=Nn(function({positions:s,...o},l){const n=new Ft.Polygon(s,o);return ge(n,Pi(l,{overlayContainer:n}))},function(s,o,l){o.positions!==l.positions&&s.setLatLngs(o.positions)}),Pr=Xu(function(s,o){const l=new Ft.Popup(s,o.overlayContainer);return ge(l,o)},function(s,o,{position:l},n){H.useEffect(function(){const{instance:h}=s;function d(_){_.popup===h&&(h.update(),n(!0))}function p(_){_.popup===h&&n(!1)}return o.map.on({popupopen:d,popupclose:p}),o.overlayContainer==null?(l!=null&&h.setLatLng(l),h.openOn(o.map)):o.overlayContainer.bindPopup(h),function(){var g;o.map.off({popupopen:d,popupclose:p}),(g=o.overlayContainer)==null||g.unbindPopup(),o.map.removeLayer(h)}},[s,o,n,l])}),ah=Ju(function({url:s,...o},l){const n=new Ft.TileLayer(s,Si(o,l));return ge(n,l)},function(s,o,l){Qu(s,o,l);const{url:n}=o;n!=null&&n!==l.url&&s.setUrl(n)});var fn={exports:{}},pn,Sr;function lh(){if(Sr)return pn;Sr=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return pn=e,pn}var _n,Cr;function uh(){if(Cr)return _n;Cr=1;var e=lh();function s(){}function o(){}return o.resetWarningCache=s,_n=function(){function l(h,d,p,_,g,y){if(y!==e){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}l.isRequired=l;function n(){return l}var a={array:l,bigint:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:n,element:l,elementType:l,instanceOf:n,node:l,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:o,resetWarningCache:s};return a.PropTypes=a,a},_n}var br;function hh(){return br||(br=1,fn.exports=uh()()),fn.exports}var q=hh();(function(e,s,o){function l(n,a){for(;(n=n.parentElement)&&!n.classList.contains(a););return n}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(n,a){this._map=n,this._container=n._container,this._overlayPane=n._panes.overlayPane,this._popupPane=n._panes.popupPane,a&&a.shapeOptions&&(a.shapeOptions=L.Util.extend({},this.options.shapeOptions,a.shapeOptions)),L.setOptions(this,a);var h=L.version.split(".");parseInt(h[0],10)===1&&parseInt(h[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var n=this._map;n&&(L.DomUtil.disableTextSelection(),n.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(n){L.setOptions(this,n)},_fireCreatedEvent:function(n){this._map.fire(L.Draw.Event.CREATED,{layer:n,layerType:this.type})},_cancelDrawing:function(n){n.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(n,a){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,a&&a.drawError&&(a.drawError=L.Util.extend({},this.options.drawError,a.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,n,a)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var n=this._markers.pop(),a=this._poly,h=a.getLatLngs(),d=h.splice(-1,1)[0];this._poly.setLatLngs(h),this._markerGroup.removeLayer(n),a.getLatLngs().length<2&&this._map.removeLayer(a),this._vertexChanged(d,!1)}},addVertex:function(n){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(n))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(n)),this._poly.addLatLng(n),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(n,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var n=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),a=this._poly.newLatLngIntersects(n[n.length-1]);if(!this.options.allowIntersection&&a||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(n){var a=this._map.mouseEventToLayerPoint(n.originalEvent),h=this._map.layerPointToLatLng(a);this._currentLatLng=h,this._updateTooltip(h),this._updateGuide(a),this._mouseMarker.setLatLng(h),L.DomEvent.preventDefault(n.originalEvent)},_vertexChanged:function(n,a){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(n,a),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(n){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(n),this._clickHandled=!0,this._disableNewMarkers();var a=n.originalEvent,h=a.clientX,d=a.clientY;this._startPoint.call(this,h,d)}},_startPoint:function(n,a){this._mouseDownOrigin=L.point(n,a)},_onMouseUp:function(n){var a=n.originalEvent,h=a.clientX,d=a.clientY;this._endPoint.call(this,h,d,n),this._clickHandled=null},_endPoint:function(n,a,h){if(this._mouseDownOrigin){var d=L.point(n,a).distanceTo(this._mouseDownOrigin),p=this._calculateFinishDistance(h.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(h.latlng),this._finishShape()):p<10&&L.Browser.touch?this._finishShape():Math.abs(d)<9*(e.devicePixelRatio||1)&&this.addVertex(h.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(n){var a,h,d=n.originalEvent;!d.touches||!d.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(a=d.touches[0].clientX,h=d.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,a,h),this._endPoint.call(this,a,h,n),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(n){var a;if(this._markers.length>0){var h;if(this.type===L.Draw.Polyline.TYPE)h=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;h=this._markers[0]}var d=this._map.latLngToContainerPoint(h.getLatLng()),p=new L.Marker(n,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),_=this._map.latLngToContainerPoint(p.getLatLng());a=d.distanceTo(_)}else a=1/0;return a},_updateFinishHandler:function(){var n=this._markers.length;n>1&&this._markers[n-1].on("click",this._finishShape,this),n>2&&this._markers[n-2].off("click",this._finishShape,this)},_createMarker:function(n){var a=new L.Marker(n,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(a),a},_updateGuide:function(n){var a=this._markers?this._markers.length:0;a>0&&(n=n||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[a-1].getLatLng()),n))},_updateTooltip:function(n){var a=this._getTooltipText();n&&this._tooltip.updatePosition(n),this._errorShown||this._tooltip.updateContent(a)},_drawGuide:function(n,a){var h,d,p,_=Math.floor(Math.sqrt(Math.pow(a.x-n.x,2)+Math.pow(a.y-n.y,2))),g=this.options.guidelineDistance,y=this.options.maxGuideLineLength,x=_>y?_-y:g;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));x<_;x+=this.options.guidelineDistance)h=x/_,d={x:Math.floor(n.x*(1-h)+h*a.x),y:Math.floor(n.y*(1-h)+h*a.y)},p=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),p.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(p,d)},_updateGuideColor:function(n){if(this._guidesContainer)for(var a=0,h=this._guidesContainer.childNodes.length;a<h;a++)this._guidesContainer.childNodes[a].style.backgroundColor=n},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var n,a,h=this.options.showLength;return this._markers.length===0?n={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(a=h?this._getMeasurementString():"",n=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:a}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:a}),n},_updateRunningMeasure:function(n,a){var h,d,p=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(h=p-(a?2:1),d=L.GeometryUtil.isVersion07x()?n.distanceTo(this._markers[h].getLatLng())*(this.options.factor||1):this._map.distance(n,this._markers[h].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=d*(a?1:-1))},_getMeasurementString:function(){var n,a=this._currentLatLng,h=this._markers[this._markers.length-1].getLatLng();return n=L.GeometryUtil.isVersion07x()?h&&a&&a.distanceTo?this._measurementRunningTotal+a.distanceTo(h)*(this.options.factor||1):this._measurementRunningTotal||0:h&&a?this._measurementRunningTotal+this._map.distance(a,h)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(n,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout((function(){this._disableMarkers=!1}).bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var n=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,n)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(n,a){L.Draw.Polyline.prototype.initialize.call(this,n,a),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var n=this._markers.length;n===1&&this._markers[0].on("click",this._finishShape,this),n>2&&(this._markers[n-1].on("dblclick",this._finishShape,this),n>3&&this._markers[n-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var n,a;return this._markers.length===0?n=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(n=L.drawLocal.draw.handlers.polygon.tooltip.cont,a=this._getMeasurementString()):(n=L.drawLocal.draw.handlers.polygon.tooltip.end,a=this._getMeasurementString()),{text:n,subtext:a}},_getMeasurementString:function(){var n=this._area,a="";return n||this.options.showLength?(this.options.showLength&&(a=L.Draw.Polyline.prototype._getMeasurementString.call(this)),n&&(a+="<br>"+L.GeometryUtil.readableArea(n,this.options.metric,this.options.precision)),a):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(n,a){var h;!this.options.allowIntersection&&this.options.showArea&&(h=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(h)),L.Draw.Polyline.prototype._vertexChanged.call(this,n,a)},_cleanUpShape:function(){var n=this._markers.length;n>0&&(this._markers[0].off("click",this._finishShape,this),n>2&&this._markers[n-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(n,a){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,n,a)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),s.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(s,"mouseup",this._onMouseUp,this),L.DomEvent.off(s,"touchend",this._onMouseUp,this),s.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(n){this._isDrawing=!0,this._startLatLng=n.latlng,L.DomEvent.on(s,"mouseup",this._onMouseUp,this).on(s,"touchend",this._onMouseUp,this).preventDefault(n.originalEvent)},_onMouseMove:function(n){var a=n.latlng;this._tooltip.updatePosition(a),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(a))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(n,a){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,n,a)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(n){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!l(n.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(n){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,n)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,n),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var n=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,n)},_getTooltipText:function(){var n,a,h,d=L.Draw.SimpleShape.prototype._getTooltipText.call(this),p=this._shape,_=this.options.showArea;return p&&(n=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),a=L.GeometryUtil.geodesicArea(n),h=_?L.GeometryUtil.readableArea(a,this.options.metric):""),{text:d.text,subtext:h}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(n,a){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,n,a)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(n){var a=n.latlng;this._tooltip.updatePosition(a),this._mouseMarker.setLatLng(a),this._marker?(a=this._mouseMarker.getLatLng(),this._marker.setLatLng(a)):(this._marker=this._createMarker(a),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(n){return new L.Marker(n,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(n){this._onMouseMove(n),this._onClick()},_fireCreatedEvent:function(){var n=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,n)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(n,a){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,n,a)},_fireCreatedEvent:function(){var n=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,n)},_createMarker:function(n){return new L.CircleMarker(n,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(n,a){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,n,a)},_drawShape:function(n){if(L.GeometryUtil.isVersion07x())var a=this._startLatLng.distanceTo(n);else var a=this._map.distance(this._startLatLng,n);this._shape?this._shape.setRadius(a):(this._shape=new L.Circle(this._startLatLng,a,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var n=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,n)},_onMouseMove:function(n){var a,h=n.latlng,d=this.options.showRadius,p=this.options.metric;if(this._tooltip.updatePosition(h),this._isDrawing){this._drawShape(h),a=this._shape.getRadius().toFixed(1);var _="";d&&(_=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(a,p,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:_})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(n,a){this._marker=n,L.setOptions(this,a)},addHooks:function(){var n=this._marker;n.dragging.enable(),n.on("dragend",this._onDragEnd,n),this._toggleMarkerHighlight()},removeHooks:function(){var n=this._marker;n.dragging.disable(),n.off("dragend",this._onDragEnd,n),this._toggleMarkerHighlight()},_onDragEnd:function(n){var a=n.target;a.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:a})},_toggleMarkerHighlight:function(){var n=this._marker._icon;n&&(n.style.display="none",L.DomUtil.hasClass(n,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(n,"leaflet-edit-marker-selected"),this._offsetMarker(n,-4)):(L.DomUtil.addClass(n,"leaflet-edit-marker-selected"),this._offsetMarker(n,4)),n.style.display="")},_offsetMarker:function(n,a){var h=parseInt(n.style.marginTop,10)-a,d=parseInt(n.style.marginLeft,10)-a;n.style.marginTop=h+"px",n.style.marginLeft=d+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(n){this.latlngs=[n._latlngs],n._holes&&(this.latlngs=this.latlngs.concat(n._holes)),this._poly=n,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(n){for(var a=0;a<this._verticesHandlers.length;a++)n(this._verticesHandlers[a])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(n){n.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(n){n.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(n){n.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var n=0;n<this.latlngs.length;n++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[n],this._poly.options.poly))},_updateLatLngs:function(n){this.latlngs=[n.layer._latlngs],n.layer._holes&&(this.latlngs=this.latlngs.concat(n.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(n,a,h){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=n,h&&h.drawError&&(h.drawError=L.Util.extend({},this.options.drawError,h.drawError)),this._latlngs=a,L.setOptions(this,h)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var n=this._poly,a=n._path;n instanceof L.Polygon||(n.options.fill=!1,n.options.editing&&(n.options.editing.fill=!1)),a&&n.options.editing&&n.options.editing.className&&(n.options.original.className&&n.options.original.className.split(" ").forEach(function(h){L.DomUtil.removeClass(a,h)}),n.options.editing.className.split(" ").forEach(function(h){L.DomUtil.addClass(a,h)})),n.setStyle(n.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var n=this._poly,a=n._path;a&&n.options.editing&&n.options.editing.className&&(n.options.editing.className.split(" ").forEach(function(h){L.DomUtil.removeClass(a,h)}),n.options.original.className&&n.options.original.className.split(" ").forEach(function(h){L.DomUtil.addClass(a,h)})),n.setStyle(n.options.original),n._map&&(n._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var n,a,h,d,p=this._defaultShape();for(n=0,h=p.length;n<h;n++)d=this._createMarker(p[n],n),d.on("click",this._onMarkerClick,this),d.on("contextmenu",this._onContextMenu,this),this._markers.push(d);var _,g;for(n=0,a=h-1;n<h;a=n++)(n!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(_=this._markers[a],g=this._markers[n],this._createMiddleMarker(_,g),this._updatePrevNext(_,g))},_createMarker:function(n,a){var h=new L.Marker.Touch(n,{draggable:!0,icon:this.options.icon});return h._origLatLng=n,h._index=a,h.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(h),h},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var n=this._defaultShape(),a=[].splice.apply(n,arguments);return this._poly._convertLatLngs(n,!0),this._poly.redraw(),a},_removeMarker:function(n){var a=n._index;this._markerGroup.removeLayer(n),this._markers.splice(a,1),this._spliceLatLngs(a,1),this._updateIndexes(a,-1),n.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(n){var a=n.target,h=this._poly,d=L.LatLngUtil.cloneLatLng(a._origLatLng);if(L.extend(a._origLatLng,a._latlng),h.options.poly){var p=h._map._editTooltip;if(!h.options.poly.allowIntersection&&h.intersects()){L.extend(a._origLatLng,d),a.setLatLng(d);var _=h.options.color;h.setStyle({color:this.options.drawError.color}),p&&p.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){h.setStyle({color:_}),p&&p.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}a._middleLeft&&a._middleLeft.setLatLng(this._getMiddleLatLng(a._prev,a)),a._middleRight&&a._middleRight.setLatLng(this._getMiddleLatLng(a,a._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var g=this._poly.getLatLngs();this._poly._convertLatLngs(g,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(n){var a=L.Polygon&&this._poly instanceof L.Polygon?4:3,h=n.target;this._defaultShape().length<a||(this._removeMarker(h),this._updatePrevNext(h._prev,h._next),h._middleLeft&&this._markerGroup.removeLayer(h._middleLeft),h._middleRight&&this._markerGroup.removeLayer(h._middleRight),h._prev&&h._next?this._createMiddleMarker(h._prev,h._next):h._prev?h._next||(h._prev._middleRight=null):h._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(n){var a=n.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:a,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(n){var a=this._map.mouseEventToLayerPoint(n.originalEvent.touches[0]),h=this._map.layerPointToLatLng(a),d=n.target;L.extend(d._origLatLng,h),d._middleLeft&&d._middleLeft.setLatLng(this._getMiddleLatLng(d._prev,d)),d._middleRight&&d._middleRight.setLatLng(this._getMiddleLatLng(d,d._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(n,a){this._markerGroup.eachLayer(function(h){h._index>n&&(h._index+=a)})},_createMiddleMarker:function(n,a){var h,d,p,_=this._getMiddleLatLng(n,a),g=this._createMarker(_);g.setOpacity(.6),n._middleRight=a._middleLeft=g,d=function(){g.off("touchmove",d,this);var y=a._index;g._index=y,g.off("click",h,this).on("click",this._onMarkerClick,this),_.lat=g.getLatLng().lat,_.lng=g.getLatLng().lng,this._spliceLatLngs(y,0,_),this._markers.splice(y,0,g),g.setOpacity(1),this._updateIndexes(y,1),a._index++,this._updatePrevNext(n,g),this._updatePrevNext(g,a),this._poly.fire("editstart")},p=function(){g.off("dragstart",d,this),g.off("dragend",p,this),g.off("touchmove",d,this),this._createMiddleMarker(n,g),this._createMiddleMarker(g,a)},h=function(){d.call(this),p.call(this),this._fireEdit()},g.on("click",h,this).on("dragstart",d,this).on("dragend",p,this).on("touchmove",d,this),this._markerGroup.addLayer(g)},_updatePrevNext:function(n,a){n&&(n._next=a),a&&(a._prev=n)},_getMiddleLatLng:function(n,a){var h=this._poly._map,d=h.project(n.getLatLng()),p=h.project(a.getLatLng());return h.unproject(d._add(p)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(n,a){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=n,L.Util.setOptions(this,a)},addHooks:function(){var n=this._shape;this._shape._map&&(this._map=this._shape._map,n.setStyle(n.options.editing),n._map&&(this._map=n._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var n=this._shape;if(n.setStyle(n.options.original),n._map){this._unbindMarker(this._moveMarker);for(var a=0,h=this._resizeMarkers.length;a<h;a++)this._unbindMarker(this._resizeMarkers[a]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(n,a){var h=new L.Marker.Touch(n,{draggable:!0,icon:a,zIndexOffset:10});return this._bindMarker(h),this._markerGroup.addLayer(h),h},_bindMarker:function(n){n.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(n){n.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(n){n.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(n){var a=n.target,h=a.getLatLng();a===this._moveMarker?this._move(h):this._resize(h),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(n){n.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(n){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,n),typeof this._getCorners=="function"){var a=this._getCorners(),h=n.target,d=h._cornerIndex;h.setOpacity(0),this._oppositeCorner=a[(d+2)%4],this._toggleCornerMarkers(0,d)}this._shape.fire("editstart")},_onTouchMove:function(n){var a=this._map.mouseEventToLayerPoint(n.originalEvent.touches[0]),h=this._map.layerPointToLatLng(a);return n.target===this._moveMarker?this._move(h):this._resize(h),this._shape.redraw(),!1},_onTouchEnd:function(n){n.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var n=this._shape.getBounds(),a=n.getCenter();this._moveMarker=this._createMarker(a,this.options.moveIcon)},_createResizeMarker:function(){var n=this._getCorners();this._resizeMarkers=[];for(var a=0,h=n.length;a<h;a++)this._resizeMarkers.push(this._createMarker(n[a],this.options.resizeIcon)),this._resizeMarkers[a]._cornerIndex=a},_onMarkerDragStart:function(n){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,n);var a=this._getCorners(),h=n.target,d=h._cornerIndex;this._oppositeCorner=a[(d+2)%4],this._toggleCornerMarkers(0,d)},_onMarkerDragEnd:function(n){var a,h,d=n.target;d===this._moveMarker&&(a=this._shape.getBounds(),h=a.getCenter(),d.setLatLng(h)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,n)},_move:function(n){for(var a,h=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),d=this._shape.getBounds(),p=d.getCenter(),_=[],g=0,y=h.length;g<y;g++)a=[h[g].lat-p.lat,h[g].lng-p.lng],_.push([n.lat+a[0],n.lng+a[1]]);this._shape.setLatLngs(_),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(n){var a;this._shape.setBounds(L.latLngBounds(n,this._oppositeCorner)),a=this._shape.getBounds(),this._moveMarker.setLatLng(a.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var n=this._shape.getBounds();return[n.getNorthWest(),n.getNorthEast(),n.getSouthEast(),n.getSouthWest()]},_toggleCornerMarkers:function(n){for(var a=0,h=this._resizeMarkers.length;a<h;a++)this._resizeMarkers[a].setOpacity(n)},_repositionCornerMarkers:function(){for(var n=this._getCorners(),a=0,h=this._resizeMarkers.length;a<h;a++)this._resizeMarkers[a].setLatLng(n[a])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var n=this._shape.getLatLng();this._moveMarker=this._createMarker(n,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(n){if(this._resizeMarkers.length){var a=this._getResizeMarkerPoint(n);this._resizeMarkers[0].setLatLng(a)}this._shape.setLatLng(n),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var n=this._shape.getLatLng(),a=this._getResizeMarkerPoint(n);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(a,this.options.resizeIcon))},_getResizeMarkerPoint:function(n){var a=this._shape._radius*Math.cos(Math.PI/4),h=this._map.project(n);return this._map.unproject([h.x+a,h.y-a])},_resize:function(n){var a=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=a.distanceTo(n):radius=this._map.distance(a,n),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(n,a){var h={};if(n.touches!==void 0){if(!n.touches.length)return;h=n.touches[0]}else if(n.pointerType!=="touch"||(h=n,!this._filterClick(n)))return;var d=this._map.mouseEventToContainerPoint(h),p=this._map.mouseEventToLayerPoint(h),_=this._map.layerPointToLatLng(p);this._map.fire(a,{latlng:_,layerPoint:p,containerPoint:d,pageX:h.pageX,pageY:h.pageY,originalEvent:n})},_filterClick:function(n){var a=n.timeStamp||n.originalEvent.timeStamp,h=L.DomEvent._lastClick&&a-L.DomEvent._lastClick;return h&&h>100&&h<500||n.target._simulatedClick&&!n._simulated?(L.DomEvent.stop(n),!1):(L.DomEvent._lastClick=a,!0)},_onTouchStart:function(n){this._map._loaded&&this._touchEvent(n,"touchstart")},_onTouchEnd:function(n){this._map._loaded&&this._touchEvent(n,"touchend")},_onTouchCancel:function(n){if(this._map._loaded){var a="touchcancel";this._detectIE()&&(a="pointercancel"),this._touchEvent(n,a)}},_onTouchLeave:function(n){this._map._loaded&&this._touchEvent(n,"touchleave")},_onTouchMove:function(n){this._map._loaded&&this._touchEvent(n,"touchmove")},_detectIE:function(){var n=e.navigator.userAgent,a=n.indexOf("MSIE ");if(a>0)return parseInt(n.substring(a+5,n.indexOf(".",a)),10);if(n.indexOf("Trident/")>0){var h=n.indexOf("rv:");return parseInt(n.substring(h+3,n.indexOf(".",h)),10)}var d=n.indexOf("Edge/");return d>0&&parseInt(n.substring(d+5,n.indexOf(".",d)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var n=this._icon,a=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?a.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):a.concat(["touchcancel"]),L.DomUtil.addClass(n,"leaflet-clickable"),L.DomEvent.on(n,"click",this._onMouseClick,this),L.DomEvent.on(n,"keypress",this._onKeyPress,this);for(var h=0;h<a.length;h++)L.DomEvent.on(n,a[h],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var n=e.navigator.userAgent,a=n.indexOf("MSIE ");if(a>0)return parseInt(n.substring(a+5,n.indexOf(".",a)),10);if(n.indexOf("Trident/")>0){var h=n.indexOf("rv:");return parseInt(n.substring(h+3,n.indexOf(".",h)),10)}var d=n.indexOf("Edge/");return d>0&&parseInt(n.substring(d+5,n.indexOf(".",d)),10)}}),L.LatLngUtil={cloneLatLngs:function(n){for(var a=[],h=0,d=n.length;h<d;h++)Array.isArray(n[h])?a.push(L.LatLngUtil.cloneLatLngs(n[h])):a.push(this.cloneLatLng(n[h]));return a},cloneLatLng:function(n){return L.latLng(n.lat,n.lng)}},function(){var n={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(a){var h,d,p=a.length,_=0,g=Math.PI/180;if(p>2){for(var y=0;y<p;y++)h=a[y],d=a[(y+1)%p],_+=(d.lng-h.lng)*g*(2+Math.sin(h.lat*g)+Math.sin(d.lat*g));_=6378137*_*6378137/2}return Math.abs(_)},formattedNumber:function(a,h){var d=parseFloat(a).toFixed(h),p=L.drawLocal.format&&L.drawLocal.format.numeric,_=p&&p.delimiters,g=_&&_.thousands,y=_&&_.decimal;if(g||y){var x=d.split(".");d=g?x[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+g):x[0],y=y||".",x.length>1&&(d=d+y+x[1])}return d},readableArea:function(a,h,g){var p,_,g=L.Util.extend({},n,g);return h?(_=["ha","m"],type=typeof h,type==="string"?_=[h]:type!=="boolean"&&(_=h),p=a>=1e6&&_.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*a,g.km)+" km²":a>=1e4&&_.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*a,g.ha)+" ha":L.GeometryUtil.formattedNumber(a,g.m)+" m²"):(a/=.836127,p=a>=3097600?L.GeometryUtil.formattedNumber(a/3097600,g.mi)+" mi²":a>=4840?L.GeometryUtil.formattedNumber(a/4840,g.ac)+" acres":L.GeometryUtil.formattedNumber(a,g.yd)+" yd²"),p},readableDistance:function(a,h,d,p,y){var g,y=L.Util.extend({},n,y);switch(h?typeof h=="string"?h:"metric":d?"feet":p?"nauticalMile":"yards"){case"metric":g=a>1e3?L.GeometryUtil.formattedNumber(a/1e3,y.km)+" km":L.GeometryUtil.formattedNumber(a,y.m)+" m";break;case"feet":a*=3.28083,g=L.GeometryUtil.formattedNumber(a,y.ft)+" ft";break;case"nauticalMile":a*=.53996,g=L.GeometryUtil.formattedNumber(a/1e3,y.nm)+" nm";break;case"yards":default:a*=1.09361,g=a>1760?L.GeometryUtil.formattedNumber(a/1760,y.mi)+" miles":L.GeometryUtil.formattedNumber(a,y.yd)+" yd"}return g},isVersion07x:function(){var a=L.version.split(".");return parseInt(a[0],10)===0&&parseInt(a[1],10)===7}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(n,a,h,d){return this._checkCounterclockwise(n,h,d)!==this._checkCounterclockwise(a,h,d)&&this._checkCounterclockwise(n,a,h)!==this._checkCounterclockwise(n,a,d)},_checkCounterclockwise:function(n,a,h){return(h.y-n.y)*(a.x-n.x)>(a.y-n.y)*(h.x-n.x)}}),L.Polyline.include({intersects:function(){var n,a,h,d=this._getProjectedPoints(),p=d?d.length:0;if(this._tooFewPointsForIntersection())return!1;for(n=p-1;n>=3;n--)if(a=d[n-1],h=d[n],this._lineSegmentsIntersectsRange(a,h,n-2))return!0;return!1},newLatLngIntersects:function(n,a){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(n),a)},newPointIntersects:function(n,a){var h=this._getProjectedPoints(),d=h?h.length:0,p=h?h[d-1]:null,_=d-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(p,n,_,a?1:0)},_tooFewPointsForIntersection:function(n){var a=this._getProjectedPoints(),h=a?a.length:0;return h+=n||0,!a||h<=3},_lineSegmentsIntersectsRange:function(n,a,h,d){var p,_,g=this._getProjectedPoints();d=d||0;for(var y=h;y>d;y--)if(p=g[y-1],_=g[y],L.LineUtil.segmentsIntersect(n,a,p,_))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var n=[],a=this._defaultShape(),h=0;h<a.length;h++)n.push(this._map.latLngToLayerPoint(a[h]));return n}}),L.Polygon.include({intersects:function(){var n,a,h,d,p=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(n=p.length,a=p[0],h=p[n-1],d=n-2,this._lineSegmentsIntersectsRange(h,a,d,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(n){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,n);var a;this._toolbars={},L.DrawToolbar&&this.options.draw&&(a=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=a,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(a=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=a,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(n){var a,h=L.DomUtil.create("div","leaflet-draw"),d=!1;for(var p in this._toolbars)this._toolbars.hasOwnProperty(p)&&(a=this._toolbars[p].addToolbar(n))&&(d||(L.DomUtil.hasClass(a,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(a.childNodes[0],"leaflet-draw-toolbar-top"),d=!0),h.appendChild(a));return h},onRemove:function(){for(var n in this._toolbars)this._toolbars.hasOwnProperty(n)&&this._toolbars[n].removeToolbar()},setDrawingOptions:function(n){for(var a in this._toolbars)this._toolbars[a]instanceof L.DrawToolbar&&this._toolbars[a].setOptions(n)},_toolbarEnabled:function(n){var a=n.target;for(var h in this._toolbars)this._toolbars[h]!==a&&this._toolbars[h].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(n){L.setOptions(this,n),this._modes={},this._actionButtons=[],this._activeMode=null;var a=L.version.split(".");parseInt(a[0],10)===1&&parseInt(a[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(n){var a,h=L.DomUtil.create("div","leaflet-draw-section"),d=0,p=this._toolbarClass||"",_=this.getModeHandlers(n);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=n,a=0;a<_.length;a++)_[a].enabled&&this._initModeHandler(_[a].handler,this._toolbarContainer,d++,p,_[a].title);if(d)return this._lastButtonIndex=--d,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),h.appendChild(this._toolbarContainer),h.appendChild(this._actionsContainer),h},removeToolbar:function(){for(var n in this._modes)this._modes.hasOwnProperty(n)&&(this._disposeButton(this._modes[n].button,this._modes[n].handler.enable,this._modes[n].handler),this._modes[n].handler.disable(),this._modes[n].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var a=0,h=this._actionButtons.length;a<h;a++)this._disposeButton(this._actionButtons[a].button,this._actionButtons[a].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(n,a,h,d,p){var _=n.type;this._modes[_]={},this._modes[_].handler=n,this._modes[_].button=this._createButton({type:_,title:p,className:d+"-"+_,container:a,callback:this._modes[_].handler.enable,context:this._modes[_].handler}),this._modes[_].buttonIndex=h,this._modes[_].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!e.MSStream},_createButton:function(n){var a=L.DomUtil.create("a",n.className||"",n.container),h=L.DomUtil.create("span","sr-only",n.container);a.href="#",a.appendChild(h),n.title&&(a.title=n.title,h.innerHTML=n.title),n.text&&(a.innerHTML=n.text,h.innerHTML=n.text);var d=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(a,"click",L.DomEvent.stopPropagation).on(a,"mousedown",L.DomEvent.stopPropagation).on(a,"dblclick",L.DomEvent.stopPropagation).on(a,"touchstart",L.DomEvent.stopPropagation).on(a,"click",L.DomEvent.preventDefault).on(a,d,n.callback,n.context),a},_disposeButton:function(n,a){var h=this._detectIOS()?"touchstart":"click";L.DomEvent.off(n,"click",L.DomEvent.stopPropagation).off(n,"mousedown",L.DomEvent.stopPropagation).off(n,"dblclick",L.DomEvent.stopPropagation).off(n,"touchstart",L.DomEvent.stopPropagation).off(n,"click",L.DomEvent.preventDefault).off(n,h,a)},_handlerActivated:function(n){this.disable(),this._activeMode=this._modes[n.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(n){var a,h,d,p,_=this._actionsContainer,g=this.getActions(n),y=g.length;for(h=0,d=this._actionButtons.length;h<d;h++)this._disposeButton(this._actionButtons[h].button,this._actionButtons[h].callback);for(this._actionButtons=[];_.firstChild;)_.removeChild(_.firstChild);for(var x=0;x<y;x++)"enabled"in g[x]&&!g[x].enabled||(a=L.DomUtil.create("li","",_),p=this._createButton({title:g[x].title,text:g[x].text,container:a,callback:g[x].callback,context:g[x].context}),this._actionButtons.push({button:p,callback:g[x].callback}))},_showActionsToolbar:function(){var n=this._activeMode.buttonIndex,a=this._lastButtonIndex,h=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=h+"px",n===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),n===a&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(n){this._map=n,this._popupPane=n._panes.popupPane,this._visible=!1,this._container=n.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(n){return this._container?(n.subtext=n.subtext||"",n.subtext.length!==0||this._singleLineLabel?n.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(n.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+n.subtext+"</span><br />":"")+"<span>"+n.text+"</span>",n.text||n.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(n){var a=this._map.latLngToLayerPoint(n),h=this._container;return this._container&&(this._visible&&(h.style.visibility="inherit"),L.DomUtil.setPosition(h,a)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(n){for(var a in this.options)this.options.hasOwnProperty(a)&&n[a]&&(n[a]=L.extend({},this.options[a],n[a]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,n)},getModeHandlers:function(n){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(n,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(n,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(n,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(n,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(n,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(n,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(n){return[{enabled:n.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:n.completeShape,context:n},{enabled:n.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:n.deleteLastVertex,context:n},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(n){L.setOptions(this,n);for(var a in this._modes)this._modes.hasOwnProperty(a)&&n.hasOwnProperty(a)&&this._modes[a].handler.setOptions(n[a])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(n){n.edit&&(n.edit.selectedPathOptions===void 0&&(n.edit.selectedPathOptions=this.options.edit.selectedPathOptions),n.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,n.edit.selectedPathOptions)),n.remove&&(n.remove=L.extend({},this.options.remove,n.remove)),n.poly&&(n.poly=L.extend({},this.options.poly,n.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,n),this._selectedFeatureCount=0},getModeHandlers:function(n){var a=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(n,{featureGroup:a,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(n,{featureGroup:a}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(n){var a=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return n.removeAllLayers&&a.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),a},addToolbar:function(n){var a=L.Toolbar.prototype.addToolbar.call(this,n);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),a},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var n,a=this.options.featureGroup,h=a.getLayers().length!==0;this.options.edit&&(n=this._modes[L.EditToolbar.Edit.TYPE].button,h?L.DomUtil.removeClass(n,"leaflet-disabled"):L.DomUtil.addClass(n,"leaflet-disabled"),n.setAttribute("title",h?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(n=this._modes[L.EditToolbar.Delete.TYPE].button,h?L.DomUtil.removeClass(n,"leaflet-disabled"):L.DomUtil.addClass(n,"leaflet-disabled"),n.setAttribute("title",h?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(n,a){if(L.Handler.prototype.initialize.call(this,n),L.setOptions(this,a),this._featureGroup=a.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var h=L.version.split(".");parseInt(h[0],10)===1&&parseInt(h[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var n=this._map;n&&(n.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),n._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(n){this._revertLayer(n)},this)},save:function(){var n=new L.LayerGroup;this._featureGroup.eachLayer(function(a){a.edited&&(n.addLayer(a),a.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:n})},_backupLayer:function(n){var a=L.Util.stamp(n);this._uneditedLayerProps[a]||(n instanceof L.Polyline||n instanceof L.Polygon||n instanceof L.Rectangle?this._uneditedLayerProps[a]={latlngs:L.LatLngUtil.cloneLatLngs(n.getLatLngs())}:n instanceof L.Circle?this._uneditedLayerProps[a]={latlng:L.LatLngUtil.cloneLatLng(n.getLatLng()),radius:n.getRadius()}:(n instanceof L.Marker||n instanceof L.CircleMarker)&&(this._uneditedLayerProps[a]={latlng:L.LatLngUtil.cloneLatLng(n.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(n){var a=L.Util.stamp(n);n.edited=!1,this._uneditedLayerProps.hasOwnProperty(a)&&(n instanceof L.Polyline||n instanceof L.Polygon||n instanceof L.Rectangle?n.setLatLngs(this._uneditedLayerProps[a].latlngs):n instanceof L.Circle?(n.setLatLng(this._uneditedLayerProps[a].latlng),n.setRadius(this._uneditedLayerProps[a].radius)):(n instanceof L.Marker||n instanceof L.CircleMarker)&&n.setLatLng(this._uneditedLayerProps[a].latlng),n.fire("revert-edited",{layer:n}))},_enableLayerEdit:function(n){var a,h,d=n.layer||n.target||n;this._backupLayer(d),this.options.poly&&(h=L.Util.extend({},this.options.poly),d.options.poly=h),this.options.selectedPathOptions&&(a=L.Util.extend({},this.options.selectedPathOptions),a.maintainColor&&(a.color=d.options.color,a.fillColor=d.options.fillColor),d.options.original=L.extend({},d.options),d.options.editing=a),d instanceof L.Marker?(d.editing&&d.editing.enable(),d.dragging.enable(),d.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):d.editing.enable()},_disableLayerEdit:function(n){var a=n.layer||n.target||n;a.edited=!1,a.editing&&a.editing.disable(),delete a.options.editing,delete a.options.original,this._selectedPathOptions&&(a instanceof L.Marker?this._toggleMarkerHighlight(a):(a.setStyle(a.options.previousOptions),delete a.options.previousOptions)),a instanceof L.Marker?(a.dragging.disable(),a.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):a.editing.disable()},_onMouseMove:function(n){this._tooltip.updatePosition(n.latlng)},_onMarkerDragEnd:function(n){var a=n.target;a.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:a})},_onTouchMove:function(n){var a=n.originalEvent.changedTouches[0],h=this._map.mouseEventToLayerPoint(a),d=this._map.layerPointToLatLng(h);n.target.setLatLng(d)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(n,a){if(L.Handler.prototype.initialize.call(this,n),L.Util.setOptions(this,a),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var h=L.version.split(".");parseInt(h[0],10)===1&&parseInt(h[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var n=this._map;n&&(n.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(n){this._deletableLayers.addLayer(n),n.fire("revert-deleted",{layer:n})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(n){this._removeLayer({layer:n})},this),this.save()},_enableLayerDelete:function(n){(n.layer||n.target||n).on("click",this._removeLayer,this)},_disableLayerDelete:function(n){var a=n.layer||n.target||n;a.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(a)},_removeLayer:function(n){var a=n.layer||n.target||n;this._deletableLayers.removeLayer(a),this._deletedLayers.addLayer(a),a.fire("deleted")},_onMouseMove:function(n){this._tooltip.updatePosition(n.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);function Er(e,s){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),o.push.apply(o,l)}return o}function ze(e){for(var s=1;s<arguments.length;s++){var o=arguments[s]!=null?arguments[s]:{};s%2?Er(Object(o),!0).forEach(function(l){ch(e,l,o[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Er(Object(o)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(o,l))})}return e}function ch(e,s,o){return s in e?Object.defineProperty(e,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[s]=o,e}var ee={onEdited:"draw:edited",onDrawStart:"draw:drawstart",onDrawStop:"draw:drawstop",onDrawVertex:"draw:drawvertex",onEditStart:"draw:editstart",onEditMove:"draw:editmove",onEditResize:"draw:editresize",onEditVertex:"draw:editvertex",onEditStop:"draw:editstop",onDeleted:"draw:deleted",onDeleteStart:"draw:deletestart",onDeleteStop:"draw:deletestop"};function ds(e){var s=Ve(),o=H.useRef(),l=H.useRef(e),n=function(h){var d=e.onCreated,p=s.layerContainer||s.map;p.addLayer(h.layer),d&&d(h)};return Be.useEffect(function(){var a=s.map,h=e.onMounted;for(var d in ee)a.on(ee[d],function(p){var _=Object.keys(ee).filter(function(y){return ee[y]===p.type});if(_.length===1){var g=_[0];e[g]&&e[g](p)}});return a.on(Lr.Draw.Event.CREATED,n),o.current=Tr(e,s),a.addControl(o.current),h&&h(o.current),function(){a.off(Lr.Draw.Event.CREATED,n);for(var p in ee)e[p]&&a.off(ee[p],e[p]);o.current.remove(a)}},[e.onCreated,e.onDeleted,e.onEdited]),Be.useEffect(function(){if(!(sr(e.draw,l.current.draw)&&sr(e.edit,l.current.edit)&&e.position===l.current.position)){var a=s.map;o.current.remove(a),o.current=Tr(e,s),o.current.addTo(a);var h=e.onMounted;return h&&h(o.current),function(){o.current.remove(a)}}},[e.draw,e.edit,e.position,e.onCreated,e.onDeleted,e.onEdited]),null}function Tr(e,s){var o=s.layerContainer,l=e.draw,n=e.edit,a=e.position,h={edit:ze(ze({},n),{},{featureGroup:o})};return l&&(h.draw=ze({},l)),a&&(h.position=a),new Ft.Control.Draw(h)}ds.propTypes=ze(ze({},Object.keys(ee).reduce(function(e,s){return e[s]=q.PropTypes.func,e},{})),{},{onCreated:q.PropTypes.func,onMounted:q.PropTypes.func,draw:q.PropTypes.shape({polyline:q.PropTypes.oneOfType([q.PropTypes.object,q.PropTypes.bool]),polygon:q.PropTypes.oneOfType([q.PropTypes.object,q.PropTypes.bool]),rectangle:q.PropTypes.oneOfType([q.PropTypes.object,q.PropTypes.bool]),circle:q.PropTypes.oneOfType([q.PropTypes.object,q.PropTypes.bool]),marker:q.PropTypes.oneOfType([q.PropTypes.object,q.PropTypes.bool])}),edit:q.PropTypes.shape({edit:q.PropTypes.oneOfType([q.PropTypes.object,q.PropTypes.bool]),remove:q.PropTypes.oneOfType([q.PropTypes.object,q.PropTypes.bool]),poly:q.PropTypes.oneOfType([q.PropTypes.object,q.PropTypes.bool]),allowIntersection:q.PropTypes.bool}),position:q.PropTypes.oneOf(["topright","topleft","bottomright","bottomleft"]),leaflet:q.PropTypes.shape({map:q.PropTypes.instanceOf(Ft.Map),layerContainer:q.PropTypes.shape({addLayer:q.PropTypes.func.isRequired,removeLayer:q.PropTypes.func.isRequired})})});const dh=({setFormCoordinates:e,setFieldAccessPoint:s,setRobotHome:o,mode:l,setMode:n,setLocationInfo:a})=>{const[h,d]=H.useState([]),[p,_]=H.useState(),[g,y]=H.useState(),x=async(E,M)=>{try{return(await nt.get(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${E}&lon=${M}`)).data.display_name}catch(k){return console.error("Reverse geocode error:",k),null}},S=async E=>{const{layerType:M,layer:k}=E;if(console.log("layerType:",M),M==="polygon"||M==="rectangle"){const D=k.getLatLngs()[0].map(lt=>({lat:lt.lat,lng:lt.lng}));e(D),d(D),console.log(D);const Y=[...D,D[0]],$=el([Y.map(lt=>[lt.lng,lt.lat])]),pt=ol($)/4046.86,Pt=ul($),[Rt,re]=Pt.geometry.coordinates,at=await x(re,Rt);a({location:at,area:pt.toFixed(2)}),console.log(D)}},b=()=>(eh({click(E){const{lat:M,lng:k}=E.latlng;if(l==="field_access_point"){const I={lat:M,lng:k};_(I),s(I),n("idle")}else if(l==="robot_home"){const I={lat:M,lng:k};y(I),o(I),n("idle")}}}),null);return O.jsx("div",{className:"h-[600px] w-full",children:O.jsxs(rh,{center:[17.385,78.4867],zoom:13,style:{height:"100%",width:"100%"},children:[O.jsx(ah,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"}),O.jsx(b,{}),O.jsxs(nh,{children:[O.jsx(ds,{position:"topleft",onCreated:S,onDeleted:()=>{d([]),e([]),_(void 0),y(void 0),s(null),o(null),a(null)},draw:{rectangle:!0,circle:!1,circlemarker:!1,polygon:!0,marker:!1,polyline:!1}}),h.length>0&&O.jsx(sh,{positions:h,pathOptions:{color:"white",weight:1,fillColor:"rgba(144, 222, 144, 0.5)",fillOpacity:.5}}),h.map((E,M)=>O.jsx(ih,{center:[E.lat,E.lng],radius:4,pathOptions:{color:"green",fillColor:"green",fillOpacity:1}},M))]}),p&&O.jsx(xr,{position:[p.lat,p.lng],children:O.jsx(Pr,{children:"Field Access Point"})}),g&&O.jsx(xr,{position:[g.lat,g.lng],children:O.jsx(Pr,{children:"Robot Home"})})]})})};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Wt(e,s){return typeof e=="function"?e(s):e}function xt(e,s){return o=>{s.setState(l=>({...l,[e]:Wt(o,l[e])}))}}function bi(e){return e instanceof Function}function fh(e){return Array.isArray(e)&&e.every(s=>typeof s=="number")}function ph(e,s){const o=[],l=n=>{n.forEach(a=>{o.push(a);const h=s(a);h!=null&&h.length&&l(h)})};return l(e),o}function F(e,s,o){let l=[],n;return a=>{let h;o.key&&o.debug&&(h=Date.now());const d=e(a);if(!(d.length!==l.length||d.some((g,y)=>l[y]!==g)))return n;l=d;let _;if(o.key&&o.debug&&(_=Date.now()),n=s(...d),o==null||o.onChange==null||o.onChange(n),o.key&&o.debug&&o!=null&&o.debug()){const g=Math.round((Date.now()-h)*100)/100,y=Math.round((Date.now()-_)*100)/100,x=y/16,S=(b,E)=>{for(b=String(b);b.length<E;)b=" "+b;return b};console.info(`%c⏱ ${S(y,5)} /${S(g,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*x,120))}deg 100% 31%);`,o==null?void 0:o.key)}return n}}function B(e,s,o,l){return{debug:()=>{var n;return(n=e==null?void 0:e.debugAll)!=null?n:e[s]},key:!1,onChange:l}}function _h(e,s,o,l){const n=()=>{var h;return(h=a.getValue())!=null?h:e.options.renderFallbackValue},a={id:`${s.id}_${o.id}`,row:s,column:o,getValue:()=>s.getValue(l),renderValue:n,getContext:F(()=>[e,o,s,a],(h,d,p,_)=>({table:h,column:d,row:p,cell:_,getValue:_.getValue,renderValue:_.renderValue}),B(e.options,"debugCells"))};return e._features.forEach(h=>{h.createCell==null||h.createCell(a,o,s,e)},{}),a}function mh(e,s,o,l){var n,a;const d={...e._getDefaultColumnDef(),...s},p=d.accessorKey;let _=(n=(a=d.id)!=null?a:p?typeof String.prototype.replaceAll=="function"?p.replaceAll(".","_"):p.replace(/\./g,"_"):void 0)!=null?n:typeof d.header=="string"?d.header:void 0,g;if(d.accessorFn?g=d.accessorFn:p&&(p.includes(".")?g=x=>{let S=x;for(const E of p.split(".")){var b;S=(b=S)==null?void 0:b[E]}return S}:g=x=>x[d.accessorKey]),!_)throw new Error;let y={id:`${String(_)}`,accessorFn:g,parent:l,depth:o,columnDef:d,columns:[],getFlatColumns:F(()=>[!0],()=>{var x;return[y,...(x=y.columns)==null?void 0:x.flatMap(S=>S.getFlatColumns())]},B(e.options,"debugColumns")),getLeafColumns:F(()=>[e._getOrderColumnsFn()],x=>{var S;if((S=y.columns)!=null&&S.length){let b=y.columns.flatMap(E=>E.getLeafColumns());return x(b)}return[y]},B(e.options,"debugColumns"))};for(const x of e._features)x.createColumn==null||x.createColumn(y,e);return y}const dt="debugHeaders";function Mr(e,s,o){var l;let a={id:(l=o.id)!=null?l:s.id,column:s,index:o.index,isPlaceholder:!!o.isPlaceholder,placeholderId:o.placeholderId,depth:o.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const h=[],d=p=>{p.subHeaders&&p.subHeaders.length&&p.subHeaders.map(d),h.push(p)};return d(a),h},getContext:()=>({table:e,header:a,column:s})};return e._features.forEach(h=>{h.createHeader==null||h.createHeader(a,e)}),a}const gh={createTable:e=>{e.getHeaderGroups=F(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(s,o,l,n)=>{var a,h;const d=(a=l==null?void 0:l.map(y=>o.find(x=>x.id===y)).filter(Boolean))!=null?a:[],p=(h=n==null?void 0:n.map(y=>o.find(x=>x.id===y)).filter(Boolean))!=null?h:[],_=o.filter(y=>!(l!=null&&l.includes(y.id))&&!(n!=null&&n.includes(y.id)));return li(s,[...d,..._,...p],e)},B(e.options,dt)),e.getCenterHeaderGroups=F(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(s,o,l,n)=>(o=o.filter(a=>!(l!=null&&l.includes(a.id))&&!(n!=null&&n.includes(a.id))),li(s,o,e,"center")),B(e.options,dt)),e.getLeftHeaderGroups=F(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(s,o,l)=>{var n;const a=(n=l==null?void 0:l.map(h=>o.find(d=>d.id===h)).filter(Boolean))!=null?n:[];return li(s,a,e,"left")},B(e.options,dt)),e.getRightHeaderGroups=F(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(s,o,l)=>{var n;const a=(n=l==null?void 0:l.map(h=>o.find(d=>d.id===h)).filter(Boolean))!=null?n:[];return li(s,a,e,"right")},B(e.options,dt)),e.getFooterGroups=F(()=>[e.getHeaderGroups()],s=>[...s].reverse(),B(e.options,dt)),e.getLeftFooterGroups=F(()=>[e.getLeftHeaderGroups()],s=>[...s].reverse(),B(e.options,dt)),e.getCenterFooterGroups=F(()=>[e.getCenterHeaderGroups()],s=>[...s].reverse(),B(e.options,dt)),e.getRightFooterGroups=F(()=>[e.getRightHeaderGroups()],s=>[...s].reverse(),B(e.options,dt)),e.getFlatHeaders=F(()=>[e.getHeaderGroups()],s=>s.map(o=>o.headers).flat(),B(e.options,dt)),e.getLeftFlatHeaders=F(()=>[e.getLeftHeaderGroups()],s=>s.map(o=>o.headers).flat(),B(e.options,dt)),e.getCenterFlatHeaders=F(()=>[e.getCenterHeaderGroups()],s=>s.map(o=>o.headers).flat(),B(e.options,dt)),e.getRightFlatHeaders=F(()=>[e.getRightHeaderGroups()],s=>s.map(o=>o.headers).flat(),B(e.options,dt)),e.getCenterLeafHeaders=F(()=>[e.getCenterFlatHeaders()],s=>s.filter(o=>{var l;return!((l=o.subHeaders)!=null&&l.length)}),B(e.options,dt)),e.getLeftLeafHeaders=F(()=>[e.getLeftFlatHeaders()],s=>s.filter(o=>{var l;return!((l=o.subHeaders)!=null&&l.length)}),B(e.options,dt)),e.getRightLeafHeaders=F(()=>[e.getRightFlatHeaders()],s=>s.filter(o=>{var l;return!((l=o.subHeaders)!=null&&l.length)}),B(e.options,dt)),e.getLeafHeaders=F(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(s,o,l)=>{var n,a,h,d,p,_;return[...(n=(a=s[0])==null?void 0:a.headers)!=null?n:[],...(h=(d=o[0])==null?void 0:d.headers)!=null?h:[],...(p=(_=l[0])==null?void 0:_.headers)!=null?p:[]].map(g=>g.getLeafHeaders()).flat()},B(e.options,dt))}};function li(e,s,o,l){var n,a;let h=0;const d=function(x,S){S===void 0&&(S=1),h=Math.max(h,S),x.filter(b=>b.getIsVisible()).forEach(b=>{var E;(E=b.columns)!=null&&E.length&&d(b.columns,S+1)},0)};d(e);let p=[];const _=(x,S)=>{const b={depth:S,id:[l,`${S}`].filter(Boolean).join("_"),headers:[]},E=[];x.forEach(M=>{const k=[...E].reverse()[0],I=M.column.depth===b.depth;let D,Y=!1;if(I&&M.column.parent?D=M.column.parent:(D=M.column,Y=!0),k&&(k==null?void 0:k.column)===D)k.subHeaders.push(M);else{const $=Mr(o,D,{id:[l,S,D.id,M==null?void 0:M.id].filter(Boolean).join("_"),isPlaceholder:Y,placeholderId:Y?`${E.filter(ht=>ht.column===D).length}`:void 0,depth:S,index:E.length});$.subHeaders.push(M),E.push($)}b.headers.push(M),M.headerGroup=b}),p.push(b),S>0&&_(E,S-1)},g=s.map((x,S)=>Mr(o,x,{depth:h,index:S}));_(g,h-1),p.reverse();const y=x=>x.filter(b=>b.column.getIsVisible()).map(b=>{let E=0,M=0,k=[0];b.subHeaders&&b.subHeaders.length?(k=[],y(b.subHeaders).forEach(D=>{let{colSpan:Y,rowSpan:$}=D;E+=Y,k.push($)})):E=1;const I=Math.min(...k);return M=M+I,b.colSpan=E,b.rowSpan=M,{colSpan:E,rowSpan:M}});return y((n=(a=p[0])==null?void 0:a.headers)!=null?n:[]),p}const vh=(e,s,o,l,n,a,h)=>{let d={id:s,index:l,original:o,depth:n,parentId:h,_valuesCache:{},_uniqueValuesCache:{},getValue:p=>{if(d._valuesCache.hasOwnProperty(p))return d._valuesCache[p];const _=e.getColumn(p);if(_!=null&&_.accessorFn)return d._valuesCache[p]=_.accessorFn(d.original,l),d._valuesCache[p]},getUniqueValues:p=>{if(d._uniqueValuesCache.hasOwnProperty(p))return d._uniqueValuesCache[p];const _=e.getColumn(p);if(_!=null&&_.accessorFn)return _.columnDef.getUniqueValues?(d._uniqueValuesCache[p]=_.columnDef.getUniqueValues(d.original,l),d._uniqueValuesCache[p]):(d._uniqueValuesCache[p]=[d.getValue(p)],d._uniqueValuesCache[p])},renderValue:p=>{var _;return(_=d.getValue(p))!=null?_:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>ph(d.subRows,p=>p.subRows),getParentRow:()=>d.parentId?e.getRow(d.parentId,!0):void 0,getParentRows:()=>{let p=[],_=d;for(;;){const g=_.getParentRow();if(!g)break;p.push(g),_=g}return p.reverse()},getAllCells:F(()=>[e.getAllLeafColumns()],p=>p.map(_=>_h(e,d,_,_.id)),B(e.options,"debugRows")),_getAllCellsByColumnId:F(()=>[d.getAllCells()],p=>p.reduce((_,g)=>(_[g.column.id]=g,_),{}),B(e.options,"debugRows"))};for(let p=0;p<e._features.length;p++){const _=e._features[p];_==null||_.createRow==null||_.createRow(d,e)}return d},yh={createColumn:(e,s)=>{e._getFacetedRowModel=s.options.getFacetedRowModel&&s.options.getFacetedRowModel(s,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():s.getPreFilteredRowModel(),e._getFacetedUniqueValues=s.options.getFacetedUniqueValues&&s.options.getFacetedUniqueValues(s,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=s.options.getFacetedMinMaxValues&&s.options.getFacetedMinMaxValues(s,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},fs=(e,s,o)=>{var l,n;const a=o==null||(l=o.toString())==null?void 0:l.toLowerCase();return!!(!((n=e.getValue(s))==null||(n=n.toString())==null||(n=n.toLowerCase())==null)&&n.includes(a))};fs.autoRemove=e=>Mt(e);const ps=(e,s,o)=>{var l;return!!(!((l=e.getValue(s))==null||(l=l.toString())==null)&&l.includes(o))};ps.autoRemove=e=>Mt(e);const _s=(e,s,o)=>{var l;return((l=e.getValue(s))==null||(l=l.toString())==null?void 0:l.toLowerCase())===(o==null?void 0:o.toLowerCase())};_s.autoRemove=e=>Mt(e);const ms=(e,s,o)=>{var l;return(l=e.getValue(s))==null?void 0:l.includes(o)};ms.autoRemove=e=>Mt(e);const gs=(e,s,o)=>!o.some(l=>{var n;return!((n=e.getValue(s))!=null&&n.includes(l))});gs.autoRemove=e=>Mt(e)||!(e!=null&&e.length);const vs=(e,s,o)=>o.some(l=>{var n;return(n=e.getValue(s))==null?void 0:n.includes(l)});vs.autoRemove=e=>Mt(e)||!(e!=null&&e.length);const ys=(e,s,o)=>e.getValue(s)===o;ys.autoRemove=e=>Mt(e);const ws=(e,s,o)=>e.getValue(s)==o;ws.autoRemove=e=>Mt(e);const Hn=(e,s,o)=>{let[l,n]=o;const a=e.getValue(s);return a>=l&&a<=n};Hn.resolveFilterValue=e=>{let[s,o]=e,l=typeof s!="number"?parseFloat(s):s,n=typeof o!="number"?parseFloat(o):o,a=s===null||Number.isNaN(l)?-1/0:l,h=o===null||Number.isNaN(n)?1/0:n;if(a>h){const d=a;a=h,h=d}return[a,h]};Hn.autoRemove=e=>Mt(e)||Mt(e[0])&&Mt(e[1]);const Gt={includesString:fs,includesStringSensitive:ps,equalsString:_s,arrIncludes:ms,arrIncludesAll:gs,arrIncludesSome:vs,equals:ys,weakEquals:ws,inNumberRange:Hn};function Mt(e){return e==null||e===""}const wh={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:xt("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,s)=>{e.getAutoFilterFn=()=>{const o=s.getCoreRowModel().flatRows[0],l=o==null?void 0:o.getValue(e.id);return typeof l=="string"?Gt.includesString:typeof l=="number"?Gt.inNumberRange:typeof l=="boolean"||l!==null&&typeof l=="object"?Gt.equals:Array.isArray(l)?Gt.arrIncludes:Gt.weakEquals},e.getFilterFn=()=>{var o,l;return bi(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(o=(l=s.options.filterFns)==null?void 0:l[e.columnDef.filterFn])!=null?o:Gt[e.columnDef.filterFn]},e.getCanFilter=()=>{var o,l,n;return((o=e.columnDef.enableColumnFilter)!=null?o:!0)&&((l=s.options.enableColumnFilters)!=null?l:!0)&&((n=s.options.enableFilters)!=null?n:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var o;return(o=s.getState().columnFilters)==null||(o=o.find(l=>l.id===e.id))==null?void 0:o.value},e.getFilterIndex=()=>{var o,l;return(o=(l=s.getState().columnFilters)==null?void 0:l.findIndex(n=>n.id===e.id))!=null?o:-1},e.setFilterValue=o=>{s.setColumnFilters(l=>{const n=e.getFilterFn(),a=l==null?void 0:l.find(g=>g.id===e.id),h=Wt(o,a?a.value:void 0);if(kr(n,h,e)){var d;return(d=l==null?void 0:l.filter(g=>g.id!==e.id))!=null?d:[]}const p={id:e.id,value:h};if(a){var _;return(_=l==null?void 0:l.map(g=>g.id===e.id?p:g))!=null?_:[]}return l!=null&&l.length?[...l,p]:[p]})}},createRow:(e,s)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=s=>{const o=e.getAllLeafColumns(),l=n=>{var a;return(a=Wt(s,n))==null?void 0:a.filter(h=>{const d=o.find(p=>p.id===h.id);if(d){const p=d.getFilterFn();if(kr(p,h.value,d))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(l)},e.resetColumnFilters=s=>{var o,l;e.setColumnFilters(s?[]:(o=(l=e.initialState)==null?void 0:l.columnFilters)!=null?o:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function kr(e,s,o){return(e&&e.autoRemove?e.autoRemove(s,o):!1)||typeof s>"u"||typeof s=="string"&&!s}const Lh=(e,s,o)=>o.reduce((l,n)=>{const a=n.getValue(e);return l+(typeof a=="number"?a:0)},0),xh=(e,s,o)=>{let l;return o.forEach(n=>{const a=n.getValue(e);a!=null&&(l>a||l===void 0&&a>=a)&&(l=a)}),l},Ph=(e,s,o)=>{let l;return o.forEach(n=>{const a=n.getValue(e);a!=null&&(l<a||l===void 0&&a>=a)&&(l=a)}),l},Sh=(e,s,o)=>{let l,n;return o.forEach(a=>{const h=a.getValue(e);h!=null&&(l===void 0?h>=h&&(l=n=h):(l>h&&(l=h),n<h&&(n=h)))}),[l,n]},Ch=(e,s)=>{let o=0,l=0;if(s.forEach(n=>{let a=n.getValue(e);a!=null&&(a=+a)>=a&&(++o,l+=a)}),o)return l/o},bh=(e,s)=>{if(!s.length)return;const o=s.map(a=>a.getValue(e));if(!fh(o))return;if(o.length===1)return o[0];const l=Math.floor(o.length/2),n=o.sort((a,h)=>a-h);return o.length%2!==0?n[l]:(n[l-1]+n[l])/2},Eh=(e,s)=>Array.from(new Set(s.map(o=>o.getValue(e))).values()),Th=(e,s)=>new Set(s.map(o=>o.getValue(e))).size,Mh=(e,s)=>s.length,mn={sum:Lh,min:xh,max:Ph,extent:Sh,mean:Ch,median:bh,unique:Eh,uniqueCount:Th,count:Mh},kh={getDefaultColumnDef:()=>({aggregatedCell:e=>{var s,o;return(s=(o=e.getValue())==null||o.toString==null?void 0:o.toString())!=null?s:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:xt("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,s)=>{e.toggleGrouping=()=>{s.setGrouping(o=>o!=null&&o.includes(e.id)?o.filter(l=>l!==e.id):[...o??[],e.id])},e.getCanGroup=()=>{var o,l;return((o=e.columnDef.enableGrouping)!=null?o:!0)&&((l=s.options.enableGrouping)!=null?l:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var o;return(o=s.getState().grouping)==null?void 0:o.includes(e.id)},e.getGroupedIndex=()=>{var o;return(o=s.getState().grouping)==null?void 0:o.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const o=e.getCanGroup();return()=>{o&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const o=s.getCoreRowModel().flatRows[0],l=o==null?void 0:o.getValue(e.id);if(typeof l=="number")return mn.sum;if(Object.prototype.toString.call(l)==="[object Date]")return mn.extent},e.getAggregationFn=()=>{var o,l;if(!e)throw new Error;return bi(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(o=(l=s.options.aggregationFns)==null?void 0:l[e.columnDef.aggregationFn])!=null?o:mn[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=s=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(s),e.resetGrouping=s=>{var o,l;e.setGrouping(s?[]:(o=(l=e.initialState)==null?void 0:l.grouping)!=null?o:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,s)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=o=>{if(e._groupingValuesCache.hasOwnProperty(o))return e._groupingValuesCache[o];const l=s.getColumn(o);return l!=null&&l.columnDef.getGroupingValue?(e._groupingValuesCache[o]=l.columnDef.getGroupingValue(e.original),e._groupingValuesCache[o]):e.getValue(o)},e._groupingValuesCache={}},createCell:(e,s,o,l)=>{e.getIsGrouped=()=>s.getIsGrouped()&&s.id===o.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&s.getIsGrouped(),e.getIsAggregated=()=>{var n;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((n=o.subRows)!=null&&n.length)}}};function Rh(e,s,o){if(!(s!=null&&s.length)||!o)return e;const l=e.filter(a=>!s.includes(a.id));return o==="remove"?l:[...s.map(a=>e.find(h=>h.id===a)).filter(Boolean),...l]}const Dh={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:xt("columnOrder",e)}),createColumn:(e,s)=>{e.getIndex=F(o=>[Fe(s,o)],o=>o.findIndex(l=>l.id===e.id),B(s.options,"debugColumns")),e.getIsFirstColumn=o=>{var l;return((l=Fe(s,o)[0])==null?void 0:l.id)===e.id},e.getIsLastColumn=o=>{var l;const n=Fe(s,o);return((l=n[n.length-1])==null?void 0:l.id)===e.id}},createTable:e=>{e.setColumnOrder=s=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(s),e.resetColumnOrder=s=>{var o;e.setColumnOrder(s?[]:(o=e.initialState.columnOrder)!=null?o:[])},e._getOrderColumnsFn=F(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(s,o,l)=>n=>{let a=[];if(!(s!=null&&s.length))a=n;else{const h=[...s],d=[...n];for(;d.length&&h.length;){const p=h.shift(),_=d.findIndex(g=>g.id===p);_>-1&&a.push(d.splice(_,1)[0])}a=[...a,...d]}return Rh(a,o,l)},B(e.options,"debugTable"))}},gn=()=>({left:[],right:[]}),Oh={getInitialState:e=>({columnPinning:gn(),...e}),getDefaultOptions:e=>({onColumnPinningChange:xt("columnPinning",e)}),createColumn:(e,s)=>{e.pin=o=>{const l=e.getLeafColumns().map(n=>n.id).filter(Boolean);s.setColumnPinning(n=>{var a,h;if(o==="right"){var d,p;return{left:((d=n==null?void 0:n.left)!=null?d:[]).filter(y=>!(l!=null&&l.includes(y))),right:[...((p=n==null?void 0:n.right)!=null?p:[]).filter(y=>!(l!=null&&l.includes(y))),...l]}}if(o==="left"){var _,g;return{left:[...((_=n==null?void 0:n.left)!=null?_:[]).filter(y=>!(l!=null&&l.includes(y))),...l],right:((g=n==null?void 0:n.right)!=null?g:[]).filter(y=>!(l!=null&&l.includes(y)))}}return{left:((a=n==null?void 0:n.left)!=null?a:[]).filter(y=>!(l!=null&&l.includes(y))),right:((h=n==null?void 0:n.right)!=null?h:[]).filter(y=>!(l!=null&&l.includes(y)))}})},e.getCanPin=()=>e.getLeafColumns().some(l=>{var n,a,h;return((n=l.columnDef.enablePinning)!=null?n:!0)&&((a=(h=s.options.enableColumnPinning)!=null?h:s.options.enablePinning)!=null?a:!0)}),e.getIsPinned=()=>{const o=e.getLeafColumns().map(d=>d.id),{left:l,right:n}=s.getState().columnPinning,a=o.some(d=>l==null?void 0:l.includes(d)),h=o.some(d=>n==null?void 0:n.includes(d));return a?"left":h?"right":!1},e.getPinnedIndex=()=>{var o,l;const n=e.getIsPinned();return n?(o=(l=s.getState().columnPinning)==null||(l=l[n])==null?void 0:l.indexOf(e.id))!=null?o:-1:0}},createRow:(e,s)=>{e.getCenterVisibleCells=F(()=>[e._getAllVisibleCells(),s.getState().columnPinning.left,s.getState().columnPinning.right],(o,l,n)=>{const a=[...l??[],...n??[]];return o.filter(h=>!a.includes(h.column.id))},B(s.options,"debugRows")),e.getLeftVisibleCells=F(()=>[e._getAllVisibleCells(),s.getState().columnPinning.left],(o,l)=>(l??[]).map(a=>o.find(h=>h.column.id===a)).filter(Boolean).map(a=>({...a,position:"left"})),B(s.options,"debugRows")),e.getRightVisibleCells=F(()=>[e._getAllVisibleCells(),s.getState().columnPinning.right],(o,l)=>(l??[]).map(a=>o.find(h=>h.column.id===a)).filter(Boolean).map(a=>({...a,position:"right"})),B(s.options,"debugRows"))},createTable:e=>{e.setColumnPinning=s=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(s),e.resetColumnPinning=s=>{var o,l;return e.setColumnPinning(s?gn():(o=(l=e.initialState)==null?void 0:l.columnPinning)!=null?o:gn())},e.getIsSomeColumnsPinned=s=>{var o;const l=e.getState().columnPinning;if(!s){var n,a;return!!((n=l.left)!=null&&n.length||(a=l.right)!=null&&a.length)}return!!((o=l[s])!=null&&o.length)},e.getLeftLeafColumns=F(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(s,o)=>(o??[]).map(l=>s.find(n=>n.id===l)).filter(Boolean),B(e.options,"debugColumns")),e.getRightLeafColumns=F(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(s,o)=>(o??[]).map(l=>s.find(n=>n.id===l)).filter(Boolean),B(e.options,"debugColumns")),e.getCenterLeafColumns=F(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(s,o,l)=>{const n=[...o??[],...l??[]];return s.filter(a=>!n.includes(a.id))},B(e.options,"debugColumns"))}};function Ah(e){return e||(typeof document<"u"?document:null)}const ui={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},vn=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Ih={getDefaultColumnDef:()=>ui,getInitialState:e=>({columnSizing:{},columnSizingInfo:vn(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:xt("columnSizing",e),onColumnSizingInfoChange:xt("columnSizingInfo",e)}),createColumn:(e,s)=>{e.getSize=()=>{var o,l,n;const a=s.getState().columnSizing[e.id];return Math.min(Math.max((o=e.columnDef.minSize)!=null?o:ui.minSize,(l=a??e.columnDef.size)!=null?l:ui.size),(n=e.columnDef.maxSize)!=null?n:ui.maxSize)},e.getStart=F(o=>[o,Fe(s,o),s.getState().columnSizing],(o,l)=>l.slice(0,e.getIndex(o)).reduce((n,a)=>n+a.getSize(),0),B(s.options,"debugColumns")),e.getAfter=F(o=>[o,Fe(s,o),s.getState().columnSizing],(o,l)=>l.slice(e.getIndex(o)+1).reduce((n,a)=>n+a.getSize(),0),B(s.options,"debugColumns")),e.resetSize=()=>{s.setColumnSizing(o=>{let{[e.id]:l,...n}=o;return n})},e.getCanResize=()=>{var o,l;return((o=e.columnDef.enableResizing)!=null?o:!0)&&((l=s.options.enableColumnResizing)!=null?l:!0)},e.getIsResizing=()=>s.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,s)=>{e.getSize=()=>{let o=0;const l=n=>{if(n.subHeaders.length)n.subHeaders.forEach(l);else{var a;o+=(a=n.column.getSize())!=null?a:0}};return l(e),o},e.getStart=()=>{if(e.index>0){const o=e.headerGroup.headers[e.index-1];return o.getStart()+o.getSize()}return 0},e.getResizeHandler=o=>{const l=s.getColumn(e.column.id),n=l==null?void 0:l.getCanResize();return a=>{if(!l||!n||(a.persist==null||a.persist(),yn(a)&&a.touches&&a.touches.length>1))return;const h=e.getSize(),d=e?e.getLeafHeaders().map(k=>[k.column.id,k.column.getSize()]):[[l.id,l.getSize()]],p=yn(a)?Math.round(a.touches[0].clientX):a.clientX,_={},g=(k,I)=>{typeof I=="number"&&(s.setColumnSizingInfo(D=>{var Y,$;const ht=s.options.columnResizeDirection==="rtl"?-1:1,pt=(I-((Y=D==null?void 0:D.startOffset)!=null?Y:0))*ht,Pt=Math.max(pt/(($=D==null?void 0:D.startSize)!=null?$:0),-.999999);return D.columnSizingStart.forEach(Rt=>{let[re,at]=Rt;_[re]=Math.round(Math.max(at+at*Pt,0)*100)/100}),{...D,deltaOffset:pt,deltaPercentage:Pt}}),(s.options.columnResizeMode==="onChange"||k==="end")&&s.setColumnSizing(D=>({...D,..._})))},y=k=>g("move",k),x=k=>{g("end",k),s.setColumnSizingInfo(I=>({...I,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},S=Ah(o),b={moveHandler:k=>y(k.clientX),upHandler:k=>{S==null||S.removeEventListener("mousemove",b.moveHandler),S==null||S.removeEventListener("mouseup",b.upHandler),x(k.clientX)}},E={moveHandler:k=>(k.cancelable&&(k.preventDefault(),k.stopPropagation()),y(k.touches[0].clientX),!1),upHandler:k=>{var I;S==null||S.removeEventListener("touchmove",E.moveHandler),S==null||S.removeEventListener("touchend",E.upHandler),k.cancelable&&(k.preventDefault(),k.stopPropagation()),x((I=k.touches[0])==null?void 0:I.clientX)}},M=zh()?{passive:!1}:!1;yn(a)?(S==null||S.addEventListener("touchmove",E.moveHandler,M),S==null||S.addEventListener("touchend",E.upHandler,M)):(S==null||S.addEventListener("mousemove",b.moveHandler,M),S==null||S.addEventListener("mouseup",b.upHandler,M)),s.setColumnSizingInfo(k=>({...k,startOffset:p,startSize:h,deltaOffset:0,deltaPercentage:0,columnSizingStart:d,isResizingColumn:l.id}))}}},createTable:e=>{e.setColumnSizing=s=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(s),e.setColumnSizingInfo=s=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(s),e.resetColumnSizing=s=>{var o;e.setColumnSizing(s?{}:(o=e.initialState.columnSizing)!=null?o:{})},e.resetHeaderSizeInfo=s=>{var o;e.setColumnSizingInfo(s?vn():(o=e.initialState.columnSizingInfo)!=null?o:vn())},e.getTotalSize=()=>{var s,o;return(s=(o=e.getHeaderGroups()[0])==null?void 0:o.headers.reduce((l,n)=>l+n.getSize(),0))!=null?s:0},e.getLeftTotalSize=()=>{var s,o;return(s=(o=e.getLeftHeaderGroups()[0])==null?void 0:o.headers.reduce((l,n)=>l+n.getSize(),0))!=null?s:0},e.getCenterTotalSize=()=>{var s,o;return(s=(o=e.getCenterHeaderGroups()[0])==null?void 0:o.headers.reduce((l,n)=>l+n.getSize(),0))!=null?s:0},e.getRightTotalSize=()=>{var s,o;return(s=(o=e.getRightHeaderGroups()[0])==null?void 0:o.headers.reduce((l,n)=>l+n.getSize(),0))!=null?s:0}}};let hi=null;function zh(){if(typeof hi=="boolean")return hi;let e=!1;try{const s={get passive(){return e=!0,!1}},o=()=>{};window.addEventListener("test",o,s),window.removeEventListener("test",o)}catch{e=!1}return hi=e,hi}function yn(e){return e.type==="touchstart"}const Fh={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:xt("columnVisibility",e)}),createColumn:(e,s)=>{e.toggleVisibility=o=>{e.getCanHide()&&s.setColumnVisibility(l=>({...l,[e.id]:o??!e.getIsVisible()}))},e.getIsVisible=()=>{var o,l;const n=e.columns;return(o=n.length?n.some(a=>a.getIsVisible()):(l=s.getState().columnVisibility)==null?void 0:l[e.id])!=null?o:!0},e.getCanHide=()=>{var o,l;return((o=e.columnDef.enableHiding)!=null?o:!0)&&((l=s.options.enableHiding)!=null?l:!0)},e.getToggleVisibilityHandler=()=>o=>{e.toggleVisibility==null||e.toggleVisibility(o.target.checked)}},createRow:(e,s)=>{e._getAllVisibleCells=F(()=>[e.getAllCells(),s.getState().columnVisibility],o=>o.filter(l=>l.column.getIsVisible()),B(s.options,"debugRows")),e.getVisibleCells=F(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(o,l,n)=>[...o,...l,...n],B(s.options,"debugRows"))},createTable:e=>{const s=(o,l)=>F(()=>[l(),l().filter(n=>n.getIsVisible()).map(n=>n.id).join("_")],n=>n.filter(a=>a.getIsVisible==null?void 0:a.getIsVisible()),B(e.options,"debugColumns"));e.getVisibleFlatColumns=s("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=s("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=s("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=s("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=s("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=o=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(o),e.resetColumnVisibility=o=>{var l;e.setColumnVisibility(o?{}:(l=e.initialState.columnVisibility)!=null?l:{})},e.toggleAllColumnsVisible=o=>{var l;o=(l=o)!=null?l:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((n,a)=>({...n,[a.id]:o||!(a.getCanHide!=null&&a.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(o=>!(o.getIsVisible!=null&&o.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(o=>o.getIsVisible==null?void 0:o.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>o=>{var l;e.toggleAllColumnsVisible((l=o.target)==null?void 0:l.checked)}}};function Fe(e,s){return s?s==="center"?e.getCenterVisibleLeafColumns():s==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Bh={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Nh={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:xt("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:s=>{var o;const l=(o=e.getCoreRowModel().flatRows[0])==null||(o=o._getAllCellsByColumnId()[s.id])==null?void 0:o.getValue();return typeof l=="string"||typeof l=="number"}}),createColumn:(e,s)=>{e.getCanGlobalFilter=()=>{var o,l,n,a;return((o=e.columnDef.enableGlobalFilter)!=null?o:!0)&&((l=s.options.enableGlobalFilter)!=null?l:!0)&&((n=s.options.enableFilters)!=null?n:!0)&&((a=s.options.getColumnCanGlobalFilter==null?void 0:s.options.getColumnCanGlobalFilter(e))!=null?a:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Gt.includesString,e.getGlobalFilterFn=()=>{var s,o;const{globalFilterFn:l}=e.options;return bi(l)?l:l==="auto"?e.getGlobalAutoFilterFn():(s=(o=e.options.filterFns)==null?void 0:o[l])!=null?s:Gt[l]},e.setGlobalFilter=s=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(s)},e.resetGlobalFilter=s=>{e.setGlobalFilter(s?void 0:e.initialState.globalFilter)}}},Hh={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:xt("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let s=!1,o=!1;e._autoResetExpanded=()=>{var l,n;if(!s){e._queue(()=>{s=!0});return}if((l=(n=e.options.autoResetAll)!=null?n:e.options.autoResetExpanded)!=null?l:!e.options.manualExpanding){if(o)return;o=!0,e._queue(()=>{e.resetExpanded(),o=!1})}},e.setExpanded=l=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(l),e.toggleAllRowsExpanded=l=>{l??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=l=>{var n,a;e.setExpanded(l?{}:(n=(a=e.initialState)==null?void 0:a.expanded)!=null?n:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(l=>l.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>l=>{l.persist==null||l.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const l=e.getState().expanded;return l===!0||Object.values(l).some(Boolean)},e.getIsAllRowsExpanded=()=>{const l=e.getState().expanded;return typeof l=="boolean"?l===!0:!(!Object.keys(l).length||e.getRowModel().flatRows.some(n=>!n.getIsExpanded()))},e.getExpandedDepth=()=>{let l=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(a=>{const h=a.split(".");l=Math.max(l,h.length)}),l},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,s)=>{e.toggleExpanded=o=>{s.setExpanded(l=>{var n;const a=l===!0?!0:!!(l!=null&&l[e.id]);let h={};if(l===!0?Object.keys(s.getRowModel().rowsById).forEach(d=>{h[d]=!0}):h=l,o=(n=o)!=null?n:!a,!a&&o)return{...h,[e.id]:!0};if(a&&!o){const{[e.id]:d,...p}=h;return p}return l})},e.getIsExpanded=()=>{var o;const l=s.getState().expanded;return!!((o=s.options.getIsRowExpanded==null?void 0:s.options.getIsRowExpanded(e))!=null?o:l===!0||l!=null&&l[e.id])},e.getCanExpand=()=>{var o,l,n;return(o=s.options.getRowCanExpand==null?void 0:s.options.getRowCanExpand(e))!=null?o:((l=s.options.enableExpanding)!=null?l:!0)&&!!((n=e.subRows)!=null&&n.length)},e.getIsAllParentsExpanded=()=>{let o=!0,l=e;for(;o&&l.parentId;)l=s.getRow(l.parentId,!0),o=l.getIsExpanded();return o},e.getToggleExpandedHandler=()=>{const o=e.getCanExpand();return()=>{o&&e.toggleExpanded()}}}},kn=0,Rn=10,wn=()=>({pageIndex:kn,pageSize:Rn}),Zh={getInitialState:e=>({...e,pagination:{...wn(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:xt("pagination",e)}),createTable:e=>{let s=!1,o=!1;e._autoResetPageIndex=()=>{var l,n;if(!s){e._queue(()=>{s=!0});return}if((l=(n=e.options.autoResetAll)!=null?n:e.options.autoResetPageIndex)!=null?l:!e.options.manualPagination){if(o)return;o=!0,e._queue(()=>{e.resetPageIndex(),o=!1})}},e.setPagination=l=>{const n=a=>Wt(l,a);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(n)},e.resetPagination=l=>{var n;e.setPagination(l?wn():(n=e.initialState.pagination)!=null?n:wn())},e.setPageIndex=l=>{e.setPagination(n=>{let a=Wt(l,n.pageIndex);const h=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return a=Math.max(0,Math.min(a,h)),{...n,pageIndex:a}})},e.resetPageIndex=l=>{var n,a;e.setPageIndex(l?kn:(n=(a=e.initialState)==null||(a=a.pagination)==null?void 0:a.pageIndex)!=null?n:kn)},e.resetPageSize=l=>{var n,a;e.setPageSize(l?Rn:(n=(a=e.initialState)==null||(a=a.pagination)==null?void 0:a.pageSize)!=null?n:Rn)},e.setPageSize=l=>{e.setPagination(n=>{const a=Math.max(1,Wt(l,n.pageSize)),h=n.pageSize*n.pageIndex,d=Math.floor(h/a);return{...n,pageIndex:d,pageSize:a}})},e.setPageCount=l=>e.setPagination(n=>{var a;let h=Wt(l,(a=e.options.pageCount)!=null?a:-1);return typeof h=="number"&&(h=Math.max(-1,h)),{...n,pageCount:h}}),e.getPageOptions=F(()=>[e.getPageCount()],l=>{let n=[];return l&&l>0&&(n=[...new Array(l)].fill(null).map((a,h)=>h)),n},B(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:l}=e.getState().pagination,n=e.getPageCount();return n===-1?!0:n===0?!1:l<n-1},e.previousPage=()=>e.setPageIndex(l=>l-1),e.nextPage=()=>e.setPageIndex(l=>l+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var l;return(l=e.options.pageCount)!=null?l:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var l;return(l=e.options.rowCount)!=null?l:e.getPrePaginationRowModel().rows.length}}},Ln=()=>({top:[],bottom:[]}),Vh={getInitialState:e=>({rowPinning:Ln(),...e}),getDefaultOptions:e=>({onRowPinningChange:xt("rowPinning",e)}),createRow:(e,s)=>{e.pin=(o,l,n)=>{const a=l?e.getLeafRows().map(p=>{let{id:_}=p;return _}):[],h=n?e.getParentRows().map(p=>{let{id:_}=p;return _}):[],d=new Set([...h,e.id,...a]);s.setRowPinning(p=>{var _,g;if(o==="bottom"){var y,x;return{top:((y=p==null?void 0:p.top)!=null?y:[]).filter(E=>!(d!=null&&d.has(E))),bottom:[...((x=p==null?void 0:p.bottom)!=null?x:[]).filter(E=>!(d!=null&&d.has(E))),...Array.from(d)]}}if(o==="top"){var S,b;return{top:[...((S=p==null?void 0:p.top)!=null?S:[]).filter(E=>!(d!=null&&d.has(E))),...Array.from(d)],bottom:((b=p==null?void 0:p.bottom)!=null?b:[]).filter(E=>!(d!=null&&d.has(E)))}}return{top:((_=p==null?void 0:p.top)!=null?_:[]).filter(E=>!(d!=null&&d.has(E))),bottom:((g=p==null?void 0:p.bottom)!=null?g:[]).filter(E=>!(d!=null&&d.has(E)))}})},e.getCanPin=()=>{var o;const{enableRowPinning:l,enablePinning:n}=s.options;return typeof l=="function"?l(e):(o=l??n)!=null?o:!0},e.getIsPinned=()=>{const o=[e.id],{top:l,bottom:n}=s.getState().rowPinning,a=o.some(d=>l==null?void 0:l.includes(d)),h=o.some(d=>n==null?void 0:n.includes(d));return a?"top":h?"bottom":!1},e.getPinnedIndex=()=>{var o,l;const n=e.getIsPinned();if(!n)return-1;const a=(o=n==="top"?s.getTopRows():s.getBottomRows())==null?void 0:o.map(h=>{let{id:d}=h;return d});return(l=a==null?void 0:a.indexOf(e.id))!=null?l:-1}},createTable:e=>{e.setRowPinning=s=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(s),e.resetRowPinning=s=>{var o,l;return e.setRowPinning(s?Ln():(o=(l=e.initialState)==null?void 0:l.rowPinning)!=null?o:Ln())},e.getIsSomeRowsPinned=s=>{var o;const l=e.getState().rowPinning;if(!s){var n,a;return!!((n=l.top)!=null&&n.length||(a=l.bottom)!=null&&a.length)}return!!((o=l[s])!=null&&o.length)},e._getPinnedRows=(s,o,l)=>{var n;return((n=e.options.keepPinnedRows)==null||n?(o??[]).map(h=>{const d=e.getRow(h,!0);return d.getIsAllParentsExpanded()?d:null}):(o??[]).map(h=>s.find(d=>d.id===h))).filter(Boolean).map(h=>({...h,position:l}))},e.getTopRows=F(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(s,o)=>e._getPinnedRows(s,o,"top"),B(e.options,"debugRows")),e.getBottomRows=F(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(s,o)=>e._getPinnedRows(s,o,"bottom"),B(e.options,"debugRows")),e.getCenterRows=F(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(s,o,l)=>{const n=new Set([...o??[],...l??[]]);return s.filter(a=>!n.has(a.id))},B(e.options,"debugRows"))}},Uh={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:xt("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=s=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(s),e.resetRowSelection=s=>{var o;return e.setRowSelection(s?{}:(o=e.initialState.rowSelection)!=null?o:{})},e.toggleAllRowsSelected=s=>{e.setRowSelection(o=>{s=typeof s<"u"?s:!e.getIsAllRowsSelected();const l={...o},n=e.getPreGroupedRowModel().flatRows;return s?n.forEach(a=>{a.getCanSelect()&&(l[a.id]=!0)}):n.forEach(a=>{delete l[a.id]}),l})},e.toggleAllPageRowsSelected=s=>e.setRowSelection(o=>{const l=typeof s<"u"?s:!e.getIsAllPageRowsSelected(),n={...o};return e.getRowModel().rows.forEach(a=>{Dn(n,a.id,l,!0,e)}),n}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=F(()=>[e.getState().rowSelection,e.getCoreRowModel()],(s,o)=>Object.keys(s).length?xn(e,o):{rows:[],flatRows:[],rowsById:{}},B(e.options,"debugTable")),e.getFilteredSelectedRowModel=F(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(s,o)=>Object.keys(s).length?xn(e,o):{rows:[],flatRows:[],rowsById:{}},B(e.options,"debugTable")),e.getGroupedSelectedRowModel=F(()=>[e.getState().rowSelection,e.getSortedRowModel()],(s,o)=>Object.keys(s).length?xn(e,o):{rows:[],flatRows:[],rowsById:{}},B(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const s=e.getFilteredRowModel().flatRows,{rowSelection:o}=e.getState();let l=!!(s.length&&Object.keys(o).length);return l&&s.some(n=>n.getCanSelect()&&!o[n.id])&&(l=!1),l},e.getIsAllPageRowsSelected=()=>{const s=e.getPaginationRowModel().flatRows.filter(n=>n.getCanSelect()),{rowSelection:o}=e.getState();let l=!!s.length;return l&&s.some(n=>!o[n.id])&&(l=!1),l},e.getIsSomeRowsSelected=()=>{var s;const o=Object.keys((s=e.getState().rowSelection)!=null?s:{}).length;return o>0&&o<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const s=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:s.filter(o=>o.getCanSelect()).some(o=>o.getIsSelected()||o.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>s=>{e.toggleAllRowsSelected(s.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>s=>{e.toggleAllPageRowsSelected(s.target.checked)}},createRow:(e,s)=>{e.toggleSelected=(o,l)=>{const n=e.getIsSelected();s.setRowSelection(a=>{var h;if(o=typeof o<"u"?o:!n,e.getCanSelect()&&n===o)return a;const d={...a};return Dn(d,e.id,o,(h=l==null?void 0:l.selectChildren)!=null?h:!0,s),d})},e.getIsSelected=()=>{const{rowSelection:o}=s.getState();return Zn(e,o)},e.getIsSomeSelected=()=>{const{rowSelection:o}=s.getState();return On(e,o)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:o}=s.getState();return On(e,o)==="all"},e.getCanSelect=()=>{var o;return typeof s.options.enableRowSelection=="function"?s.options.enableRowSelection(e):(o=s.options.enableRowSelection)!=null?o:!0},e.getCanSelectSubRows=()=>{var o;return typeof s.options.enableSubRowSelection=="function"?s.options.enableSubRowSelection(e):(o=s.options.enableSubRowSelection)!=null?o:!0},e.getCanMultiSelect=()=>{var o;return typeof s.options.enableMultiRowSelection=="function"?s.options.enableMultiRowSelection(e):(o=s.options.enableMultiRowSelection)!=null?o:!0},e.getToggleSelectedHandler=()=>{const o=e.getCanSelect();return l=>{var n;o&&e.toggleSelected((n=l.target)==null?void 0:n.checked)}}}},Dn=(e,s,o,l,n)=>{var a;const h=n.getRow(s,!0);o?(h.getCanMultiSelect()||Object.keys(e).forEach(d=>delete e[d]),h.getCanSelect()&&(e[s]=!0)):delete e[s],l&&(a=h.subRows)!=null&&a.length&&h.getCanSelectSubRows()&&h.subRows.forEach(d=>Dn(e,d.id,o,l,n))};function xn(e,s){const o=e.getState().rowSelection,l=[],n={},a=function(h,d){return h.map(p=>{var _;const g=Zn(p,o);if(g&&(l.push(p),n[p.id]=p),(_=p.subRows)!=null&&_.length&&(p={...p,subRows:a(p.subRows)}),g)return p}).filter(Boolean)};return{rows:a(s.rows),flatRows:l,rowsById:n}}function Zn(e,s){var o;return(o=s[e.id])!=null?o:!1}function On(e,s,o){var l;if(!((l=e.subRows)!=null&&l.length))return!1;let n=!0,a=!1;return e.subRows.forEach(h=>{if(!(a&&!n)&&(h.getCanSelect()&&(Zn(h,s)?a=!0:n=!1),h.subRows&&h.subRows.length)){const d=On(h,s);d==="all"?a=!0:(d==="some"&&(a=!0),n=!1)}}),n?"all":a?"some":!1}const An=/([0-9]+)/gm,Gh=(e,s,o)=>Ls(Kt(e.getValue(o)).toLowerCase(),Kt(s.getValue(o)).toLowerCase()),$h=(e,s,o)=>Ls(Kt(e.getValue(o)),Kt(s.getValue(o))),jh=(e,s,o)=>Vn(Kt(e.getValue(o)).toLowerCase(),Kt(s.getValue(o)).toLowerCase()),qh=(e,s,o)=>Vn(Kt(e.getValue(o)),Kt(s.getValue(o))),Wh=(e,s,o)=>{const l=e.getValue(o),n=s.getValue(o);return l>n?1:l<n?-1:0},Kh=(e,s,o)=>Vn(e.getValue(o),s.getValue(o));function Vn(e,s){return e===s?0:e>s?1:-1}function Kt(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function Ls(e,s){const o=e.split(An).filter(Boolean),l=s.split(An).filter(Boolean);for(;o.length&&l.length;){const n=o.shift(),a=l.shift(),h=parseInt(n,10),d=parseInt(a,10),p=[h,d].sort();if(isNaN(p[0])){if(n>a)return 1;if(a>n)return-1;continue}if(isNaN(p[1]))return isNaN(h)?-1:1;if(h>d)return 1;if(d>h)return-1}return o.length-l.length}const Ae={alphanumeric:Gh,alphanumericCaseSensitive:$h,text:jh,textCaseSensitive:qh,datetime:Wh,basic:Kh},Yh={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:xt("sorting",e),isMultiSortEvent:s=>s.shiftKey}),createColumn:(e,s)=>{e.getAutoSortingFn=()=>{const o=s.getFilteredRowModel().flatRows.slice(10);let l=!1;for(const n of o){const a=n==null?void 0:n.getValue(e.id);if(Object.prototype.toString.call(a)==="[object Date]")return Ae.datetime;if(typeof a=="string"&&(l=!0,a.split(An).length>1))return Ae.alphanumeric}return l?Ae.text:Ae.basic},e.getAutoSortDir=()=>{const o=s.getFilteredRowModel().flatRows[0];return typeof(o==null?void 0:o.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var o,l;if(!e)throw new Error;return bi(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(o=(l=s.options.sortingFns)==null?void 0:l[e.columnDef.sortingFn])!=null?o:Ae[e.columnDef.sortingFn]},e.toggleSorting=(o,l)=>{const n=e.getNextSortingOrder(),a=typeof o<"u"&&o!==null;s.setSorting(h=>{const d=h==null?void 0:h.find(S=>S.id===e.id),p=h==null?void 0:h.findIndex(S=>S.id===e.id);let _=[],g,y=a?o:n==="desc";if(h!=null&&h.length&&e.getCanMultiSort()&&l?d?g="toggle":g="add":h!=null&&h.length&&p!==h.length-1?g="replace":d?g="toggle":g="replace",g==="toggle"&&(a||n||(g="remove")),g==="add"){var x;_=[...h,{id:e.id,desc:y}],_.splice(0,_.length-((x=s.options.maxMultiSortColCount)!=null?x:Number.MAX_SAFE_INTEGER))}else g==="toggle"?_=h.map(S=>S.id===e.id?{...S,desc:y}:S):g==="remove"?_=h.filter(S=>S.id!==e.id):_=[{id:e.id,desc:y}];return _})},e.getFirstSortDir=()=>{var o,l;return((o=(l=e.columnDef.sortDescFirst)!=null?l:s.options.sortDescFirst)!=null?o:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=o=>{var l,n;const a=e.getFirstSortDir(),h=e.getIsSorted();return h?h!==a&&((l=s.options.enableSortingRemoval)==null||l)&&(!(o&&(n=s.options.enableMultiRemove)!=null)||n)?!1:h==="desc"?"asc":"desc":a},e.getCanSort=()=>{var o,l;return((o=e.columnDef.enableSorting)!=null?o:!0)&&((l=s.options.enableSorting)!=null?l:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var o,l;return(o=(l=e.columnDef.enableMultiSort)!=null?l:s.options.enableMultiSort)!=null?o:!!e.accessorFn},e.getIsSorted=()=>{var o;const l=(o=s.getState().sorting)==null?void 0:o.find(n=>n.id===e.id);return l?l.desc?"desc":"asc":!1},e.getSortIndex=()=>{var o,l;return(o=(l=s.getState().sorting)==null?void 0:l.findIndex(n=>n.id===e.id))!=null?o:-1},e.clearSorting=()=>{s.setSorting(o=>o!=null&&o.length?o.filter(l=>l.id!==e.id):[])},e.getToggleSortingHandler=()=>{const o=e.getCanSort();return l=>{o&&(l.persist==null||l.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?s.options.isMultiSortEvent==null?void 0:s.options.isMultiSortEvent(l):!1))}}},createTable:e=>{e.setSorting=s=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(s),e.resetSorting=s=>{var o,l;e.setSorting(s?[]:(o=(l=e.initialState)==null?void 0:l.sorting)!=null?o:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},Xh=[gh,Fh,Dh,Oh,yh,wh,Bh,Nh,Yh,kh,Hh,Zh,Vh,Uh,Ih];function Jh(e){var s,o;const l=[...Xh,...(s=e._features)!=null?s:[]];let n={_features:l};const a=n._features.reduce((x,S)=>Object.assign(x,S.getDefaultOptions==null?void 0:S.getDefaultOptions(n)),{}),h=x=>n.options.mergeOptions?n.options.mergeOptions(a,x):{...a,...x};let p={...{},...(o=e.initialState)!=null?o:{}};n._features.forEach(x=>{var S;p=(S=x.getInitialState==null?void 0:x.getInitialState(p))!=null?S:p});const _=[];let g=!1;const y={_features:l,options:{...a,...e},initialState:p,_queue:x=>{_.push(x),g||(g=!0,Promise.resolve().then(()=>{for(;_.length;)_.shift()();g=!1}).catch(S=>setTimeout(()=>{throw S})))},reset:()=>{n.setState(n.initialState)},setOptions:x=>{const S=Wt(x,n.options);n.options=h(S)},getState:()=>n.options.state,setState:x=>{n.options.onStateChange==null||n.options.onStateChange(x)},_getRowId:(x,S,b)=>{var E;return(E=n.options.getRowId==null?void 0:n.options.getRowId(x,S,b))!=null?E:`${b?[b.id,S].join("."):S}`},getCoreRowModel:()=>(n._getCoreRowModel||(n._getCoreRowModel=n.options.getCoreRowModel(n)),n._getCoreRowModel()),getRowModel:()=>n.getPaginationRowModel(),getRow:(x,S)=>{let b=(S?n.getPrePaginationRowModel():n.getRowModel()).rowsById[x];if(!b&&(b=n.getCoreRowModel().rowsById[x],!b))throw new Error;return b},_getDefaultColumnDef:F(()=>[n.options.defaultColumn],x=>{var S;return x=(S=x)!=null?S:{},{header:b=>{const E=b.header.column.columnDef;return E.accessorKey?E.accessorKey:E.accessorFn?E.id:null},cell:b=>{var E,M;return(E=(M=b.renderValue())==null||M.toString==null?void 0:M.toString())!=null?E:null},...n._features.reduce((b,E)=>Object.assign(b,E.getDefaultColumnDef==null?void 0:E.getDefaultColumnDef()),{}),...x}},B(e,"debugColumns")),_getColumnDefs:()=>n.options.columns,getAllColumns:F(()=>[n._getColumnDefs()],x=>{const S=function(b,E,M){return M===void 0&&(M=0),b.map(k=>{const I=mh(n,k,M,E),D=k;return I.columns=D.columns?S(D.columns,I,M+1):[],I})};return S(x)},B(e,"debugColumns")),getAllFlatColumns:F(()=>[n.getAllColumns()],x=>x.flatMap(S=>S.getFlatColumns()),B(e,"debugColumns")),_getAllFlatColumnsById:F(()=>[n.getAllFlatColumns()],x=>x.reduce((S,b)=>(S[b.id]=b,S),{}),B(e,"debugColumns")),getAllLeafColumns:F(()=>[n.getAllColumns(),n._getOrderColumnsFn()],(x,S)=>{let b=x.flatMap(E=>E.getLeafColumns());return S(b)},B(e,"debugColumns")),getColumn:x=>n._getAllFlatColumnsById()[x]};Object.assign(n,y);for(let x=0;x<n._features.length;x++){const S=n._features[x];S==null||S.createTable==null||S.createTable(n)}return n}function Qh(){return e=>F(()=>[e.options.data],s=>{const o={rows:[],flatRows:[],rowsById:{}},l=function(n,a,h){a===void 0&&(a=0);const d=[];for(let _=0;_<n.length;_++){const g=vh(e,e._getRowId(n[_],_,h),n[_],_,a,void 0,h==null?void 0:h.id);if(o.flatRows.push(g),o.rowsById[g.id]=g,d.push(g),e.options.getSubRows){var p;g.originalSubRows=e.options.getSubRows(n[_],_),(p=g.originalSubRows)!=null&&p.length&&(g.subRows=l(g.originalSubRows,a+1,g))}}return d};return o.rows=l(s),o},B(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Rr(e,s){return e?tc(e)?H.createElement(e,s):e:null}function tc(e){return ec(e)||typeof e=="function"||ic(e)}function ec(e){return typeof e=="function"&&(()=>{const s=Object.getPrototypeOf(e);return s.prototype&&s.prototype.isReactComponent})()}function ic(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function nc(e){const s={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[o]=H.useState(()=>({current:Jh(s)})),[l,n]=H.useState(()=>o.current.initialState);return o.current.setOptions(a=>({...a,...e,state:{...l,...e.state},onStateChange:h=>{n(h),e.onStateChange==null||e.onStateChange(h)}})),o.current}function oc(){const{data:e=[],isLoading:s}=Ja({queryKey:["users"],queryFn:async()=>(await(await fetch(`${Qa}/fieldmappings`,{headers:new Headers({"content-type":"application/json",Authorization:`Bearer ${localStorage.getItem("access_token")}`})})).json()).data.records});console.log(e);const l=nc({data:e,columns:[{header:"S NO",accessorKey:"id",cell:n=>{m}},{header:"Field Name",accessorKey:"field_name"},{header:"Geographical Area",accessorKey:"field_area"},{header:"Created on",accessorKey:"created_at",cell:n=>{const a=n.cell.getValue();return new Date(a).toLocaleString("en-IN",{timeZone:"Asia/Kolkata",day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})}},{header:"Status",accessorKey:"field_status"},{header:"Action",accessorKey:"action"}],getCoreRowModel:Qh()});return O.jsx("div",{children:O.jsxs("table",{className:"min-w-full",children:[O.jsx("thead",{children:l.getHeaderGroups().map(n=>O.jsx("tr",{children:n.headers.map(a=>O.jsx("th",{className:"border p-0.5 bg-gray-100 text-xs text-center",children:Rr(a.column.columnDef.header,a.getContext())},a.id))},n.id))}),O.jsx("tbody",{children:l.getRowModel().rows.map(n=>O.jsx("tr",{children:n.getVisibleCells().map(a=>O.jsx("td",{className:"border p-1 text-center text-xs",style:{backgroundColor:"#ffff"},children:Rr(a.column.columnDef.cell,a.getContext())},a.id))},n.id))})]})})}function rc({setField:e}){const[s,o]=H.useState([]),[l,n]=H.useState(null),[a,h]=H.useState(null),[d,p]=H.useState("idle"),[_,g]=H.useState(null);return O.jsxs("div",{className:"flex",children:[O.jsx(dh,{setFormCoordinates:o,setFieldAccessPoint:n,setRobotHome:h,mode:d,setMode:p,setLocationInfo:g}),O.jsx(sc,{setField:e,formCoordinates:s,fieldAccessPoint:l,robotHome:a,setMode:p,locationInfo:_})]})}function sc({setField:e,formCoordinates:s,fieldAccessPoint:o,robotHome:l,setMode:n,locationInfo:a}){const h=Ka({defaultValues:{type:"",field_name:"",farm:""},onSubmit:async({value:d})=>{const p={field_name:d.field_name,field_boundary:s,location:(a==null?void 0:a.location)||"",field_area:(a==null?void 0:a.area)||"",field_access_point:o,robot_home:l};await fetch("https://demetercloud.onrender.com/v1.0/fieldmapping",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("access_token")}`},body:JSON.stringify(p)}),console.log(p)}});return O.jsxs("div",{children:[O.jsx("form",{onSubmit:d=>{h.handleSubmit(d),d.preventDefault(),d.stopPropagation()},className:"h-125 w-78 shadow-2xl rounded-xl float-right",children:O.jsxs("div",{className:"flex flex-col p-2 gap-2",children:[O.jsx("h1",{className:"text-sm font-semibold text-center mb-4",children:"Register Field"}),O.jsxs("div",{children:[O.jsx("label",{className:"text-[10px]",children:"Field Name"})," ",O.jsx("br",{}),O.jsx(h.Field,{name:"field_name",children:d=>O.jsx("input",{value:d.state.value,onChange:p=>d.handleChange(p.target.value),className:" bg-gray-100 rounded w-74 p-1.5 text-xs",required:!0})})]}),O.jsxs("div",{className:"flex justify-between text-[12px] mt-3 font-semibold",children:[O.jsx("span",{children:"Geographical Area"}),O.jsxs("span",{className:"rounded pl-2 pr-2 text-xs text-red-400 bg-red-200",children:[(a==null?void 0:a.area)||0,O.jsx("span",{className:"text-black",children:" Hectars"})]})]})," ",O.jsx("br",{}),O.jsxs("div",{className:"mb-2",children:[O.jsx("label",{className:"text-[10px]",children:"Field Access point"}),O.jsx("br",{}),O.jsx("button",{type:"button",style:{cursor:"pointer"},className:"rounded px-2 pt-1 pb-1 text-xs bg-green-200",onClick:()=>{n("field_access_point"),Ya.info("Click on the map to place Field Access Point",{position:"top-right",autoClose:2e3,style:{fontSize:"12px",color:"#065f46",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}})},children:"+ Add"})]}),O.jsxs("div",{className:"mb-2",children:[O.jsx("label",{className:"text-[10px]",children:"Robot Home"}),O.jsx("br",{}),O.jsx("button",{type:"button",style:{cursor:"pointer"},className:"rounded px-2 pt-1 pb-1 text-xs bg-green-200",onClick:()=>{n("robot_home")},children:"+ Add"})]}),O.jsxs("div",{className:"flex ",children:[O.jsx("div",{className:"border-1 rounded pl-2 pr-2 text-sm  ",children:O.jsx("button",{type:"button",onClick:()=>e(!1),style:{cursor:"pointer"},children:"Cancel"})}),O.jsx("div",{className:"rounded pl-3 pr-3 text-sm bg-green-400",children:O.jsx("button",{type:"submit",style:{cursor:"pointer"},children:"Save"})})]})]})}),O.jsx(Xa,{})]})}const Tc=function(){const[s,o]=H.useState(!1);return O.jsx("div",{children:s?O.jsx(rc,{setField:o}):O.jsxs(O.Fragment,{children:[O.jsx("button",{className:"rounded px-2 mt-0.5 mb-1 py-1 text-[10px] bg-[#0ed78d] text-center text-white cursor-pointer float-right",onClick:()=>{o(!0)},children:"+ Add Field"}),O.jsx(oc,{})]})})};export{Tc as component};
